(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-clerk-clerk"],{"1d60":function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".text-center[data-v-6e34b418]{text-align:center}.font-weight[data-v-6e34b418]{font-weight:700}.page-width[data-v-6e34b418]{width:100%}.goods-hover-class[data-v-6e34b418]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-6e34b418]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-6e34b418]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-6e34b418]{width:100%}.u-hover-class[data-v-6e34b418]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-6e34b418]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-form-data .goods-form[data-v-6e34b418]{border-top:%?2?% solid #e2e2e2;margin-top:%?20?%}.app-form-data .goods-form.more[data-v-6e34b418]{border-top:0;margin-top:%?10?%}.app-form-data .form-img[data-v-6e34b418]{height:%?120?%;width:%?120?%;margin-right:%?10?%;margin-top:%?10?%}.app-form-data .price-label[data-v-6e34b418]{color:#999;margin-right:%?10?%}.app-form-data .price-item[data-v-6e34b418]{margin-bottom:%?10?%;font-size:%?24?%;color:#353535}.app-form-data .goods[data-v-6e34b418]{height:%?160?%;margin-top:%?24?%;position:relative;font-size:%?24?%;color:#353535;margin-bottom:%?24?%}.app-form-data .goods .goods-img[data-v-6e34b418]{height:%?160?%;width:%?160?%;float:left;margin-right:%?20?%;border-radius:%?4?%}.app-form-data .goods .goods-attr[data-v-6e34b418]{font-size:%?24?%;color:#999;width:70%;position:absolute;width:70%;top:%?78?%;left:%?180?%}.app-form-data .goods .goods-attr uni-text[data-v-6e34b418]{margin-right:%?20?%}.app-form-data .goods .goods-num[data-v-6e34b418]{font-size:%?24?%;color:#999;position:absolute;top:%?126?%;left:%?180?%}.app-form-data .goods .goods-price[data-v-6e34b418]{font-size:%?24?%;color:#353535;position:absolute;bottom:0;right:0}body.?%PAGE?%[data-v-6e34b418]{background:#f7f7f7}",""])},"21a6":function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("c5f6");var o=a(i("88e8")),r={name:"app-order-goods-info",data:function(){return{}},props:{order:Object,goods:{type:Object,default:{}},plugin:{type:String,default:""},isLastOne:{type:Boolean,default:!0},pluginData:{type:Object,default:{}},pluginIndex:{type:Number,default:0},type:{type:Number,default:1},position:{type:String,default:"order"},order_detail_id:[Number,String]},components:{formGoodsTime:o.default},methods:{toForm:function(e){this.order_detail_id&&uni.navigateTo({url:"/plugins/diy/detail/detail?order_detail_id="+this.order_detail_id})}}};t.default=r},2444:function(e,t,i){"use strict";i.r(t);var a=i("a2c1"),o=i("ef5d");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("729d");var n,s=i("f0c5"),d=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"6e6cf2c0",null,!1,a["a"],n);t["default"]=d.exports},3953:function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".text-center[data-v-6e6cf2c0]{text-align:center}.font-weight[data-v-6e6cf2c0]{font-weight:700}.page-width[data-v-6e6cf2c0]{width:100%}.goods-hover-class[data-v-6e6cf2c0]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-6e6cf2c0]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-6e6cf2c0]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-6e6cf2c0]{width:100%}.u-hover-class[data-v-6e6cf2c0]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-6e6cf2c0]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.info-title[data-v-6e6cf2c0]{font-size:%?24?%;color:#353535;margin-bottom:%?20?%}.bg[data-v-6e6cf2c0]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.3);z-index:1000}.bg .dialog[data-v-6e6cf2c0]{margin-top:%?-100?%;width:%?630?%;background-color:#fff;padding-top:%?40?%;border-radius:%?16?%;font-size:%?32?%;color:#353535;text-align:center}.bg .dialog .dialog-content[data-v-6e6cf2c0]{margin:%?40?%}.bg .dialog .dialog-btn[data-v-6e6cf2c0]{color:#ff4544;height:%?88?%;line-height:%?88?%;border-top:%?1?% solid #e2e2e2}.bg .remark-dialog[data-v-6e6cf2c0]{margin-top:%?-100?%;padding-top:%?32?%;background-color:#fff;border-radius:%?16?%;font-size:%?32?%;color:#353535}.bg .remark-dialog .title[data-v-6e6cf2c0]{text-align:center;font-size:%?32?%;margin-top:%?8?%;margin-bottom:%?32?%}.bg .remark-dialog .textarea[data-v-6e6cf2c0]{width:%?556?%;height:%?300?%;border:%?1?% solid #e2e2e2;border-radius:%?16?%;padding:%?24?% %?32?%;margin:0 %?32?%}.bg .remark-dialog .bottom-box[data-v-6e6cf2c0]{height:%?88?%;border-top:%?1?% solid #e2e2e2;margin-top:%?32?%;padding:%?20?% 0}.bg .remark-dialog .bottom-box .cancel-text[data-v-6e6cf2c0]{font-size:%?34?%;color:#666;width:0}.bg .remark-dialog .bottom-box .clerk-text[data-v-6e6cf2c0]{font-size:%?34?%;color:#ff4544;width:0;border-left:%?1?% solid #e2e2e2}.clerk-box[data-v-6e6cf2c0]{position:absolute;width:100%;height:100%}.remark-box[data-v-6e6cf2c0]{margin-top:%?14?%}.action-box[data-v-6e6cf2c0]{position:fixed;background-color:#fff;height:%?140?%;padding:%?30?%;bottom:0;width:100%;z-index:999}.action-box .btn[data-v-6e6cf2c0]{background-color:#ff4544;color:#fff;z-index:999;width:100%;font-size:%?32?%;height:%?88?%;line-height:%?88?%;border-radius:%?44?%}.action-box .no-clerk-permission[data-v-6e6cf2c0]{background-color:#b2b2b2}.action-box .btn[data-v-6e6cf2c0]::after{border:0}.action-box .clerk-text[data-v-6e6cf2c0]{font-size:%?36?%;height:100%;color:#666}.action-box .left-box[data-v-6e6cf2c0]{margin-right:%?20?%}.action-box .left-box .edit-icon[data-v-6e6cf2c0]{width:%?30?%;height:%?30?%;margin-bottom:%?10?%}.action-box .left-box .edit-remark[data-v-6e6cf2c0]{font-size:%?28?%;color:#999}.order-info[data-v-6e6cf2c0]{width:%?702?%;margin:%?24?%;background-color:#fff;border-radius:%?16?%;padding:%?24?%;font-size:%?28?%;color:#353535}.order-info .number[data-v-6e6cf2c0]{margin:0 %?10?%;font-size:%?22?%}.order-info.form-data[data-v-6e6cf2c0]{margin-bottom:%?24?%}.line[data-v-6e6cf2c0]{height:%?1?%;width:%?654?%;background-color:#e2e2e2;margin:%?22?% 0}.info-label[data-v-6e6cf2c0]{color:#999}.goods-box[data-v-6e6cf2c0]{width:%?702?%;margin:0 %?24?%;background-color:#fff;border-radius:%?16?%;padding:%?24?%;font-size:%?28?%;color:#353535}.order-price-box[data-v-6e6cf2c0]{border-top:%?1?% solid #e2e2e2;margin-top:%?24?%;padding:%?20?% 0 %?6?%;font-size:%?28?%;color:#353535;border-bottom-left-radius:%?16?%;border-bottom-right-radius:%?16?%;background-color:#fff}.order-price-box .price[data-v-6e6cf2c0]{font-size:%?28?%;color:#ff4544}.bg[data-v-6e6cf2c0]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.3);z-index:1000}.dialog[data-v-6e6cf2c0]{width:%?630?%;background-color:#fff;padding-top:%?40?%;border-radius:%?16?%;font-size:%?32?%;color:#353535;text-align:center}.dialog-content[data-v-6e6cf2c0]{margin:%?40?%}.dialog-btn[data-v-6e6cf2c0]{color:#ff4544;height:%?88?%;line-height:%?88?%;border-top:%?1?% solid #e2e2e2}.dialog-btn .view1[data-v-6e6cf2c0]{color:#353535;width:50%}.dialog-btn .view2[data-v-6e6cf2c0]{height:%?45?%;width:%?1?%;background-color:#e2e2e2}.dialog-btn .view3[data-v-6e6cf2c0]{width:50%}body.?%PAGE?%[data-v-6e6cf2c0]{background:#f7f7f7}",""])},"441a":function(e,t,i){"use strict";i.r(t);var a=i("a00e"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},4626:function(e,t,i){"use strict";i.r(t);var a=i("94ba"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},"4e01":function(e,t,i){"use strict";i.r(t);var a=i("864b"),o=i("f09e");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("50a7");var n,s=i("f0c5"),d=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"21563de6",null,!1,a["a"],n);t["default"]=d.exports},"50a7":function(e,t,i){"use strict";var a=i("68b9"),o=i.n(a);o.a},"68b9":function(e,t,i){var a=i("ccaa");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("8d36ba5e",a,!0,{sourceMap:!1,shadowMode:!1})},"729d":function(e,t,i){"use strict";var a=i("f8bf"),o=i.n(a);o.a},"74a9":function(e,t,i){"use strict";i.r(t);var a=i("bb8e"),o=i("441a");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("96ed");var n,s=i("f0c5"),d=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"6e34b418",null,!1,a["a"],n);t["default"]=d.exports},"864b":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"app-order-goods-info"},[i("form-goods-time",{attrs:{value:e.goods.goods_attr.select_date}}),i("v-uni-view",{staticClass:"dir-left-nowrap item-box",style:{"margin-bottom":e.isLastOne?"24rpx":0}},[i("v-uni-image",{staticClass:"img box-grow-0",attrs:{mode:"aspectFill",src:e.goods.pic_url}}),i("v-uni-view",{staticClass:"box-grow-1"},[i("v-uni-view",{staticClass:"goods-name",style:{"-webkit-line-clamp":1==e.type?2:1}},[e._v(e._s(e.goods.name))]),i("v-uni-view",{staticClass:"attr",style:{"-webkit-line-clamp":e.type}},[e._v("规格："),e._l(e.goods.attr_list,(function(t){return i("v-uni-text",{key:t.id},[e._v(e._s(t.attr_name))])}))],2),i("v-uni-view",{staticClass:"dir-left-nowrap"},[i("v-uni-view",{staticClass:"box-grow-1 goods-num"},[e._v("x"+e._s(e.goods.num))]),"composition"==e.plugin?i("v-uni-view",{staticClass:"box-grow-0"},[i("v-uni-view",{staticClass:"main-right price delete-price"},[e._v("￥"+e._s(e.goods.total_price))])],1):"weekly_buy"==e.plugin?i("v-uni-view",{staticClass:"box-grow-0"},[i("v-uni-view",{staticClass:"main-right price",staticStyle:{color:"#FF812D"}},[e._v("x"+e._s(e.pluginData.extra.weekly_buy.week_number)+"期")])],1):i("v-uni-view",{staticClass:"box-grow-0 dir-left-nowrap"},[e.pluginData&&e.pluginData.exchange_list&&e.pluginData.exchange_list.length?i("v-uni-view",{staticClass:"price"},[e._v(e._s(e.pluginData.exchange_list[e.pluginIndex].value)+e._s(e.pluginData.price_name)+"+")]):e._e(),i("v-uni-view",{staticClass:"main-right price"},[e._v("￥"+e._s(e.pluginData.price_list?e.pluginData.price_list[e.pluginIndex].value:e.goods.total_price))])],1)],1),e.order&&1==e.order.customization_status?i("v-uni-view",{staticClass:"main-center cross-center form-g",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toForm(e.goods)}}},[e._v(e._s(e.order.btn_name))]):e._e(),"composition"==e.plugin?i("v-uni-view",{staticClass:"composition-price"},[e._v("搭配套餐价"),i("v-uni-text",[e._v("￥"+e._s(e.goods.total_price))])],1):e._e()],1)],1)],1)},r=[]},"88e8":function(e,t,i){"use strict";i.r(t);var a=i("8e49"),o=i("4626");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);var n,s=i("f0c5"),d=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"ef56db5e",null,!1,a["a"],n);t["default"]=d.exports},"8e49":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"form-goods-time"},[e.value&&e.value.day?i("v-uni-view",{staticClass:"dir-left-nowrap cross-center",staticStyle:{"padding-bottom":"16rpx","font-size":"24rpx"}},[i("v-uni-view",[e._v("预约时间：")]),1==e.value.is_alone?i("v-uni-view",[e._v(e._s(e.value.new_before))]):e._e(),0==e.value.is_alone?i("v-uni-view",[e._v(e._s(e.value.new_before)+"-"+e._s(e.value.new_after)+"   共"+e._s(e.value.day)+e._s(e.value.place_unit))]):e._e()],1):e._e()],1)},r=[]},"94ba":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"form-goods-time",props:{value:Object},data:function(){return{}},methods:{}};t.default=a},"96ed":function(e,t,i){"use strict";var a=i("bbec"),o=i.n(a);o.a},a00e:function(e,t,i){"use strict";function a(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=o(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,d=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){d=!0,n=e},f:function(){try{s||null==i.return||i.return()}finally{if(d)throw n}}}}function o(e,t){if(e){if("string"===typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("7f7f"),i("6b54"),i("87b3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac6a"),i("8615");var n={props:{order:{type:Object}},data:function(){return{detail:this.order}},computed:{formList:function(){var e=this,t=e.detail.detail,i={},o=[];if(t&&t.length){var r,n=a(t);try{for(n.s();!(r=n.n()).done;){var s=r.value;"0"!=s.form_id&&(-1===o.indexOf(s.form_id)?(o.push(s.form_id),i[s.form_id]=[s]):i[s.form_id].push(s))}}catch(l){n.e(l)}finally{n.f()}}var d=Object.values(i);return this.$emit("show",d),d}},watch:{order:{handler:function(e){this.detail=e},deep:!0}},methods:{imageLoad:function(e){this.order.order_form[e].loadOver=!1},look:function(e){uni.previewImage({current:e,urls:[e]})},imageFormLoad:function(e,t){this.order.detail[e].form_data[t].loadOver=!1}}};t.default=n},a2c1:function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("app-layout",[e.is_show?i("v-uni-view",{staticClass:"clerk-box"},[i("v-uni-view",{staticClass:"order-info"},[i("v-uni-view",{staticClass:"dir-left-nowrap"},[i("v-uni-view",{staticClass:"info-label"},[e._v("收货人：")]),i("v-uni-view",[i("v-uni-view",[e._v(e._s(e.orderDetail.name))])],1)],1),i("v-uni-view",{staticClass:"dir-left-nowrap"},[i("v-uni-view",{staticClass:"info-label"},[e._v("联系方式：")]),i("v-uni-view",[i("v-uni-view",[e._v(e._s(e.orderDetail.mobile))])],1)],1),i("v-uni-view",{staticClass:"line"}),i("v-uni-view",[i("v-uni-text",{staticClass:"info-label"},[e._v("下单时间：")]),e._v(e._s(e.orderDetail.created_at))],1),e.orderDetail.remark?i("v-uni-view",{staticClass:"remark-box"},[i("v-uni-text",{staticClass:"info-label"},[e._v("买家留言：")]),e._v(e._s(e.orderDetail.remark))],1):e._e(),"weekly_buy"==e.orderDetail.sign?i("v-uni-view",{staticClass:"line"}):e._e(),"weekly_buy"==e.orderDetail.sign&&e.orderDetail.plugin_data&&e.orderDetail.plugin_data.extra&&e.orderDetail.plugin_data.extra.weekly_buy&&e.orderDetail.plugin_data.extra.weekly_buy.now_express?i("v-uni-view",{staticClass:"remark-box"},[i("v-uni-text",{staticClass:"info-label"},[e._v("当前期数：")]),e._v("第"+e._s(e.orderDetail.plugin_data.extra.weekly_buy.now_express.week_number)+"期")],1):e._e()],1),i("v-uni-view",{staticClass:"goods-box"},e._l(e.orderDetail.detail,(function(t){return i("v-uni-view",{key:t.id,style:{"margin-top":0==e.index?"0":"24rpx"}},[i("app-jump-button",{attrs:{url:t.goods_info.page_url}},[i("app-order-goods-info",{staticStyle:{width:"100%"},attrs:{position:"clerk",order:e.orderDetail,order_detail_id:t.id,goods:t.goods_info}})],1)],1)})),1),i("v-uni-view",{staticClass:"order-info dir-top-nowrap"},[i("v-uni-view",{staticClass:"dir-left-nowrap item"},[i("v-uni-view",{staticClass:"box-grow-1 info-label"},[e._v("商品总额")]),i("v-uni-view",{staticClass:"box-grow-0"},[e._v("￥"+e._s(e.orderDetail.total_goods_price))])],1),i("v-uni-view",{staticClass:"dir-left-nowrap item"},[i("v-uni-view",{staticClass:"box-grow-1 info-label"},[e._v("商品总数")]),"weekly_buy"!=e.orderDetail.sign?i("v-uni-view",{staticClass:"box-grow-0"},[e._v("x"+e._s(e.orderDetail.goods_num))]):i("v-uni-view",{staticClass:"box-grow-0"},[e._v(e._s(e.orderDetail.goods_num)),"weekly_buy"==e.orderDetail.sign&&e.orderDetail.plugin_data&&e.orderDetail.plugin_data.extra&&e.orderDetail.plugin_data.extra.weekly_buy?i("v-uni-text",[i("v-uni-text",{staticClass:"number"},[e._v("x")]),e._v(e._s(e.orderDetail.plugin_data.extra.weekly_buy.origin_week_number)+"期")],1):e._e()],1)],1),e.orderDetail.integral_deduction_price>0?i("v-uni-view",{staticClass:"dir-left-nowrap item"},[i("v-uni-view",{staticClass:"box-grow-1 info-label"},[e._v("积分抵扣")]),i("v-uni-view",{staticClass:"box-grow-0"},[e._v("-￥"+e._s(e.orderDetail.integral_deduction_price))])],1):e._e(),e.orderDetail.coupon_discount_price>0?i("v-uni-view",{staticClass:"dir-left-nowrap item"},[i("v-uni-view",{staticClass:"box-grow-1 info-label"},[e._v("优惠券优惠")]),i("v-uni-view",{staticClass:"box-grow-0"},[e._v("-￥"+e._s(e.orderDetail.coupon_discount_price))])],1):e._e(),i("v-uni-view",{staticClass:"dir-left-nowrap item"},[i("v-uni-view",{staticClass:"box-grow-1 info-label"},[e._v("运费")]),i("v-uni-view",{staticClass:"box-grow-0"},[e._v("￥"+e._s(e.orderDetail.express_price)),"weekly_buy"==e.orderDetail.sign&&e.orderDetail.plugin_data&&e.orderDetail.plugin_data.extra&&e.orderDetail.plugin_data.extra.weekly_buy?i("v-uni-text",[i("v-uni-text",{staticClass:"number"},[e._v("x")]),e._v(e._s(e.orderDetail.plugin_data.extra.weekly_buy.origin_week_number)+"期")],1):e._e()],1)],1),e.orderDetail.words?i("v-uni-view",{staticClass:"dir-top-nowrap item"},[i("v-uni-view",{staticClass:"box-grow-1 info-label"},[e._v("商家留言:")]),i("v-uni-view",{staticClass:"box-grow-0 t-extra-small-color"},[e._v(e._s(e.orderDetail.words))])],1):e._e(),i("v-uni-view",{staticClass:"order-price-box cross-center dir-right-nowrap"},[i("v-uni-view",[e._v("合计:"),i("v-uni-text",{staticClass:"price"},[e._v("￥"),i("v-uni-text",[e._v(e._s(e.orderDetail.total_pay_price))])],1)],1)],1)],1),e.orderDetail.id>0&&(e.haveForm||e.orderDetail.order_form.length>0)?i("v-uni-view",{staticClass:"order-info"},[i("app-form-data",{attrs:{order:e.orderDetail},on:{show:function(t){arguments[0]=t=e.$handleEvent(t),e.showForm.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"info-title"},[e._v("表单信息")])],1)],1):e._e(),i("v-uni-view",{staticStyle:{height:"140rpx",width:"100%"}}),i("v-uni-view",{staticClass:"action-box"},[0==e.orderDetail.is_pay?i("v-uni-view",[i("v-uni-button",{staticClass:"box-grow-0 btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clerkAffirmPay.apply(void 0,arguments)}}},[e._v("确认收款")])],1):i("v-uni-view",[1==e.orderDetail.is_pay&&0==e.orderDetail.clerk_id?i("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[e.orderDetail.is_clerk_permission?[i("v-uni-view",{staticClass:"dir-top-nowrap box-grow-0 cross-center left-box",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.orderClerkRemark.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"edit-icon",attrs:{src:e.clerkImg.edit}}),i("v-uni-view",{staticClass:"edit-remark"},[e._v("备注")])],1),i("v-uni-button",{staticClass:"box-grow-1 btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.orderClerk.apply(void 0,arguments)}}},[e._v("核销订单")])]:[i("v-uni-button",{staticClass:"btn no-clerk-permission"},[e._v("无该门店核销权限")])]],2):i("v-uni-view",{staticClass:"cross-center main-center clerk-text"},[e._v("订单已核销")])],1)],1)],1):e._e(),e.msg?i("v-uni-view",{staticClass:"bg cross-center main-center"},[i("v-uni-view",{staticClass:"dialog"},[i("v-uni-view",[e._v("提示")]),i("v-uni-view",{staticClass:"dialog-content"},[e._v("无核销权限")]),i("v-uni-view",{staticClass:"dialog-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toIndex.apply(void 0,arguments)}}},[e._v("确认")])],1)],1):e._e(),e.remarkClerk?i("v-uni-view",{staticClass:"bg cross-center main-center"},[i("v-uni-view",{staticClass:"remark-dialog"},[i("v-uni-view",{staticClass:"title"},[e._v("备注")]),i("v-uni-textarea",{staticClass:"textarea",attrs:{placeholder:"请输入核销备注"},model:{value:e.clerk_remark,callback:function(t){e.clerk_remark=t},expression:"clerk_remark"}}),i("v-uni-view",{staticClass:"dir-left-nowrap bottom-box"},[i("v-uni-view",{staticClass:"box-grow-1 cross-center main-center cancel-text",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.remarkClerk=!1}}},[e._v("取消")]),i("v-uni-view",{staticClass:"box-grow-1 cross-center main-center clerk-text",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.orderClerk.apply(void 0,arguments)}}},[e._v("核销订单")])],1)],1)],1):e._e()],1)},r=[]},bb8e:function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"app-form-data"},[e.formList&&e.formList.length?[e._t("default"),e._l(e.formList,(function(t,a){return i("v-uni-view",{key:a,class:["goods-form",0==a?"more":""]},[e._l(t,(function(t,a){return e.formList.length>1?i("v-uni-view",{key:a},[i("v-uni-view",{staticClass:"goods"},[i("v-uni-image",{staticClass:"goods-img",attrs:{src:t.goods_info.goods_attr.pic_url?t.goods_info.goods_attr.pic_url:t.goods_info.goods_attr.cover_pic}}),i("v-uni-view",{staticClass:"t-omit-two goods-name"},[e._v(e._s(t.goods_info.goods_attr.name))]),"goods"===t.goods_type?i("v-uni-view",{staticClass:"goods-attr t-omit"},e._l(t.attr_list,(function(t){return i("v-uni-text",{key:e.item.attr_id},[e._v(e._s(t.attr_group_name)+":"+e._s(t.attr_name))])})),1):e._e(),i("v-uni-view",{staticClass:"goods-num"},[e._v("x"+e._s(t.num))]),i("v-uni-view",{staticClass:"goods-price"},[e._v("￥"+e._s(t.total_original_price))])],1)],1):e._e()})),e._l(t[0]["form_data"],(function(t,o){return t.value?i("v-uni-view",{key:o,class:["img_upload"!==t.key?"dir-left-nowrap":"","price-item"]},[i("v-uni-view",{staticClass:"price-label"},[e._v(e._s(t.label)+":")]),"img_upload"===t.key?i("v-uni-view",[Array.isArray(t.value)?i("v-uni-view",[e._l(t.value,(function(r,n){return[r?i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:!t.loadOver,expression:"!item.loadOver"}],key:n+"_0",staticClass:"form-img",attrs:{src:r},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.imageFormLoad(a,o)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.look(r)}}}):e._e()]}))],2):i("v-uni-view",[t.value?i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:!t.loadOver,expression:"!item.loadOver"}],staticClass:"form-img",attrs:{src:t.value},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.imageFormLoad(a,o)},click:function(i){arguments[0]=i=e.$handleEvent(i),e.look(t.value)}}}):e._e()],1)],1):i("v-uni-view",{staticStyle:{"word-break":"break-all"}},[e._v(e._s(t.value))])],1):e._e()}))],2)}))]:e._e(),e.detail.order_form.length>0?i("v-uni-view",[e._t("default"),e._l(e.detail.order_form,(function(t,a){return t.value?i("v-uni-view",{key:a,class:["img_upload"!==t.key?"dir-left-nowrap":"","price-item"]},[i("v-uni-view",{staticClass:"price-label"},[e._v(e._s(t.label)+":")]),"img_upload"===t.key?i("v-uni-view",[Array.isArray(t.value)?i("v-uni-view",[e._l(t.value,(function(o,r){return[o?i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:!t.loadOver,expression:"!item.loadOver"}],key:r+"_0",staticClass:"form-img",attrs:{src:o},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.imageLoad(a)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.look(o)}}}):e._e()]}))],2):i("v-uni-view",[t.value?i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:!t.loadOver,expression:"!item.loadOver"}],staticClass:"form-img",attrs:{src:t.value},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.imageLoad(a)},click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.look(t.value)}}}):e._e()],1)],1):i("v-uni-view",{staticStyle:{"word-break":"break-all"}},[e._v(e._s(t.value))])],1):e._e()}))],2):e._e()],2)},r=[]},bbec:function(e,t,i){var a=i("1d60");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("9b522720",a,!0,{sourceMap:!1,shadowMode:!1})},ccaa:function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".text-center[data-v-21563de6]{text-align:center}.font-weight[data-v-21563de6]{font-weight:700}.page-width[data-v-21563de6]{width:100%}.goods-hover-class[data-v-21563de6]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-21563de6]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-21563de6]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-21563de6]{width:100%}.u-hover-class[data-v-21563de6]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-21563de6]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-order-goods-info[data-v-21563de6]{font-size:%?24?%;width:100%}.app-order-goods-info .form-g[data-v-21563de6]{font-size:%?26?%;color:#333;width:%?136?%;height:%?51?%;border:1px solid #999;border-radius:%?28?%;margin-top:%?12?%;margin-left:auto;line-height:1}.app-order-goods-info .img[data-v-21563de6]{width:%?160?%;height:%?160?%;margin-right:%?20?%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.app-order-goods-info .item-box[data-v-21563de6]{width:100%;margin-bottom:%?24?%}.app-order-goods-info .label[data-v-21563de6]{color:#999}.app-order-goods-info .price[data-v-21563de6]{color:#353535}.app-order-goods-info .price.delete-price[data-v-21563de6]{text-decoration:line-through}.app-order-goods-info .composition-price[data-v-21563de6]{text-align:right;font-size:%?22?%;color:#999}.app-order-goods-info .composition-price uni-text[data-v-21563de6]{font-size:%?28?%;color:#353535;margin-left:%?8?%}.app-order-goods-info .goods-num[data-v-21563de6]{font-size:%?24?%;color:#999}.app-order-goods-info .attr[data-v-21563de6]{width:%?450?%;margin:%?10?% 0;color:#999;font-size:%?24?%;word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.app-order-goods-info .attr uni-text[data-v-21563de6]{margin-right:%?10?%}.app-order-goods-info .goods-name[data-v-21563de6]{color:#353535;font-size:%?26?%;word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;white-space:normal}body.?%PAGE?%[data-v-21563de6]{background:#f7f7f7}",""])},d903:function(e,t,i){"use strict";var a=i("4ea4");i("8e6e"),i("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac6a");var o=a(i("bd86")),r=i("2f62"),n=a(i("4e01")),s=a(i("74a9"));function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,o.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c={components:{"app-order-goods-info":n.default,appFormData:s.default},data:function(){return{clerked:!1,haveForm:!0,id:null,orderDetail:{},clerk_remark:"",is_show:!1,msg:!1,remarkClerk:!1}},computed:l({},(0,r.mapState)({userInfo:function(e){return e.user.info},clerkImg:function(e){return e.mallConfig.__wxapp_img.clerk}})),methods:{showForm:function(e){this.haveForm=!(!e||!e.length)},toIndex:function(){uni.redirectTo({url:"/pages/index/index"})},getOrderDetail:function(){var e=this;this.$request({url:this.$api.order.detail,data:{id:this.id,action_type:1}}).then((function(t){e.$hideLoading(),e.is_show=!0,0===t.code&&(e.orderDetail=t.data.detail)})).catch((function(){e.$hideLoading()}))},IsClerk:function(){var e=this;this.$showLoading(),this.$request({url:this.$api.user.is_clerk,data:{clerk_id:this.userInfo.options.user_id}}).then((function(t){0===t.code&&(1==t.data.is_clerk_user?e.getOrderDetail():(e.$hideLoading(),e.msg=!0))})).catch((function(){e.$hideLoading()}))},clerkAffirmPay:function(){var e=this;uni.showModal({title:"提示",content:"确认已进行线下收款?",success:function(t){var i=this;t.confirm&&(uni.showLoading({title:"加载中"}),e.$request({url:e.$api.order.clerk_affirm_pay,data:{id:e.id,action_type:1}}).then((function(t){uni.hideLoading(),0===t.code?e.getOrderDetail():uni.showToast({title:t.msg,icon:"none"}),i.msg=t.data.msg})).catch((function(){uni.hideLoading()})))}})},orderClerk:function(){var e=this;if(e.remarkClerk&&(e.remarkClerk=!1),e.clerked)return!1;uni.showModal({content:"是否核销订单？",success:function(t){if(t.confirm){e.$showLoading();var i={id:e.id,action_type:1,plugin:e.orderDetail.sign,clerk_remark:e.clerk_remark};"weekly_buy"==e.orderDetail.sign&&e.orderDetail.plugin_data.extra.weekly_buy.express_list&&e.orderDetail.plugin_data.extra.weekly_buy.express_list.length>0&&(i.week_number=e.orderDetail.plugin_data.extra.weekly_buy.express_list[0].week_number),e.clerked=!0,e.$request({url:e.$api.order.order_clerk,data:i}).then((function(t){e.$hideLoading(),uni.showToast({title:t.msg,icon:"none",duration:1e3,success:function(){0===t.code&&setTimeout((function(){uni.redirectTo({url:"/plugins/clerk/order/order?status=1&type=1"})}),1e3)}})})).catch((function(){e.$hideLoading()}))}}})},orderClerkRemark:function(){this.remarkClerk=!0},closeDialog:function(){if("核销成功"==this.msg)if(this.msg="",this.is_clerk){var e,t=getCurrentPages();t.forEach((function(i,a){"plugins/clerk/order/order"===t[a].route&&(e=a)})),e>-1?(t[e]._num=1,uni.navigateBack({delta:t.length-1-e})):uni.redirectTo({url:"/plugins/clerk/order/order?status=1&type=1"})}else uni.redirectTo({url:"/pages/index/index"});else this.msg=""}},onLoad:function(e){this.$commonLoad.onload(e);var t=this;t.id=e.id;var i=setInterval((function(){t.userInfo&&(t.IsClerk(),clearInterval(i))}),500)}};t.default=c},ef5d:function(e,t,i){"use strict";i.r(t);var a=i("d903"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},f09e:function(e,t,i){"use strict";i.r(t);var a=i("21a6"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},f8bf:function(e,t,i){var a=i("3953");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("2d5d9a86",a,!0,{sourceMap:!1,shadowMode:!1})}}]);