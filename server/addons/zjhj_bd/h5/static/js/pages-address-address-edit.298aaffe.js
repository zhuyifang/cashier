(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-address-edit"],{"0fa7":function(t,e,a){"use strict";a.r(e);var i=a("e287"),n=a("67cd");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("36cf");var o,s=a("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"295b3188",null,!1,i["a"],o);e["default"]=d.exports},"160a":function(t,e,a){"use strict";a.r(e);var i=a("32f0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"184c":function(t,e,a){var i=a("76d5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("d3fcd3a4",i,!0,{sourceMap:!1,shadowMode:!1})},"1aee":function(t,e,a){e=t.exports=a("24fb")(!1);var i=a("b605"),n=i(a("db8d"));e.push([t.i,".text-center[data-v-295b3188]{text-align:center}.font-weight[data-v-295b3188]{font-weight:700}.page-width[data-v-295b3188]{width:100%}.goods-hover-class[data-v-295b3188]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-295b3188]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-295b3188]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-295b3188]{width:100%}.u-hover-class[data-v-295b3188]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-295b3188]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.automatic[data-v-295b3188]{height:%?234?%;padding:%?24?% %?32?% 0 %?24?%;background-color:#fff;position:relative}.automatic uni-button[data-v-295b3188]{position:absolute;right:%?30?%;bottom:%?30?%;width:%?150?%;height:%?60?%;padding:0;line-height:%?58?%;border-radius:%?8?%;border:%?1?% solid;font-size:%?26?%;background-color:rgba(0,0,0,0);margin:0;text-align:center}.automatic uni-textarea[data-v-295b3188]{height:%?120?%;width:100%;font-size:%?28?%;color:#353535}.automatic .place-automatic[data-v-295b3188]{font-size:%?26?%;color:#999}.popup[data-v-295b3188]{position:fixed;background:rgba(0,0,0,.5);padding:%?50?%;top:0;left:0;right:0;bottom:0;z-index:2000}.popup .textarea[data-v-295b3188]{width:100%;background:#fff;border:%?1?% solid #ccc;z-index:1;padding:%?24?%;border-radius:%?5?%}.popup .c[data-v-295b3188]{position:fixed;left:0;top:0;right:0;bottom:0;z-index:0}.h-100[data-v-295b3188]{height:100%}.app-button[data-v-295b3188]{margin:%?40?% %?24?%}.address-input[data-v-295b3188]{width:%?492?%;font-size:%?28?%;color:#353535}.area-left[data-v-295b3188]{padding-left:%?32?%;text-align:right;margin-left:auto}.app-view[data-v-295b3188]{background:#f7f7f7;padding:%?20?% %?24?% 0}.app-view>uni-view[data-v-295b3188]:first-of-type{border-top-left-radius:%?16?%;border-top-right-radius:%?16?%}.app-view>uni-view[data-v-295b3188]:last-of-type{border-bottom-left-radius:%?16?%;border-bottom-right-radius:%?16?%}.app-view .app-line[data-v-295b3188]{background-color:#fff;height:%?99?%;line-height:%?99?%;padding:0 %?30?%}.app-view .app-line.textarea[data-v-295b3188]{height:%?190?%;padding-top:%?20?%;line-height:1.5}.app-view .app-line.textarea uni-textarea[data-v-295b3188]{height:%?150?%}.app-view .app-line.textarea uni-text.app-text[data-v-295b3188]{height:%?150?%}.app-view .app-line uni-text.app-text[data-v-295b3188]{font-size:%?28?%;color:#353535;width:%?150?%}.app-view .app-border[data-v-295b3188]{border-bottom:%?1?% solid #e2e2e2}.app-view .c-address[data-v-295b3188]{padding-right:%?24?%;font-size:%?28?%;color:#353535}.app-view .icon-arrow-image[data-v-295b3188]{width:%?12?%;height:%?24?%;background-image:url("+n+");background-size:100% auto;background-repeat:no-repeat}.app-view .tip[data-v-295b3188]{padding:0 %?24?% %?24?% %?24?%;background:#fff;color:#b7b7b7}body.?%PAGE?%[data-v-295b3188]{background:#f7f7f7}",""])},"32a6":function(t,e,a){var i=a("241e"),n=a("c3a1");a("ce7e")("keys",(function(){return function(t){return n(i(t))}}))},"32f0":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"app-textarea",props:{value:{default:""},placeholder:{default:""},placeholderStyle:{type:[String,Array],default:function(){return""}},placeholderClass:{type:Array,default:function(){return[]}},disable:{default:!1},maxlength:{default:1e4},focus:{default:!1},confirmType:{default:"done"},showBorder:{default:!0},borderColor:{default:"#cccccc"},borderRadius:{default:8},fontSize:{default:32},color:{default:"#555"},background:{default:"#fff"},paddingX:{default:24},paddingY:{default:24},defaultValue:{default:""}},data:function(){return{showInput:!!this.focus,inValue:this.value?this.value:this.defaultValue}},methods:{handleInput:function(t){this.inValue=t.detail.value},complete:function(t){this.showInput=!1,this.$emit("input",this.inValue)}}};e.default=i},"36cf":function(t,e,a){"use strict";var i=a("92e1"),n=a.n(i);n.a},"47cb":function(t,e,a){"use strict";a.r(e);var i=a("e148"),n=a("160a");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("d336");var o,s=a("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"5ed876d8",null,!1,i["a"],o);e["default"]=d.exports},5286:function(t,e,a){"use strict";a.r(e);var i=a("940f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"52a0":function(t,e,a){"use strict";var i=a("184c"),n=a.n(i);n.a},"67cd":function(t,e,a){"use strict";a.r(e);var i=a("82ed"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"6e1d":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-5ed876d8]{text-align:center}.font-weight[data-v-5ed876d8]{font-weight:700}.page-width[data-v-5ed876d8]{width:100%}.goods-hover-class[data-v-5ed876d8]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-5ed876d8]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-5ed876d8]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-5ed876d8]{width:100%}.u-hover-class[data-v-5ed876d8]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-5ed876d8]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.a .content[data-v-5ed876d8]{color:#444;display:block;width:100%;min-height:%?32?%;word-wrap:break-word}.a .placeholder[data-v-5ed876d8]{color:#aaa;min-height:%?32?%}.b[data-v-5ed876d8]{position:fixed;background:rgba(0,0,0,.5);padding:40% %?50?%;top:0;left:0;right:0;bottom:0;z-index:2000}.b .textarea[data-v-5ed876d8]{width:100%;background:#fff;border:%?1?% solid #ccc;z-index:1;padding:%?24?%;border-radius:%?5?%;height:auto;color:#353535;min-height:%?92?%}.b .c[data-v-5ed876d8]{position:fixed;left:0;top:0;right:0;bottom:0;z-index:0}body.?%PAGE?%[data-v-5ed876d8]{background:#f7f7f7}",""])},"76d5":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-099c6e02]{text-align:center}.font-weight[data-v-099c6e02]{font-weight:700}.page-width[data-v-099c6e02]{width:100%}.goods-hover-class[data-v-099c6e02]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-099c6e02]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-099c6e02]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-099c6e02]{width:100%}.u-hover-class[data-v-099c6e02]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-099c6e02]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.area-picker-left[data-v-099c6e02]{min-width:%?115?%;font-size:%?28?%;padding-right:%?24?%;line-height:1.5;margin-left:auto}.area-picker-left .address-name-color[data-v-099c6e02]{color:#353535}.area-picker-left .address-place-name-color[data-v-099c6e02]{color:#999}.arrow-image[data-v-099c6e02]{width:%?12?%;height:%?24?%}body.?%PAGE?%[data-v-099c6e02]{background:#f7f7f7}",""])},"82ed":function(t,e,a){"use strict";var i=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("7f7f");var n=i(a("768b")),r=i(a("a8db"));a("96cf");var o=i(a("3b8d")),s=i(a("bd86")),d=a("2f62"),c=i(a("8e44")),u=i(a("a95b")),l=i(a("47cb")),f=["children"],p=["children"],v=["children"];function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={name:"address-edit",data:function(){return{form:{location:"",latitude:"",longitude:"",id:"",name:"",mobile:"",address:"",province_id:0,city_id:0,district_id:0,detail:"",type:""},is_refund_address:0,detail_url:"",list:[],submit_status:!1,tt_area_show:!1,automatic:"",provinceString:"",cityString:"",areaString:"",focus:!1}},computed:m({},(0,d.mapGetters)("mallConfig",{getTheme:"getTheme"})),components:{appAreaPicker:c.default,appTextArea:l.default},onLoad:function(t){var e=this;if(this.$commonLoad.onload(t),this.form.type=1==t.type?1:0,this.getAutoInfo(),t.is_refund_address>0?(this.is_refund_address=t.is_refund_address,this.detail_url=this.$api.app_admin.refund_address_edit,uni.setNavigationBarTitle({title:"编辑退货地址"})):(this.is_refund_address=0,this.detail_url=this.$api.user.address_detail),t.form){var a=JSON.parse(t.form);"undefined"===typeof a.type&&(a.type=this.form.type),this.form=a}t.id>0?(this.$showLoading({title:"加载中"}),this.$request({url:this.detail_url,data:t}).then((function(a){if(e.$hideLoading(),0===a.code)if(t.is_refund_address>0){var i=a.data.detail;e.getInfo(Object.assign({detail:i.address_detail},i))}else e.form=a.data.list;else uni.showToast({title:a.msg,icon:"none"});e.tt_area_show=!0})).catch((function(){e.$hideLoading(),e.tt_area_show=!0}))):this.tt_area_show=!0},methods:{getAutoInfo:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(){var e,a,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request({url:this.$api.user.auto_address_info,method:"get"});case 2:e=t.sent,0===e.code&&(a=JSON.parse(e.data),i=a.reduce((function(t,e){e.children;var a=(0,r.default)(e,f);return t.concat(a)}),[]),n=a.reduce((function(t,e){return t.concat(e.children.map((function(t){t.children;var a=(0,r.default)(t,p);return m(m({},a),{},{provinceCode:e.code})})))}),[]),o=a.reduce((function(t,e){var a=e.code;return t.concat(e.children.reduce((function(t,e){var i=e.code;return t.concat(e.children.map((function(t){t.children;var e=(0,r.default)(t,v);return m(m({},e),{},{cityCode:i,provinceCode:a})})))}),[]))}),[]),this.provinceString=JSON.stringify(i),this.cityString=JSON.stringify(n),this.areaString=JSON.stringify(o));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getChooseLocation:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(){var e,a,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,uni.chooseLocation();case 3:a=t.sent,i=(0,n.default)(a,2),r=i[0],o=i[1],o&&(e.form.location=o.address+o.name,e.form.latitude=o.latitude,e.form.longitude=o.longitude),r&&function(){uni.showModal({title:"授权权限",content:"请先授权地理位置权限",success:function(t){t.confirm&&uni.openSetting({success:function(t){t.authSetting["scope.userLocation"]?uni.chooseLocation({success:function(t){e.form.location=t.address+t.name,e.form.latitude=t.latitude,e.form.longitude=t.longitude}}):uni.showToast({title:"授权失败",icon:"none"})}})}})};case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getInfo:function(t){var e=this;this.$request({url:this.$api.user.wechat_district,data:{province_name:t.address[0],city_name:t.address[1],county_name:t.address[2]}}).then((function(a){if(0===a.code){var i=a.data.district,n=i.province,r=i.city,o=i.district;t.province_id=n.id,t.city_id=r.id,t.district_id=o.id,e.form=t}})).catch((function(){uni.showToast({title:"网络异常",icon:"none"})}))},areaEvent:function(t){t&&(this.form.province_id=t.province.id,this.form.city_id=t.city.id,this.form.district_id=t.district.id,this.list=[t.province.name,t.city.name,t.district.name])},submit:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(){var e,a,i,n,r,o,s,d,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.submit_status){t.next=3;break}return t.abrupt("return");case 3:if(this.form.detail||(e=1==this.form.type?"门牌号不能为空":"详细地址不能为空"),this.form.province_id||0!=this.form.type||(e="地区不能为空"),this.form.mobile||(e="联系方式不能为空"),this.$validation.umobile(this.form.mobile)||(e="联系方式格式错误"),this.form.name||(e="姓名不能为空"),!e){t.next=11;break}return uni.showToast({title:e,icon:"none"}),t.abrupt("return");case 11:return this.submit_status=!0,this.is_refund_address>0?(n=this.form,r=n.id,o=n.name,s=n.mobile,d=n.detail,i=this.$api.app_admin.refund_address_edit,a={form:JSON.stringify({id:r,name:o,mobile:s,address_detail:d,address:this.list,is_default:0,remark:""})}):(i=this.$api.user.address_save,a=Object.assign({},this.form)),t.next=15,this.$request({url:i,data:a,method:"POST"});case 15:c=t.sent,this.submit_status=!1,0===c.code?(uni.showToast({title:c.msg,icon:"none"}),uni.navigateBack({delta:1})):uni.showToast({title:c.msg,icon:"none"}),t.next=24;break;case 20:throw t.prev=20,t.t0=t["catch"](0),this.submit_status=!1,new Error(t.t0);case 24:case"end":return t.stop()}}),t,this,[[0,20]])})));function e(){return t.apply(this,arguments)}return e}(),getAddress:function(){var t=(0,u.default)(this.automatic,{},this.provinceString,this.cityString,this.areaString);if(!this.$validation.empty(t)){for(var e=this.$storage.getStorageSync("_DISTRICT"),a=t.name,i=t.province,n=t.city,r=t.area,o=t.phone,s=t.detail,d=0;d<e.length;d++)if(e[d].name===i){for(var c=0;c<e[d].list.length;c++){if(e[d].list[c].name===n){for(var l=0;l<e[d].list[c].list.length;l++)if(e[d].list[c].list[l].name===r){this.form.province_id=e[d].id,this.form.city_id=e[d].list[c].id,this.form.district_id=e[d].list[c].list[l].id;break}break}if("市辖区"===n){for(var f=0;f<e[d].list[c].list.length;f++)if(e[d].list[c].list[f].name===r){this.form.province_id=e[d].id,this.form.city_id=e[d].list[c].id,this.form.district_id=e[d].list[c].list[f].id;break}break}}break}this.form.name=a,this.form.detail="".concat(s),this.form.mobile=o}},detailFocus:function(){this.focus=!0}}};e.default=g},"857e":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[a("v-uni-picker",{staticClass:"box-grow-1 area-picker-left",attrs:{mode:"multiSelector",value:t.multiIndex,"range-key":"name",range:t.multiArray},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindMultiPickerChange.apply(void 0,arguments)},columnchange:function(e){arguments[0]=e=t.$handleEvent(e),t.bindMultiPickerColumnChange.apply(void 0,arguments)}}},[t._t("content",["请选择"!==t.place?a("v-uni-text",{staticClass:"address-name-color"},[t._v(t._s(t.place))]):a("v-uni-text",{staticClass:"address-place-name-color"},[t._v(t._s(t.place))])])],2),t._t("icon",[a("v-uni-image",{staticClass:"box-grow-0 arrow-image",attrs:{src:"/static/image/icon/arrow-right.png"}})])],2)},r=[]},"8aae":function(t,e,a){a("32a6"),t.exports=a("584a").Object.keys},"8e44":function(t,e,a){"use strict";a.r(e);var i=a("857e"),n=a("5286");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("52a0");var o,s=a("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"099c6e02",null,!1,i["a"],o);e["default"]=d.exports},"92e1":function(t,e,a){var i=a("1aee");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("6932492b",i,!0,{sourceMap:!1,shadowMode:!1})},"940f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("7f7f");var i={name:"app-area-picker",props:{ids:{type:Array,default:function(){return[]}}},data:function(){return{tempIds:this.ids,area_picker_show:"",list:[],multiIndex:[],multiArray:[],place:""}},created:function(){this.tempIds=this.tempIds.concat()},watch:{ids:{handler:function(t,e){this.tempIds=this.ids}},tempIds:{handler:function(t,e){var a=this;a.before((function(t){a.init(t)})),this.$emit("ids",this.tempIds)},deep:!0,immediate:!0}},methods:{before:function(t){var e=this,a=this,i=this.$storage.getStorageSync("_DISTRICT");i?t(i):this.$request({url:a.$api.default.district}).then((function(a){0===a.code&&(e.$storage.setStorageSync("_DISTRICT",a.data.list),t(a.data.list))}))},init:function(t){var e=3===this.tempIds.length&&0!=this.tempIds[0],a=e?this.tempIds:[t[0].id,t[0].list[0].id,t[0].list[0].list[0].id],i=this.getIndex(t,a),n=[t,t[i[0]].list,t[i[0]].list[i[1]].list],r=n[0][i[0]].name+"，"+n[1][i[1]].name+"，"+n[2][i[2]].name,o=[n[0][i[0]],n[1][i[1]],n[2][i[2]]];this.setEvent(o,e);var s=[t,n,i,e?r:"请选择"];this.list=s[0],this.multiArray=s[1],this.multiIndex=s[2],this.place=s[3]},getIndex:function(t,e){var a=[];return t.map((function(t,i){e[0]==t.id&&a.push(i)})),t[a[0]].list.map((function(t,i){e[1]==t.id&&a.push(i)})),t[a[0]].list[a[1]].list.map((function(t,i){e[2]==t.id&&a.push(i)})),a},bindMultiPickerChange:function(t){var e=[this.multiArray[0][t.detail.value[0]],this.multiArray[1][t.detail.value[1]],this.multiArray[2][t.detail.value[2]]],a=e[0].name+"，"+e[1].name+"，"+e[2].name,i=[t.detail.value,a];this.multiIndex=i[0],this.place=i[1],this.setEvent(e)},setEvent:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a={province:{id:t[0].id,name:t[0].name},city:{id:t[1].id,name:t[1].name},district:{id:t[2].id,name:t[2].name}};this.$emit("customevent",e?a:null)},bindMultiPickerColumnChange:function(t){var e={multiArray:this.multiArray,multiIndex:this.multiIndex};switch(e.multiIndex[t.detail.column]=t.detail.value,t.detail.column){case 0:e.multiIndex.splice(1,1,0),e.multiIndex.splice(2,1,0),e.multiArray.splice(1,1,this.list[e.multiIndex[0]].list),e.multiArray.splice(2,1,this.list[e.multiIndex[0]].list[e.multiIndex[1]].list);break;case 1:e.multiIndex.splice(2,1,0),e.multiArray.splice(2,1,this.list[e.multiIndex[0]].list[e.multiIndex[1]].list);break}var a=[e.multiArray,e.multiIndex];this.multiArray=a[0],this.multiIndex=a[1]}}};e.default=i},a429:function(t,e,a){var i=a("6e1d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("4f1d2782",i,!0,{sourceMap:!1,shadowMode:!1})},a4bb:function(t,e,a){t.exports=a("8aae")},a8db:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return d}));var i=a("e265"),n=a.n(i),r=a("a4bb"),o=a.n(r);function s(t,e){if(null==t)return{};var a,i,n={},r=o()(t);for(i=0;i<r.length;i++)a=r[i],e.indexOf(a)>=0||(n[a]=t[a]);return n}function d(t,e){if(null==t)return{};var a,i,r=s(t,e);if(n.a){var o=n()(t);for(i=0;i<o.length;i++)a=o[i],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}},a95b:function(t,e,a){"use strict";var i=a("4ea4");a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("87b3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("7514"),a("a481"),a("4917"),a("3b2b"),a("7f7f"),a("20d6"),a("55dd"),a("ac6a"),a("28a5");var n=i(a("7618"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=o(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,d=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){d=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(d)throw r}}}}function o(t,e){if(t){if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var d=function(t,e,a,i,r){var o="object"===(0,n.default)(e)?e:{},s=o.type,d=void 0===s?0:s,v=o.textFilter,h=void 0===v?[]:v;if(!t)return{};var m={phone:"",province:[],city:[],area:[],detail:[],name:""};t=p(t,h);var g=l(t);t=g.address,m.phone=g.phone;var b=f(t);t=b.address,m.postalCode=b.postalCode;var y=t.split(" ").filter((function(t){return t})).map((function(t){return t.trim()}));if(y.forEach((function(t){if(m.province[0]&&m.city[0]&&m.area[0])m.detail.push(t);else{var e;1===d&&(e=u(t,m)),0===d&&(e=c(t,m,a,i,r));var n=e,o=n.province,s=n.city,l=n.area,f=n.detail;m.province=o||[],m.area=l||[],m.city=s||[],m.detail=m.detail.concat(f||[])}})),!m.name){var w=JSON.parse(JSON.stringify(m.detail));w.sort((function(t,e){return t.length-e.length})),m.name=w[0];var x=m.detail.findIndex((function(t){return t===m.name}));m.detail.splice(x,1)}var _=m.province[0],k=m.city[0],C=m.area[0],A=m.detail;return Object.assign(m,{province:_&&_.name||"",city:k&&k.name||"",area:C&&C.name||"",detail:A&&A.length>0&&A.join("")||""})},c=function(t,e,a,i,n){var r=e.province||[],o=e.city||[],s=e.area||[],d=[],c="";if(0===r.length){for(var u=1;u<t.length;u++){var l=t.substring(0,u+1),f=new RegExp('{"code":"[0-9]{1,6}","name":"'.concat(l,'[一-龥]*?"}'),"g"),p=a.match(f);if(!p)break;var v=JSON.parse(p[0]);1===p.length&&(r=[],c=l,r.push(v))}r[0]&&(t=t.replace(c,""))}if(0===o.length){for(var h=1;h<t.length;h++){var m=t.substring(0,h+1),g=new RegExp('{"code":"[0-9]{1,6}","name":"'.concat(m,'[一-龥]*?","provinceCode":"').concat(r[0]?"".concat(r[0].code):"[0-9]{1,6}",'"}'),"g"),b=i.match(g);if(!b)break;var y=JSON.parse(b[0]);1===b.length&&(o=[],c=m,o.push(y))}if(o[0]){var w=o[0].provinceCode;if(t=t.replace(c,""),0===r.length){var x=new RegExp('{"code":"'.concat(w,'","name":"[一-龥]+?"}'),"g"),_=a.match(x);r.push(JSON.parse(_[0]))}}}if(0===s.length){for(var k=1;k<t.length;k++){var C=t.substring(0,k+1),A=new RegExp('{"code":"[0-9]{1,6}","name":"'.concat(C,'[一-龥]*?","cityCode":"').concat(o[0]?o[0].code:"[0-9]{1,6}",'","provinceCode":"').concat(r[0]?"".concat(r[0].code):"[0-9]{1,6}",'"}'),"g"),O=n.match(A);if(!O)break;var S=JSON.parse(O[0]);1===O.length&&(s=[],c=C,s.push(S))}if(s[0]){var $=s[0],I=$.provinceCode,Z=$.cityCode;if(t=t.replace(c,""),0===r.length){var E=new RegExp('{"code":"'.concat(I,'","name":"[一-龥]+?"}'),"g"),j=a.match(E);r.push(JSON.parse(j[0]))}if(0===o.length){var R=new RegExp('{"code":"'.concat(Z,'","name":"[一-龥]+?","provinceCode":"').concat(I,'"}'),"g"),z=i.match(R);o.push(JSON.parse(z[0]))}}}return t.length>0&&d.push(t),{province:r,city:o,area:s,detail:d}},u=function(t,e){var a=[],i=[],n=[],o=[];if(e.province[0])a=e.province;else{var s,d=r(provinces);try{for(d.s();!(s=d.n()).done;){for(var c=s.value,u=c.name,l="",f=u.length;f>1;f--){var p=u.substring(0,f);if(0===t.indexOf(p)){l=p;break}}if(l){a.push(c),t=t.replace(l,"");break}}}catch(_){d.e(_)}finally{d.f()}}if(e.city[0])i=e.city;else{var v,h=r(cities);try{var m=function(){var e=v.value,n=e.name,r=e.provinceCode,o=a[0];if(o){if(o.code===r){for(var s="",d=n.length;d>1;d--){var c=n.substring(0,d);if(0===t.indexOf(c)){s=c;break}}if(s)return i.push(e),t=t.replace(s,""),"break"}}else{for(var u=n.length;u>1;u--){var l=n.substring(0,u);if(0===t.indexOf(l)){i.push(e),a.push(provinces.find((function(t){return t.code===r}))),t=t.replace(l,"");break}}if(i.length>0)return"break"}};for(h.s();!(v=h.n()).done;){var g=m();if("break"===g)break}}catch(_){h.e(_)}finally{h.f()}}var b,y=r(areas);try{var w=function(){var e=b.value,r=e.name,o=e.provinceCode,s=e.cityCode,d=a[0],c=i[0];if(d||c){if(d&&d.code===o||(c&&c.code)===s){for(var u="",l=r.length;l>1;l--){var f=r.substring(0,l);if(0===t.indexOf(f)){u=f;break}}if(u)return n.push(e),!c&&i.push(cities.find((function(t){return t.code===s}))),!d&&a.push(provinces.find((function(t){return t.code===o}))),t=t.replace(u,""),"break"}}else{for(var p=r.length;p>1;p--){var v=r.substring(0,p);if(0===t.indexOf(v)){n.push(e),i.push(cities.find((function(t){return t.code===s}))),a.push(provinces.find((function(t){return t.code===o}))),t=t.replace(v,"");break}}if(n.length>0)return"break"}};for(y.s();!(b=y.n()).done;){var x=w();if("break"===x)break}}catch(_){y.e(_)}finally{y.f()}return t.length>0&&o.push(t),{province:a,city:i,area:n,detail:o}},l=function(t){var e="";t=t.replace(/(\d{3})-(\d{4})-(\d{4})/g,"$1$2$3"),t=t.replace(/(\d{3}) (\d{4}) (\d{4})/g,"$1$2$3"),t=t.replace(/(\d{4}) \d{4} \d{4}/g,"$1$2$3"),t=t.replace(/(\d{4})/g,"$1");var a=/(\d{7,12})|(\d{3,4}-\d{6,8})|(86-[1][0-9]{10})|(86[1][0-9]{10})|([1][0-9]{10})/g,i=a.exec(t);return i&&(e=i[0],t=t.replace(i[0]," ")),{address:t,phone:e}},f=function(t){var e="",a=/\d{6}/g,i=a.exec(t);return i&&(e=i[0],t=t.replace(i[0]," ")),{address:t,postalCode:e}},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t=t.replace(/\r\n/g," ").replace(/\n/g," ").replace(/\t/g," ");var a=["详细地址","收货地址","收件地址","地址","所在地区","地区","姓名","收货人","收件人","联系人","收","邮编","联系电话","电话","联系人手机号码","手机号码","手机号"].concat(e);a.forEach((function(e){t=t.replace(new RegExp(e,"g")," ")}));var i=new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“’。，、？]","g");return t=t.replace(i," "),t=t.replace(/ {2,}/g," "),t},v=d;e.default=v},d336:function(t,e,a){"use strict";var i=a("a429"),n=a.n(i);n.a},db8d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAWCAMAAADD5o0oAAAARVBMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkBVNYgAAAAFnRSTlMAgtiokR0V5s+9dmdhUklA8LW0nZx9Nlin2AAAAE9JREFUGNNlz0cOwDAIRFHXOInTy9z/qF7yJVjxJARMuGKwyqKKChT1Qasy1PVAmxZo1zyZDiXoVKqmquaAMS7gan+06+ajiPC6cC52+60f0acDStr+zywAAAAASUVORK5CYII="},e148:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"app-textarea"},[a("v-uni-view",{staticClass:"a",style:{background:t.background,fontSize:t.fontSize+"rpx",color:t.color,borderRadius:t.borderRadius+"rpx",border:t.showBorder?"2rpx solid "+t.borderColor:"none",padding:t.paddingY+"rpx "+t.paddingX+"rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showInput=!0}}},[t.inValue?a("v-uni-text",{staticClass:"content",style:{color:t.color}},[t._v(t._s(t.inValue))]):a("v-uni-view",{staticClass:"placeholder",class:t.placeholderClass,style:t.placeholderStyle},[t._v(t._s(t.placeholder))])],1),t.showInput?a("v-uni-view",{staticClass:"b"},[a("v-uni-textarea",{staticClass:"textarea",attrs:{"auto-height":!0,value:t.inValue,placeholder:t.placeholder,focus:t.showInput,maxlength:t.maxlength},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleInput.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.complete.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.complete.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"c",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.complete.apply(void 0,arguments)}}})],1):t._e()],1)},r=[]},e265:function(t,e,a){t.exports=a("ed33")},e287:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[a("v-uni-view",{staticClass:"app-view"},[a("v-uni-view",{staticClass:"app-line main-between cross-center"},[a("v-uni-text",{staticClass:"app-text box-grow-0"},[t._v("收货人")]),a("div",{staticClass:"app-border main-between cross-center",staticStyle:{height:"100%"}},[a("v-uni-input",{staticClass:"address-input",attrs:{type:"text"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("v-uni-view",{staticClass:"app-line main-between cross-center"},[a("v-uni-text",{staticClass:"app-text box-grow-0"},[t._v("联系电话")]),a("div",{staticClass:"app-border main-between cross-center",staticStyle:{height:"100%"}},[a("v-uni-input",{staticClass:"address-input",attrs:{type:"number"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1)],1),0===t.form.type||t.is_refund_address>0?a("v-uni-view",{staticClass:"app-line main-between cross-center"},[a("v-uni-text",{staticClass:"app-text box-grow-0"},[t._v("所在地区")]),a("v-uni-view",{staticClass:"box-grow-1 area-left app-border dir-right-nowrap cross-center",staticStyle:{height:"100%"}},[t.tt_area_show?a("app-area-picker",{attrs:{ids:[t.form.province_id,t.form.city_id,t.form.district_id]},on:{customevent:function(e){arguments[0]=e=t.$handleEvent(e),t.areaEvent.apply(void 0,arguments)}}}):t._e()],1)],1):t._e(),1===t.form.type&&0==t.is_refund_address?a("v-uni-view",{staticClass:"app-line main-between cross-center"},[a("v-uni-text",{staticClass:"app-text box-grow-0"},[t._v("定位地址")]),a("v-uni-view",{staticClass:"app-border h-100 main-right dir-left-nowrap cross-center box-grow-1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getChooseLocation.apply(void 0,arguments)}}},[t.form.location?a("v-uni-view",{staticClass:"t-omit-two c-address",staticStyle:{"line-height":"1.5","text-align":"right"}},[t._v(t._s(t.form.location))]):a("v-uni-view",{staticClass:"c-address",staticStyle:{color:"#999999","margin-right":"auto"}},[t._v("点击此处进行定位")]),a("v-uni-icon",{staticClass:"box-grow-0 icon-arrow-image",attrs:{type:"",type:!0}})],1)],1):t._e(),0===t.form.type||t.is_refund_address>0?a("v-uni-view",{staticClass:"app-line textarea main-between cross-top"},[a("v-uni-text",{staticClass:"app-text box-grow-0"},[t._v("详细地址")]),a("v-uni-textarea",{staticClass:"address-input",attrs:{focus:t.focus},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.focus=!1}},model:{value:t.form.detail,callback:function(e){t.$set(t.form,"detail",e)},expression:"form.detail"}})],1):t._e(),1===t.form.type?a("v-uni-view",{staticClass:"app-line main-between cross-center"},[a("v-uni-text",{staticClass:"app-text box-grow-0"},[t._v("门牌号")]),a("v-uni-input",{staticClass:"address-input",attrs:{"placeholder-style":"color:#999999",placeholder:"请输入具体门牌号以便配送",type:"text",focus:t.focus},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.focus=!1}},model:{value:t.form.detail,callback:function(e){t.$set(t.form,"detail",e)},expression:"form.detail"}})],1):t._e(),t._e()],1),a("v-uni-view",{staticClass:"app-view"},[0===t.form.type||t.is_refund_address>0?a("v-uni-view",{staticClass:"automatic"},[a("v-uni-textarea",{attrs:{"placeholder-class":"place-automatic",placeholder:"复制收货信息（姓名前后请输入空格）"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.getAddress.apply(void 0,arguments)}},model:{value:t.automatic,callback:function(e){t.automatic=e},expression:"automatic"}}),a("v-uni-button",{style:{color:t.getTheme.color},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getAddress.apply(void 0,arguments)}}},[t._v("自动识别")])],1):t._e()],1),a("v-uni-view",{staticClass:"app-button"},[a("app-button",{attrs:{theme:t.getTheme,arrangement:"row",type:"important",round:!0,width:"90%"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"app-text"},[t._v("保存地址")])],1)],1)],1)},r=[]},ed33:function(t,e,a){a("014b"),t.exports=a("584a").Object.getOwnPropertySymbols}}]);