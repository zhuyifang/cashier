(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-exchange-gift-gift"],{1924:function(t,e,a){"use strict";var o=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a("cb0e")),i={name:"bd-detail",components:{"app-rich-text":n.default},props:{detail:{type:String,default:function(){return""}}},created:function(){this.$store.dispatch("gConfig/setImageWidth",48)},data:function(){return{imageProp:{mode:"aspectFit",padding:0,lazyLoad:!1,domain:"",paddinglimit:""}}},computed:{newDetail:function(){var t="";return this.detail&&(t=this.detail),t}}};e.default=i},"3e70":function(t,e,a){"use strict";a.r(e);var o=a("bd35"),n=a("41ce");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("6126");var r,s=a("f0c5"),d=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"c54bb704",null,!1,o["a"],r);e["default"]=d.exports},"41ce":function(t,e,a){"use strict";a.r(e);var o=a("1924"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},"56d6":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-72926c89]{text-align:center}.font-weight[data-v-72926c89]{font-weight:700}.page-width[data-v-72926c89]{width:100%}.goods-hover-class[data-v-72926c89]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-72926c89]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-72926c89]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-72926c89]{width:100%}.u-hover-class[data-v-72926c89]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-72926c89]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.other-info[data-v-72926c89]{background-color:#fff;padding-top:%?24?%;padding-bottom:%?24?%;margin-bottom:%?24?%;position:relative}.other-info .goods-name[data-v-72926c89]{font-size:%?32?%;color:#353535;margin:0 %?24?% %?50?%}.other-info .code[data-v-72926c89]{margin-left:%?24?%;display:inline-block;padding:%?16?% %?46?%;border-radius:%?40?%;font-size:%?32?%;font-weight:600}.other-info .code.default[data-v-72926c89]{background-color:#f5f5f5;color:#999}.other-info .app-share[data-v-72926c89]{width:%?40?%;height:%?102?%;position:absolute;right:%?24?%;bottom:%?26?%}.other-info .app-share .app-icon[data-v-72926c89]{width:%?40?%;height:%?40?%}.other-info .app-share .app-text[data-v-72926c89]{color:#666;font-size:%?20?%;position:absolute;top:%?50?%;left:0}.app-goods[data-v-72926c89]{background-color:#f7f7f7}.buttons[data-v-72926c89]{width:%?750?%;height:%?110?%;border-top:%?1?% solid #e2e2e2}.buttons .app-button[data-v-72926c89]{width:100%;height:%?110?%;text-align:center;line-height:%?110?%;background-color:#fff}.buttons .app-button .app-over[data-v-72926c89]{background:#e9e9e9;width:%?702?%;border-radius:%?41?%;color:#999;height:%?82?%;line-height:%?82?%;font-size:%?28?%}.buttons .app-button .app-exhange[data-v-72926c89]{margin:0 %?10?%;width:%?340?%;border-radius:%?41?%;height:%?82?%;line-height:%?82?%;font-size:%?28?%}.u-bottom-fixed[data-v-72926c89]{position:fixed;bottom:0;left:0;width:100%;z-index:1602;background-color:#fff}.u-bottom-height[data-v-72926c89]{height:%?110?%}body.?%PAGE?%[data-v-72926c89]{background:#f7f7f7}",""])},6126:function(t,e,a){"use strict";var o=a("8192"),n=a.n(o);n.a},"70fa":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-c54bb704]{text-align:center}.font-weight[data-v-c54bb704]{font-weight:700}.page-width[data-v-c54bb704]{width:100%}.goods-hover-class[data-v-c54bb704]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-c54bb704]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-c54bb704]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-c54bb704]{width:100%}.u-hover-class[data-v-c54bb704]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-c54bb704]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.bd-detail[data-v-c54bb704]{width:%?702?%;padding:%?20?% 0;background-color:#fff;border-radius:%?15?%;margin:%?24?% %?24?% 0 %?24?%}.bd-detail uni-image[data-v-c54bb704]{width:100%;height:%?80?%;display:block}body.?%PAGE?%[data-v-c54bb704]{background:#f7f7f7}",""])},"79bb":function(t,e,a){"use strict";var o=a("d616"),n=a.n(o);n.a},8192:function(t,e,a){var o=a("70fa");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("300e6057",o,!0,{sourceMap:!1,shadowMode:!1})},a94d:function(t,e,a){"use strict";a.r(e);var o=a("eba2"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},bd35:function(t,e,a){"use strict";var o;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"bd-detail"},[t.newDetail?a("v-uni-view",{staticClass:"detail"},[a("v-uni-image",{attrs:{src:"/static/image/icon/goods-detail.png"}}),a("app-rich-text",{attrs:{"image-prop":t.imageProp,content:t.newDetail}})],1):t._e()],1)},i=[]},d0a7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAUVBMVEUAAACXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5dEIR+uAAAAGnRSTlMAMMZi5z63idCWB/Lg+KFxDe6wTTUVfFke2TGxwyMAAAEYSURBVDjLjdJbkoMgEEDRVqMRVMS3uftf6JgZJ1JBlPvFx6mugka27KKKoz4RJ5Me54yvHKehlr0WHurpNIlT/pEWlPj5cuYlEiNrWomSHcsl07/SiDzIQmYaVA0MbxmG08yeEgs6ANcCaErT5uMquqY7n2gNUGb/D1rBegpHIP0sUm8ukTPYQjOI45q386GCXnvOhwpmOWJ3HmzB3ZSuqrfzYQJPcdNWTiGU4udDQ6Nj4ASDxMCUh8RAC2MUzKhCqk1cCHP4kzvQwhSELweOdBKEpQNn+jhY8IyD2ykOwhIHuyaPg+sit9DPhx3LPRx5xU0cKEWR3sOUXlbI7geSiBgo8uSivOdvuarjpsrsd1JFelGh8g39AMCQHBHNpseZAAAAAElFTkSuQmCC"},d179:function(t,e,a){"use strict";a.r(e);var o=a("fd09b"),n=a("a94d");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("79bb");var r,s=a("f0c5"),d=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"72926c89",null,!1,o["a"],r);e["default"]=d.exports},d616:function(t,e,a){var o=a("56d6");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("1fe669ae",o,!0,{sourceMap:!1,shadowMode:!1})},eba2:function(t,e,a){"use strict";var o=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=o(a("3b8d"));a("7f7f");var i=o(a("bd86")),r=a("2f62"),s=o(a("12b6")),d=o(a("409e")),c=o(a("3e70"));function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){(0,i.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"goods",data:function(){return{shareShow:!1,goods:{},url:this.$api.exchange.qrcode,show:!1,list:[],code:null,id:null,status:"",windowHeight:667,loading:!1,first:!0}},onLoad:function(t){this.$commonLoad.onload(t);var e=this;e.code=t.code,e.windowHeight=uni.getSystemInfoSync().windowHeight,e.$showLoading({type:"global",text:"加载中..."}),e.request({url:e.$api.exchange.me_detail,data:{code:e.code}}).then((function(t){if(t){e.first=!1;var a=t.goods_attr,o=t.code,n=t.status;e.url=e.url+"&code="+o,e.goods=a,e.code=o,e.status=n,e.loading=!0,e.$hideLoading()}}))},onShow:function(){var t=this;if(this.first)return!1;this.$showLoading(),this.$nextTick((function(){var e=t;e.request({url:e.$api.exchange.me_detail,data:{code:e.code}}).then((function(t){var a=t.goods_attr,o=t.code,n=t.status;e.goods=a,e.code=o,e.status=n,e.loading=!0,e.$hideLoading()}))}))},computed:l(l(l({},(0,r.mapState)("gConfig",{iphone:function(t){return t.iphone},iphoneHeight:function(t){return t.iphoneHeight}})),(0,r.mapGetters)("mallConfig",{getTheme:"getTheme"})),(0,r.mapState)({mall:function(t){return t.mallConfig.mall},userInfo:function(t){return t.user.info}})),methods:{hShareAppMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$shareAppMessage({path:"/plugins/exchange/gift/gift",title:this.goods.app_share_title?this.goods.app_share_title:this.goods.name,imageUrl:this.goods.app_share_pic?this.goods.app_share_pic:"",params:{code:this.code}},t)},copy:function(){this.$utils.uniCopy({data:this.code,success:function(){uni.showToast({title:"复制成功"})}})},toExchange:function(){uni.navigateTo({url:"/plugins/exchange/detail/detail?code="+this.code})},request:function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(e){var a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.url,o=e.data,t.next=3,this.$request({url:a,data:o});case 3:if(n=t.sent,0!==n.code){t.next=8;break}return t.abrupt("return",n.data);case 8:uni.showModal({title:"提示",content:n.msg,showCancel:!1,success:function(t){uni.navigateBack()}});case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},components:{"app-banner":s.default,"app-share-qr-code":d.default,bdDetail:c.default}};e.default=f},fd09b:function(t,e,a){"use strict";var o;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("app-layout",[o("v-uni-scroll-view",{style:{height:t.windowHeight+"px"},attrs:{"scroll-y":!0}},[o("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"app-goods"},[o("v-uni-view",{staticClass:"banner"},[o("app-banner",{attrs:{videoUrl:t.goods.video_url,picList:t.goods.pic_list,goods_id:t.goods.id,isCart:!1,sign:"exchange"}})],1),o("v-uni-view",{staticClass:"other-info"},[o("v-uni-view",{staticClass:"t-omit-two goods-name"},[t._v(t._s(t.goods.name))]),o("v-uni-view",{staticClass:"code",style:{color:"unused"==t.status?t.getTheme.color:"#999999","background-color":"unused"==t.status?t.getTheme.background_o:"#f5f5f5"}},[t._v(t._s(t.code))]),"unused"==t.status?o("v-uni-view",{staticClass:"app-share"},[o("app-form-id",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareShow=!0}}},[o("v-uni-image",{staticClass:"app-icon",attrs:{src:a("d0a7")}}),o("v-uni-text",{staticClass:"app-text"},[t._v("赠送")])],1)],1):t._e()],1),o("app-share-qr-code",{attrs:{url:t.url,title:"生成赠送海报",goods:t.goods,theme:t.getTheme,"has-poster-nav":!1},on:{share:function(e){arguments[0]=e=t.$handleEvent(e),t.hShareAppMessage.apply(void 0,arguments)}},model:{value:t.shareShow,callback:function(e){t.shareShow=e},expression:"shareShow"}}),o("bd-detail",{attrs:{detail:t.goods.detail}}),o("v-uni-view",{staticClass:"safe-area-inset-bottom"},[o("v-uni-view",{staticClass:"u-bottom-height"})],1),o("v-uni-view",{staticClass:"safe-area-inset-bottom u-bottom-fixed"},[o("v-uni-view",{staticClass:"buttons dir-left-nowrap"},[o("v-uni-view",{staticClass:"app-button main-center cross-center"},["unused"==t.status?o("v-uni-view",{staticClass:"app-exhange",style:{background:t.getTheme.background_s_gradient_o,color:t.getTheme.secondary_text},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copy.apply(void 0,arguments)}}},[t._v("复制兑换码")]):t._e(),"unused"==t.status?o("v-uni-view",{staticClass:"app-exhange",style:{background:t.getTheme.background_gradient_o,color:t.getTheme.main_text},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toExchange.apply(void 0,arguments)}}},[t._v("立即兑换")]):t._e(),"unused"!=t.status?o("v-uni-view",{staticClass:"app-over"},[t._v(t._s("used"==t.status?"已兑换":"已失效"))]):t._e()],1)],1)],1)],1)],1)],1)},i=[]}}]);