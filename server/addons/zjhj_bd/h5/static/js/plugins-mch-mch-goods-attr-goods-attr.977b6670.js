(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-mch-mch-goods-attr-goods-attr"],{"00d5":function(t,i,a){"use strict";a.r(i);var e=a("1313"),o=a("b063");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(i,t,(function(){return o[t]}))}(n);a("48ae");var r,s=a("f0c5"),c=Object(s["a"])(o["default"],e["b"],e["c"],!1,null,"f8cf97f8",null,!1,e["a"],r);i["default"]=c.exports},"10fc":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAmVBMVEUAAAD/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUSkuNewAAAAMnRSTlMAcShS2p+BVBf578Gyk0csza5DNy4kBeu8t2dgWSATDeHHino9NBrz0ZiEcm5NO+TSpj5Ao9MAAAE1SURBVCjPdZLneoJAEEWH3gOoNFvsGluS8/4PFwFZxc+cP8xw99s7ZUUxm0RhklTRWJdXhhaKdNDXIiBYXUbxwC6B3/lDck2Isi7b2VCMlFZgbuWJOMHrnBcsP6VPiN/+sljk0pKp2xLK+qND1mke13s4h7rmlKg7PgG7i48kt95BGTpwUrYeQxkTqNwATSUptnyxfowJpiqZEkrAsOnccQxjBZZhOI7eFmqKid5EPTb1aPDlQHyLRvT4aJrxpGTT2GmadrYgPWvaqdZkxnevoO1zQReC/1uxWEkG+VvRr51L7HfjG7Nojdxuj/BxD3MPp93doTt+7TSpMNtDe1J5IYJZG40g2D1L8xDUC4wLvLVaXK75tbfCrWBvTWPX1Q2rgGX/YTtLFD8TeWVjh6bvm9VRuckf5L8qCkVSSZcAAAAASUVORK5CYII="},1313:function(t,i,a){"use strict";var e;a.d(i,"b",(function(){return o})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){return e}));var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("app-layout",[e("v-uni-view",t._l(t.list,(function(i,o){return e("v-uni-view",{key:o,staticClass:"attr"},[e("v-uni-image",{staticClass:"low-attr",attrs:{src:a("ccb3")},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.pop(o)}}}),e("v-uni-view",{staticClass:"attr-item dir-left-nowrap"},[e("v-uni-view",{staticClass:"attr-label"},[t._v("规格名")]),e("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[e("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入规格"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.changeName(i)}},model:{value:i.attr_group_name,callback:function(a){t.$set(i,"attr_group_name",a)},expression:"item.attr_group_name"}})],1)],1),e("v-uni-view",{staticClass:"attr-item dir-left-nowrap"},[e("v-uni-view",{staticClass:"attr-label"},[t._v("规格值")]),e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeValue(o)}}},[i.attr_list.length>0?e("v-uni-view",{staticClass:"attr_name"},[e("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),e("v-uni-view",{staticClass:"attr-name-list t-omit"},t._l(i.attr_list,(function(i,a){return e("v-uni-text",{key:a},[0!==a?e("v-uni-text",[t._v("；")]):t._e(),t._v(t._s(i.attr_name))],1)})),1)],1):e("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[e("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),e("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[t._v("未选择")])],1)],1),e("v-uni-view")],1)],1)})),1),e("v-uni-view",{staticClass:"title"},[t._v("设置价格、库存等规格明细")]),e("v-uni-view",{staticClass:"info-item cross-center main-between"},[e("v-uni-view",{staticClass:"form-label"},[t._v("规格明细")]),e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.chooseDetail.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[e("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),t.attr.length>0?e("v-uni-text",[t._v("已设置")]):e("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[t._v("未设置，点击设置")])],1)],1)],1),t.list.length<5?e("v-uni-view",{staticClass:"add-attr",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.add_attr.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"add-attr-btn main-center"},[e("v-uni-image",{attrs:{src:a("10fc")}}),e("v-uni-view",[t._v("增加规格")])],1)],1):t._e(),e("v-uni-view",{class:["placeholder",t.iphone_x?"iphone_x":""]}),e("v-uni-view",{class:["add",t.iphone_x?"iphone_x":""]},[e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.save.apply(void 0,arguments)}}},[t._v("保存")])],1),t.index>-1?e("v-uni-view",{staticClass:"dialog"},[e("v-uni-view",{staticClass:"dialog-item"},[e("v-uni-view",{staticClass:"dialog-title"},[t._v("确定删除这个规格吗？")]),e("v-uni-view",{staticClass:"submit-info"},[t._v("删除后，规格名与规格值都将被删除")]),e("v-uni-view",{staticClass:"main-center btn-area"},[e("v-uni-view",{staticClass:"submit-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)}}},[t._v("取消")]),e("v-uni-view",{staticClass:"line"}),e("v-uni-view",{staticClass:"submit-btn be-submit",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDelete.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)],1):t._e()],1)},n=[]},"48ae":function(t,i,a){"use strict";var e=a("58c9"),o=a.n(e);o.a},"58c9":function(t,i,a){var e=a("7018");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=a("4f06").default;o("71e2bae2",e,!0,{sourceMap:!1,shadowMode:!1})},7018:function(t,i,a){i=t.exports=a("24fb")(!1),i.push([t.i,".text-center[data-v-f8cf97f8]{text-align:center}.font-weight[data-v-f8cf97f8]{font-weight:700}.page-width[data-v-f8cf97f8]{width:100%}.goods-hover-class[data-v-f8cf97f8]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-f8cf97f8]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-f8cf97f8]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-f8cf97f8]{width:100%}.u-hover-class[data-v-f8cf97f8]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-f8cf97f8]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.attr[data-v-f8cf97f8]{background-color:#fff;position:relative;padding-left:%?84?%;margin-bottom:%?20?%}.attr .low-attr[data-v-f8cf97f8]{position:absolute;z-index:2;top:%?24?%;height:%?40?%;width:%?40?%;left:%?24?%}.attr .attr-item[data-v-f8cf97f8]{height:%?88?%;line-height:%?88?%;border-top:%?2?% solid #e2e2e2;position:relative;font-size:%?28?%;color:#999;color:#353535}.attr .attr-item .attr-label[data-v-f8cf97f8]{width:%?174?%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.attr .attr-item .attr_name .to-more[data-v-f8cf97f8]{right:%?24?%;top:%?32?%;position:absolute;margin-left:0}.attr .attr-item .attr_name .attr-name-list[data-v-f8cf97f8]{width:%?432?%}.attr .attr-item .cat-info[data-v-f8cf97f8]{width:%?442?%}.attr .attr-item .to-more[data-v-f8cf97f8]{height:%?24?%;width:%?12?%;margin-left:%?10?%}.attr .attr-item[data-v-f8cf97f8]:first-of-type{border-top:0}.title[data-v-f8cf97f8]{font-size:%?28?%;color:#999;margin:%?30?% %?24?% %?13?%}.info-item[data-v-f8cf97f8]{height:%?88?%;line-height:%?88?%;font-size:%?28?%;background-color:#fff;padding:0 %?24?%;color:#353535}.info-item .form-label[data-v-f8cf97f8]{width:%?176?%}.info-item .cat-info[data-v-f8cf97f8]{width:%?526?%;color:#666}.info-item .cat-info .to-more[data-v-f8cf97f8]{height:%?24?%;width:%?12?%;margin-left:%?10?%}.add-attr[data-v-f8cf97f8]{height:%?120?%;background-color:#fff;margin-top:%?20?%;padding-top:%?24?%}.add-attr .add-attr-btn[data-v-f8cf97f8]{height:%?72?%;width:%?320?%;border-radius:%?36?%;border:%?2?% solid #ff4544;margin:0 auto;color:#ff4544;font-size:%?26?%;line-height:%?72?%}.add-attr .add-attr-btn uni-image[data-v-f8cf97f8]{height:%?28?%;width:%?28?%;margin-right:%?12?%;margin-top:%?22?%}.add[data-v-f8cf97f8]{position:fixed;bottom:0;left:0;height:%?120?%;width:100%;z-index:15;background-color:#fff}.add uni-view[data-v-f8cf97f8]{width:%?702?%;line-height:%?80?%;height:%?80?%;margin:%?20?% auto;border-radius:%?40?%;background-color:#ff4544;color:#fff;font-size:%?32?%;text-align:center}.add.iphone_x[data-v-f8cf97f8]{height:%?170?%;padding-bottom:%?50?%}.placeholder[data-v-f8cf97f8]{height:%?120?%}.placeholder.iphone_x[data-v-f8cf97f8]{height:%?170?%}.dialog[data-v-f8cf97f8]{position:fixed;height:100%;width:100%;bottom:0;left:0;z-index:10;background-color:rgba(0,0,0,.3)}.dialog .dialog-item[data-v-f8cf97f8]{padding-top:%?20?%;position:fixed;top:25%;left:0;right:0;margin:0 auto;width:%?620?%;border-radius:%?16?%;background-color:#fff;text-align:center}.dialog .submit-info[data-v-f8cf97f8]{font-size:%?28?%;color:#999;padding:%?34?% 0 %?52?%}.dialog .btn-area[data-v-f8cf97f8]{height:%?88?%;position:relative;border-top:%?1?% solid #e2e2e2}.dialog .btn-area .line[data-v-f8cf97f8]{height:%?32?%;width:%?1?%;background-color:#e2e2e2;position:absolute;top:%?28?%;left:0;right:0;margin:0 auto}.dialog .btn-area .submit-btn[data-v-f8cf97f8]{height:%?88?%;line-height:%?88?%;font-size:%?32?%;color:#666;width:%?310?%;text-align:center}.dialog .btn-area .submit-btn.be-submit[data-v-f8cf97f8]{color:#ff4544}.dialog .dialog-title[data-v-f8cf97f8]{text-align:center;font-size:%?32?%;color:#353535;margin:%?23?% 0 0}body.?%PAGE?%[data-v-f8cf97f8]{background:#f7f7f7}",""])},b063:function(t,i,a){"use strict";a.r(i);var e=a("b6ec"),o=a.n(e);for(var n in e)["default"].indexOf(n)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(n);i["default"]=o.a},b6ec:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{list:[],attr:[],iphone_x:!1,noDetail:!0,first:!0,index:-1}},methods:{changeName:function(t){var i=this;if(this.attr.length>0){for(var a in this.attr)for(var e in this.attr[a].attr_list)t.attr_group_id==this.attr[a].attr_list[e].attr_group_id&&(this.attr[a].attr_list[e].attr_group_name=t.attr_group_name);this.$storage.setStorageSync("temp_attr_info",i.attr),uni.hideLoading()}},pop:function(t){this.index=t,this.list[this.index].attr_group_name||0!==this.list[this.index].attr_list.length||(this.list.splice(this.index,1),this.index=-1,this.attr=[],this.$storage.removeStorageSync("temp_attr_info"))},close:function(){this.index=-1},changeValue:function(t){this.$storage.setStorageSync("temp_attr",this.list),uni.navigateTo({url:"/plugins/mch/mch/goods-attr-edit/goods-attr-edit?index=".concat(t)})},chooseDetail:function(){if(0===this.list.length)return uni.showToast({title:"请输入规格信息",icon:"none",duration:1e3}),!1;var t=1;for(var i in this.list)t*=+this.list[i].attr_list.length;if(t>1e3)return uni.showToast({title:"规格组合超出1000，请删减规格值再继续操作",icon:"none",duration:1e3}),!1;for(var a in this.list)if(!this.list[a].attr_group_name||0==this.list[a].attr_list.length)return uni.showToast({title:"请完善规格信息",icon:"none",duration:1e3}),!1;this.$storage.setStorageSync("temp_attr",this.list),uni.navigateTo({url:"/plugins/mch/mch/goods-attr-info/goods-attr-info"})},toDelete:function(){this.list.splice(this.index,1),this.index=-1,this.attr=[],this.$storage.removeStorageSync("temp_attr_info")},save:function(){var t=this;if(0===t.list.length)return uni.showToast({title:"请输入规格信息",icon:"none",duration:1e3}),!1;for(var i in t.list)if(!t.list[i].attr_group_name||0===t.list[i].attr_list.length||0===t.attr.length)return uni.showToast({title:"请完善规格信息",icon:"none",duration:1e3}),!1;this.$storage.setStorageSync("goods_attr_groups",this.list),uni.showLoading({mask:!0,title:"保存中..."}),this.$storage.setStorageSync("goods_attr",this.attr),setTimeout((function(){uni.hideLoading(),uni.navigateBack()}),500),uni.setStorage({key:"goods_attr_groups",data:t.list})},add_attr:function(){this.list.push({attr_group_id:this.list.length+1,attr_group_name:"",attr_list:[]}),this.attr=[],uni.removeStorage({key:"temp_attr_info"})}},onLoad:function(){this.$commonLoad.onload();var t=this;t.$showLoading({type:"global",text:"加载中..."});t.$storage.getStorageSync("goods_attr_groups")?(t.list=t.$storage.getStorageSync("goods_attr_groups"),t.$storage.setStorageSync("temp_attr",t.list)):t.list=t.$storage.getStorageSync("temp_attr"),t.$storage.getStorageSync("goods_attr")?(t.attr=t.$storage.getStorageSync("goods_attr"),t.$storage.setStorageSync("temp_attr_info",t.$storage.getStorageSync("goods_attr")),t.$hideLoading(),t.first=!1):(t.first=!1,t.$hideLoading()),t.iphone_x=this.$utils.checkIphone()},onShow:function(){var t=this;this.first||(t.list=t.$storage.getStorageSync("temp_attr")?t.$storage.getStorageSync("temp_attr"):[],t.attr=t.$storage.getStorageSync("temp_attr_info")?t.$storage.getStorageSync("temp_attr_info"):[])}};i.default=e},ccb3:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMDgzZTc4NS0yZWUwLTk3NDYtODQ2NC1mNDdlYTAyYzc0ZmEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTkwMjJEMzU5MTk4MTFFOTk1REI4N0ZFQUM2MkQ4M0UiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTkwMjJEMzQ5MTk4MTFFOTk1REI4N0ZFQUM2MkQ4M0UiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MmRjM2JmODYtYThjYS1jMzRjLWEzMDMtODhmN2E1YWUzNTJmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NGUwMWZhMjgtODcyZi0xMWU5LTkwZjUtOGMxMjNmYWI0NDhkIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+YrnWDgAAAyVJREFUeNrMmVtIFGEUx8+O42VBjGiVLhtkqWyIImgUEVoPGwZFUfaUvVV2JUh7KAIrgliiHopIKiroxRexqJAeIpHILqAvKUkFK2GxpILZipvp9j96hEXmsqM7zvzhB8vu8H3/+eb7zpxz1hOvraV5agnYLJSCNWAp8IBR8B30gnfgDRgwHXFigsjvJwqFiNLSpr9SLZriyYNgP6gCa0GazrXrwXb5zObeghbwHESTnVCxYG63TPISHAKFBubmapXcVDPoAnUgPVUG80EreAI20cJVBJpAB9i4UIM7Zf/sodSLb/Y1OD5fg0fBU7CS7JMX3AbXrBo8Ce5Y3KMLUQO4mazBXXoX26xT4IyZwXXgoYQTJxQiRamajYFaBm+BZeSUFEWlkZEmGh72ahncC3aQk+KVGxwMUGvr6bkGOWg2khuUlYUI2VFPkYgv0WBQ3qfOS4Gl0VEftbXVJho8SG5SZiZRd/cBisXYLi0HW11lUEUOE4mUUV9fMRusFJPu0uSkSj09lWxwC7lR/HDD4QrVwuGIpnqnGeajMyGngC9YbTJQOzgLfqTYYA6ol9xSIzX2cIad50HKzxOv0BlkHJSAr3Y9SNAHCjR/jcd/KmJCT//Abxt32pTUL3rKYINjBhdkgwsc320w55HUv9RgH46rsreKTdKgahtWMkO2j16YIcrNHValNAyaDFa46GEmHke+7Q3zI+50ZRzkFfT7uxQpin650mRJSbsiRXWn61YvJ6efAoGPs9lMs6sMxmI426Ut5PNFZw0+A/2uMMeHIz39L1VX30vMB/8Y1aaLqnG8N8rLH1NR0ee5Ncl96Zs4pym8WLKzh6implGraIpJG2LC0cORl9dA+fkDemXne3DOwTV8gFV8NG3UoLNwHdx1wNwrcCLZ3syxRTbJPcd9WpmVYpAG1UmtHLfZHB9Obo6OJNs8StRlaSZ9s8HYIDgsxIwyWjO9oJlO6FW9u7T6ngAchDfI6pmm3MloCJwHZeAS+CTbwIq+gBugAhwB4aRKZIuT8KAXwRVQDrbJSnC3n/+C8MpNj8lq90vw51bvB5PsXVP/BRgAKVC5Her56VoAAAAASUVORK5CYII="}}]);