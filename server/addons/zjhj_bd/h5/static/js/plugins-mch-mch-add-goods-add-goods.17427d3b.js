(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-mch-mch-add-goods-add-goods"],{"0313":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAb1BMVEUAAACUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJuUmJv///+UmJubn6Ln6Onu7++Xm57q6+zZ29zAwsS6vL6ws7X39/jV19iipajT1NWipqj3+Phc1ZsNAAAAFHRSTlMAl/jt47OsWDccEwqH6/rT0nl4iK3SxRMAAAEmSURBVDjLlZTtjoMgEEUR1Ipaa9u5KH7b3fd/xjXZJgsuCj0/yUmGgZnLbLJHWgvORZ0+MnaILGMYxKV0annEga+h72aiueuHFeBR/t+7XIGxIYNmBK6XvRcBU0s72gmILK1IoF/k4KWRFIaYQDXkpFFIzLqqpQNa9Vf9At3QIY3Gu6P8ioVOWCDyd+GJTpl+i8tKt+diqyu5iSVG8jCi3MQY+04U9v0gZizDSj6RVmTsjsEvDniwFL1f7JGyGzq/2OHGBGa/OEMwbpzCwtTBg8Ww0t8Qwc0EP0/wgwd/YehQOMdMwTlmknsHF1x+sgosF/7lCl3X0AAwo0d1bq9TSAo7pBbn/bTlbeZx7BWBQRoczS7k0w77p2SHZPe0FlUl6vSeMYsf9rJjwbWAyOYAAAAASUVORK5CYII="},"2fd7":function(e,t,i){"use strict";var a=i("4ea4");i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("8e6e"),i("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("28a5"),i("96cf");var n=a(i("3b8d"));i("c5f6"),i("55dd"),i("7f7f"),i("ac6a"),i("a481"),i("6b54"),i("87b3");var s=a(i("bd86")),o=i("2f62"),r=a(i("d5ea"));function c(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=l(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){r=!0,s=e},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw s}}}}function l(e,t){if(e){if("string"===typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,s.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f={data:function(){return{drag:{move:!1,top:0,left:0,offsetX:0,offsetY:0},id:0,postageIndex:-1,deliveryIndex:-1,height:0,beSubmit:!1,form:{cats:[],mchCats:[],name:"",cost_price:"",price:"",original_price:"",type:"goods",attr_default_name:"默认规格"},forehead:-1,unit:"件",set_attr:!1,iphone_x:!1,modal:!1,error:!1,set_cat:!1,set_mch_cat:!1,set_postage:!1,set_delivery:!1,set_service:!1,is_default_services:!0,confine:!1,is_service:!1,img:[],cat:[],mch:0,mch_cat:[],goods_detail:[],beMove:!1,service:[],postage:[],beCat:[],beMchCat:[],isChooseCat:["未选择"],delivery:[],bePostage:"",beDelivery:"",beService:[],newIndex:"0",index:"0",attr:!1,have_children:!1,disabled:!0,imgHidden:!0,flag:!1,x:0,y:0,first_service:!0,choose_list:[],elements:[],img_src:"",dialogType:"",dialog:!1,inputName:!0,beginIndex:null,loading:!1,limit_buy_status:0,min_number:1,limit_buy_first:!0,limit_buy_second:!0,limit_buy_third:!0,limit_buy_type:"day",limit_buy_value:-1}},computed:v({},(0,o.mapState)({userInfo:function(e){return e.user.info},adminImg:function(e){return e.mallConfig.__wxapp_img.app_admin}})),methods:{bindChange:function(e){this.newIndex=e.detail.value[0]},toggle:function(e){this.choose_list=[],this.dialog=!1,this.set_cat=!1,"postage"==this.dialogType&&(1==e?this.set_postage&&(this.bePostage=this.postage[this.newIndex]):this.set_postage=!1),"delivery"==this.dialogType&&(1==e?this.set_delivery&&(this.beDelivery=this.delivery[this.newIndex]):this.set_delivery=!1),this.dialogType=""},money:function(e){var t=e.toString();return 0==t.indexOf(".")&&(t="0"+t),t=t.replace(/[^\d.]/g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),t.indexOf(".")<0&&""!=t&&(t=parseFloat(t)),+t},costChange:function(e){this.form.cost_price=this.money(e.detail.value)},originalChange:function(e){this.form.original_price=this.money(e.detail.value)},priceChange:function(e){this.form.price=this.money(e.detail.value)},nameBlur:function(){this.inputName=!this.inputName},changeConfine:function(){this.confine=!this.confine,this.confine&&-1==this.form.confine_count&&(this.form.confine_count="")},chooseAttr:function(){uni.navigateTo({url:"/plugins/mch/mch/goods-attr/goods-attr"}),this.$storage.setStorageSync("goods_unit",this.unit)},toSubmit:function(){var e=this;if(e.loading)return!1;uni.showLoading({title:"提交中..."}),e.beSubmit=!1,e.loading=!0,e.$request({url:e.$api.mch.edit,data:{form:JSON.stringify(e.form),mch_id:e.mch_id},method:"post"}).then((function(t){e.loading=!1,e.$hideLoading(),0==t.code?(e.$hideLoading(),uni.hideLoading(),0==t.code?(uni.showToast({title:t.msg,duration:1e3}),setTimeout((function(){uni.navigateBack()}),500)):uni.showToast({title:t.msg,icon:"none",duration:1e3})):uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(){e.loading=!1,e.$hideLoading(),uni.hideLoading()}))},submit:function(){var e=!1,t=this,i=t.form;if(i.status=this.form.status?this.form.status:1,i.cats=[],i.mchCats=[],0==t.beCat.length)return t.error="请设置商品分类",!1;if(t.beCat.forEach((function(e){i.cats.push(e.value)})),0==t.beMchCat.length)return t.error="请设置多商户分类",!1;if(t.beMchCat.forEach((function(e){i.mchCats.push(e.value)})),!(t.img.length>0))return t.error="请上传商品图片",!1;if(i.pic_url=t.img,!i.name)return t.error="请设置商品名称",!1;if(!t.unit)return t.error="请设置商品单位",!1;if(i.unit=t.unit,0!=i.cost_price&&!i.cost_price)return t.error="请设置商品成本价",!1;if(i.cost_price<0)return t.error="成本价不得小于零",!1;if(0!=i.original_price&&!i.original_price)return t.error="请设置商品原价",!1;if(i.original_price<0)return t.error="商品原价不得小于零",!1;if(0!=i.price&&!i.price)return t.error="请设置商品售价",!1;if(t.set_attr){if(i.use_attr=1,i.goods_num=0,!i.attr_groups||0==i.attr_groups.length)return t.error="请设置商品规格",!1;e=!0}else{if(i.use_attr=0,i.attr=[],!i.goods_num)return t.error="商品库存不得为空",!1;if(i.goods_num<0)return t.error="商品库存不得小于零",!1;e=!0}if(i.cards=t.goods_card,i.is_default_services=1,i.services=[],t.form.limit_buy_status=t.confine?1:0,0==t.is_default_services&&(i.is_default_services=0,t.beService.length>0&&(i.services=t.beService)),!(t.goods_detail.length>0))return t.error="请设置图文描述",!1;for(var a in i.detail="",t.goods_detail)"img"==t.goods_detail[a].type?i.detail+='<p><img src="'+t.goods_detail[a].pic_url+'"/></p>':"line"==t.goods_detail[a].type?i.detail+='<p><img src="'+t.adminImg.line+'"/></p>':"text"==t.goods_detail[a].type&&(i.detail+="<p>"+t.goods_detail[a].text+"</p>");t.forehead_integral&&(t.forehead_integral>0?(i.forehead_integral_type=1,i.forehead_integral=t.forehead_integral):(i.forehead_integral_type=2,i.forehead_integral=t.forehead_integral.replace("%",""))),t.give_integral&&(t.give_integral>0?(i.give_integral_type=1,i.give_integral=t.give_integral):(i.give_integral_type=2,i.give_integral=t.give_integral.replace("%",""))),i.virtual_sales||(i.virtual_sales=0),i.cover_pic||(i.cover_pic=""),i.sort||(i.sort=100),i.accumulative||(i.accumulative=1),i.member_price||(i.member_price={}),i.freight_id=t.bePostage.id,i.freight=t.bePostage,i.shipping_id=t.beDelivery.id,i.shipping=t.beDelivery,i.individual_share||(i.individual_share=0),i.is_level||(i.is_level=0),i.individual_share||(i.individual_share=0),i.video_url||(i.video_url=""),i.mch_id=t.mch_id,i.sign="mch",e&&(t.form=i,t.id>0?(t.form.id=t.id,t.toSubmit()):t.beSubmit=!0)},close:function(){this.error=null,this.set_cat=!1,this.set_mch_cat=!1,this.set_postage=!1,this.set_service=!1,this.modal=!1},inputAttr:function(e){this.attr[e].attr_list[0].attr_id=(+e+2).toString()},_longtap:function(e,t,i){var a=this,n=uni.createSelectorQuery(),s=n.selectAll(".move-img");s.fields({dataset:!0,rect:!0},(function(e){a.elements=e})).exec(),a.img[t].pic_url="",a.x=i.currentTarget.offsetLeft,a.y=i.currentTarget.offsetTop,a.imgHidden=!1,a.flag=!0,a.beMove=!0,a.img_src=e,a.beginIndex=t,a.drag.move=!1,a.drag.offsetX=0,a.drag.offsetY=0},touchend:function(e){var t=this;if(t.flag){for(var i=e.changedTouches[0].pageX,a=e.changedTouches[0].pageY,n=t.elements,s=t.img,o=t.beginIndex,r=0;r<n.length;r++){var c=n[r];if(i>c.left&&i<c.right&&a>c.top&&a<c.bottom){var l=c.dataset.index;if(o<l){for(var d=s[o],u=o;u<l;u++)s[u]=s[u+1];s[l]=d}if(o>l){for(var v=s[o],f=o;f>l;f--)s[f]=s[f-1];s[l]=v}s[l].pic_url=t.img_src,t.img=s}}t.img[o].pic_url||(t.img[o].pic_url=t.img_src),t.imgHidden=!0,t.flag=!1,t.beMove=!1,t.beginIndex=null}},touchm:function(e){if(this.flag){var t=e.touches[0].pageX,i=e.touches[0].pageY;this.x=t-60,this.y=i-189}},cancelService:function(){var e=this.beService,t=this.service;e.length>0?t.forEach((function(t){t.isChoose=!1,e.forEach((function(e){e.id==t.id&&(t.isChoose=!0)}))})):t.forEach((function(e){e.isChoose=!1})),this.beService=e,this.service=t,this.set_service=!1,this.is_service=!1},submitService:function(){var e=[];this.service.forEach((function(t){t.isChoose&&e.push(t)})),this.beService=e,this.set_service=!1,this.is_service=!1},choose:function(e){var t=this;t.service.forEach((function(i){i.id==e.id&&(i.isChoose=!i.isChoose,t.$forceUpdate())}))},toGoodsDetail:function(){uni.navigateTo({url:"/plugins/mch/mch/goods-detail/goods-detail?mch_id="+this.mch_id})},add_img:function(){var e=this,t=9-e.img.length;uni.chooseImage({count:Number(t),success:function(i){uni.showLoading({mask:!0,title:"上传中..."});var a=function(a){if(a>=t-e.img.length)return"break";var n=new Image;n.src=i.tempFilePaths[a],n.onload=function(){var i=document.createElement("canvas");i.width=n.width,i.height=n.height;var a=i.getContext("2d");a.drawImage(n,0,0,n.width,n.height);var s=n.src.substring(n.src.lastIndexOf(".")+1).toLowerCase(),o=i.toDataURL("image/"+s);(0,r.default)({url:e.$api.upload.file,maxNum:t,success:function(t){t.res;var i=t.header;e.$request({url:e.$api.upload.file+"&name=base64",header:i,method:"post",data:{database:o}}).then((function(t){uni.hideLoading(),0===t.code?e.img.push({pic_url:t.data.url,id:t.data.id}):uni.showModal({title:"",content:t.msg,showCancel:!1})}))}})}};for(var n in i.tempFilePaths){var s=a(n);if("break"===s)break}}})},del_img:function(e){this.img.splice(e,1)},chooseCat:function(e){uni.navigateTo({url:"/pages/goods-edit/goods-cat/goods-cat?type="+e+"&mch_id="+this.mch_id})},chooseService:function(){var e=this;e.first_service?e.$request({url:e.$api.mch.service,data:{mch_id:e.mch_id}}).then((function(t){if(e.$hideLoading(),0==t.code){e.service=t.data.list,0==t.data.list.length?e.modal=!0:e.is_service=!0;var i,a=[],n=c(t.data.list);try{for(n.s();!(i=n.n()).done;){var s=i.value;if(s.isChoose=!1,1==e.is_default_services)1==s.is_default&&(a.push(s),s.isChoose=!0);else{var o,r=c(e.beService);try{for(r.s();!(o=r.n()).done;){var l=o.value;s.id==l.id&&(s.isChoose=!0)}}catch(d){r.e(d)}finally{r.f()}}}}catch(d){n.e(d)}finally{n.f()}e.set_service=!0,1==e.is_default_services&&(e.beService=a,e.default_service=a),e.first_service=!1}else uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(){e.$hideLoading()})):0==e.service.length?e.modal=!0:e.is_service=!0},chooseExpress:function(){var e=this;e.$request({url:e.$api.mch.postage,data:{mch_id:e.mch_id}}).then((function(t){if(e.$hideLoading(),0==t.code)if(0==t.data.list.length)e.set_postage=!0,e.modal=!0,e.postage=t.data.list;else{var i=[];t.data.list.forEach((function(e,a){i.push(t.data.list[a].id)}));var a=i.indexOf(e.bePostage.id);a>-1?(e.postageIndex=+a,e.newIndex=+a):e.bePostage="",e.set_postage=!0,e.dialog=!0,e.dialogType="postage",e.postage=t.data.list}else uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(){e.$hideLoading()}))},chooseDelivery:function(){var e=this;e.$request({url:e.$api.mch.delivery_rules,data:{mch_id:e.mch_id}}).then((function(t){if(e.$hideLoading(),0==t.code)if(0==t.data.list.length)e.set_delivery=!0,e.modal=!0,e.delivery=t.data.list;else{var i=[];t.data.list.forEach((function(e,a){i.push(t.data.list[a].id)}));var a=i.indexOf(e.beDelivery.id);a>-1?(e.deliveryIndex=+a,e.newIndex=+a):e.beDelivery="",e.set_delivery=!0,e.dialog=!0,e.dialogType="delivery",e.delivery=t.data.list}else uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(){e.$hideLoading()}))},getService:function(){var e=this;e.$request({url:e.$api.mch.service,data:{mch_id:e.mch_id}}).then((function(t){if(e.$hideLoading(),0==t.code){for(var i in e.service=t.data.list,e.service)e.service[i].isChoose=!1;if(id>0)for(var a in e.beService)for(var n in e.service)e.service[n].id==e.beService[a].id&&(e.service[n].isChoose=!0,e.first_service=!1);else e.beService=[],data.list.forEach((function(t){t.isChoose=!1,1==t.is_default&&(e.beService.push(t),t.isChoose=!0)}))}else uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(){e.$hideLoading()}))},getPostage:function(e){var t=this;t.$request({url:t.$api.mch.postage,data:{mch_id:t.mch_id}}).then((function(i){if(t.$hideLoading(),0==i.code){if(t.postage=i.data.list,e>0)return!1;t.bePostage="",t.bePostage=i.data.list[0]}else uni.showToast({title:i.msg,icon:"none",duration:1e3})})).catch((function(){t.$hideLoading()}))},getDelivery:function(e){var t=this;this.$request({url:this.$api.mch.delivery_rules,data:{mch_id:t.mch_id}}).then((function(i){if(t.$hideLoading(),0==i.code){if(t.delivery=i.data.list,e>0)return!1;t.beDelivery="",t.beDelivery=i.data.list[0]}else uni.showToast({title:i.msg,icon:"none",duration:1e3})})).catch((function(){t.$hideLoading()}))},getDetail:function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t){var i,a,n,s,o,r,c,l,d,u,v,f,g,h,p,m,_,w,b,y,C,x,S,$,k,A,T,U,E,R,I,O,M,L;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request({url:this.$api.mch.goods_edit,data:{id:t,mch_id:this.mch_id}});case 2:return i=e.sent,a=i.code,n=i.data,s=i.msg,e.next=6,this.$hideLoading();case 6:if(this.getService(t),this.getPostage(t),this.getDelivery(t),0===a){for(O in this.form=n.detail,o=this.form,r=o.pic_url,c=o.cats,l=o.use_attr,d=o.mchCats,u=o.services,v=o.freight,f=o.cards,g=o.confine_count,h=o.is_default_services,p=o.forehead_integral,m=o.forehead_integral_type,_=o.give_integral,w=o.give_integral_type,b=o.attr_groups,y=o.attr,C=o.detail,x=o.unit,S=o.shipping,$=o.min_number,k=o.limit_buy_status,A=o.limit_buy_type,T=o.limit_buy_value,U=o.limit_buy_order,this.limit_buy_type=A,this.img=r,this.beCat=c,this.beMchCat=d,this.set_attr=1==l,this.beService=u,this.bePostage=v,this.goods_card=f,this.beDelivery=S,this.unit=x,this.min_number=$,1==k&&(this.confine=!0),g>0&&(this.limit_buy_first=!1),T>0&&(this.limit_buy_second=!1),U>0&&(this.limit_buy_third=!1),0==h&&(this.is_default_services=!1),this.forehead_integral=+p,2==m&&(this.forehead_integral=p+"%"),this.give_integral=+_,2==w&&(this.give_integral=_+"%"),b.length>0&&y.length>0&&(this.attr=!0,this.$storage.setStorageSync("goods_attr_groups",b),this.$storage.setStorageSync("goods_attr",y)),E=C.split(/<\/p>|<br\/>|<img /),R=[],I=void 0,E)E[O]=E[O].replace(/<p>/g,"").replace(/<\/p>/g,""),I={type:""},E[O].indexOf("src")>-1?(I.type="img",I.id="",M=E[O].indexOf(".png")>-1?E[O].indexOf(".png")+4:E[O].length-1,E[O].indexOf(".jpg")>-1&&(M=E[O].indexOf(".jpg")+4),E[O].indexOf(".jpeg")>-1&&(M=E[O].indexOf(".jpeg")+5),E[O].indexOf(".gif")>-1&&(M=E[O].indexOf(".gif")+4),I.pic_url=E[O].slice(E[O].indexOf("http"),M)):(I.type="text",I.text=E[O]),R[O]=I;for(L in R)""===R[L].text&&R.splice(L,1);this.goods_detail=R,this.$storage.setStorageSync("goods_card",f),this.$storage.setStorageSync("mch_goods_cat",this.beCat),this.$storage.setStorageSync("mch_goods_mch_cat",this.beMchCat),this.$storage.setStorageSync("goods_detail",R)}else uni.showToast({title:s,icon:"none",duration:1e3});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),limitBuyFirstChange:function(e){"1"===e.target.value?(this.limit_buy_first=!0,this.form.confine_count=-1):(this.limit_buy_first=!1,this.form.confine_count="")},limitBuySecChange:function(e){"1"===e.target.value?(this.limit_buy_second=!0,this.form.limit_buy_value=-1):(this.limit_buy_second=!1,this.form.limit_buy_value="")},limitBuySecTypeChange:function(e){this.limit_buy_type=e.target.value,this.form.limit_buy_type=e.target.value},limitBuyThirdChange:function(e){"1"===e.target.value?(this.limit_buy_third=!0,this.form.limit_buy_order=-1):(this.limit_buy_third=!1,this.form.limit_buy_order="")}},onLoad:function(e){this.$commonLoad.onload(e);var t=this;t.iphone_x=this.$utils.checkIphone(),t.mch_id=e.mch_id,uni.getSystemInfo({success:function(e){var i=e.windowHeight,a=e.windowWidth,n=750/a;t.height=i*n}}),this.$storage.removeStorageSync("mch_goods_cat"),this.$storage.removeStorageSync("mch_goods_mch_cat"),this.$storage.removeStorageSync("goods_unit"),this.$storage.removeStorageSync("goods_attr_groups"),this.$storage.removeStorageSync("goods_attr"),this.$storage.removeStorageSync("temp_attr"),this.$storage.removeStorageSync("temp_attr_info"),this.$storage.removeStorageSync("goods_detail"),t.goods_card=[],t.goods_detail=[],e.id>0?(t.$showLoading({type:"global",text:"加载中..."}),t.id=e.id,setTimeout((function(){uni.setNavigationBarTitle({title:"编辑商品"}),t.getDetail(e.id)}),500)):(t.getService(),t.getPostage(),t.getDelivery())},onShow:function(){this.goods_card=this.$storage.getStorageSync("goods_card")?this.$storage.getStorageSync("goods_card"):[],this.beCat=this.$storage.getStorageSync("mch_goods_cat")?this.$storage.getStorageSync("mch_goods_cat"):[],this.beMchCat=this.$storage.getStorageSync("mch_goods_mch_cat")?this.$storage.getStorageSync("mch_goods_mch_cat"):[],this.goods_detail=this.$storage.getStorageSync("goods_detail")?this.$storage.getStorageSync("goods_detail"):[],this.form.attr=this.$storage.getStorageSync("goods_attr")?this.$storage.getStorageSync("goods_attr"):[],this.$storage.getStorageSync("goods_attr_groups")&&(this.form.attr_groups=this.$storage.getStorageSync("goods_attr_groups"),this.attr=!0),this.$storage.removeStorageSync("temp_attr"),this.$storage.removeStorageSync("temp_attr_info")}};t.default=f},"4b13":function(e,t,i){"use strict";i.r(t);var a=i("2fd7"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},"5cf8":function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".text-center[data-v-56476ece]{text-align:center}.font-weight[data-v-56476ece]{font-weight:700}.page-width[data-v-56476ece]{width:100%}.goods-hover-class[data-v-56476ece]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-56476ece]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-56476ece]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-56476ece]{width:100%}.u-hover-class[data-v-56476ece]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-56476ece]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.unit-width[data-v-56476ece]{width:%?112?%;text-align:right}.title[data-v-56476ece]{font-size:%?28?%;color:#999;margin:%?30?% %?24?% %?13?%}.goods-img[data-v-56476ece]{background-color:#fff;padding:%?32?% %?24?%}.goods-list[data-v-56476ece]{margin-top:%?8?%;margin-left:%?-24?%}.goods-item[data-v-56476ece]{position:relative;margin-left:%?24?%;margin-top:%?24?%;height:%?218?%;width:%?218?%}.label[data-v-56476ece]{font-size:%?28?%;color:#999}.goods-cover[data-v-56476ece]{height:%?218?%;width:%?218?%}.del-btn[data-v-56476ece]{height:%?40?%;width:%?40?%;position:absolute;right:%?-8?%;top:%?-16?%}.main-img[data-v-56476ece]{height:%?40?%;line-height:%?40?%;width:%?218?%;text-align:center;font-size:%?24?%;color:#fff;background-color:rgba(255,69,68,.5);position:absolute;bottom:0;left:0}.add-goods-img[data-v-56476ece]{background-color:#f4f5f9;position:relative;margin-left:%?24?%;margin-top:%?24?%;height:%?218?%;width:%?218?%;font-size:%?24?%;color:#999;text-align:center;z-index:100}.add-goods-img uni-image[data-v-56476ece]{height:%?40?%;width:%?40?%;margin:%?70?% auto %?10?%}.goods-info[data-v-56476ece]{background-color:#fff;padding:0 %?24?%}.goods-info .info-item[data-v-56476ece]:first-of-type{border-top:0}.goods-info .info-item.goods-name[data-v-56476ece]{border-top:%?1?% solid #e2e2e2}.form-label[data-v-56476ece]{width:%?176?%}.info-item[data-v-56476ece]{border-top:%?1?% solid #e2e2e2;height:%?88?%;line-height:%?88?%;font-size:%?28?%;color:#353535}uni-view.input[data-v-56476ece]{height:%?80?%;line-height:%?80?%;white-space:nowrap;overflow:auto}uni-view.input.placeholder[data-v-56476ece]{color:#cdcdcd}.input[data-v-56476ece]{width:%?476?%;background-color:#fff;padding-left:%?25?%;font-size:%?28?%}.input.unit[data-v-56476ece]{width:%?396?%}.cat-info[data-v-56476ece]{width:%?526?%;color:#666}.to-more[data-v-56476ece]{height:%?24?%;width:%?12?%;margin-left:%?10?%}.price-input[data-v-56476ece]{position:relative;color:#666;height:%?88?%}.money[data-v-56476ece]{position:absolute;height:%?88?%;line-height:%?88?%;width:%?20?%;left:0;top:0}.attr-info[data-v-56476ece]{background-color:#fff;padding:0 %?24?%;margin-top:%?20?%}.attr-input[data-v-56476ece]{width:%?638?%}.attr-input .input[data-v-56476ece]{color:#666;width:%?462?%}.attr-input .input.unit[data-v-56476ece]{width:%?330?%}.low-attr[data-v-56476ece]{margin-top:%?24?%;height:%?40?%;width:%?40?%;margin-right:%?24?%}.add-attr[data-v-56476ece]{height:%?120?%;background-color:#fff;padding-top:%?24?%;border-top:%?1?% solid #e2e2e2}.add-attr-btn[data-v-56476ece]{height:%?72?%;width:%?320?%;border-radius:%?36?%;border:%?1?% solid #ff4544;margin:0 auto;color:#ff4544;font-size:%?26?%;line-height:%?72?%}.add-attr-btn uni-image[data-v-56476ece]{height:%?28?%;width:%?28?%;margin-right:%?12?%;margin-top:%?22?%}.express-setting[data-v-56476ece]{height:%?136?%;padding:%?16?% 0 %?20?%;border-top:%?1?% solid #e2e2e2}.express-input[data-v-56476ece]{position:relative}.express-input .input[data-v-56476ece]{width:%?702?%;padding-left:%?216?%}.express-input uni-view[data-v-56476ece]{position:absolute;left:0;z-index:10}.express-etc[data-v-56476ece]{color:#999;font-size:%?24?%;margin-top:%?16?%}.send[data-v-56476ece]{height:%?80?%;line-height:%?80?%;text-align:center;width:%?702?%;margin:%?80?% %?24?%;font-size:%?28?%;color:#fff;background-color:#ff4544;border-radius:%?40?%}.dialog[data-v-56476ece]{position:fixed;height:100%;width:100%;bottom:0;left:0;z-index:200;background-color:rgba(0,0,0,.3)}.dialog.iphone_x .picker-list[data-v-56476ece]{padding-bottom:%?50?%}.picker[data-v-56476ece]{width:100%;height:%?440?%;color:#999}.dialog.iphone_x .picker[data-v-56476ece]{height:%?490?%}.picker-list[data-v-56476ece]{background-color:#fff;padding-top:%?20?%;position:fixed;bottom:0;left:0;width:100%}.picker-header[data-v-56476ece]{padding:0 %?24?%;color:#ff4544;font-size:%?32?%}.is_cat[data-v-56476ece]{padding:%?50?% 0 0 %?24?%;color:#666;font-size:%?28?%;border-bottom:%?1?% solid #e2e2e2}.is_cat uni-text[data-v-56476ece]{margin-right:%?48?%;display:inline-block;max-width:%?130?%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.is_cat uni-text[data-v-56476ece]:last-of-type{padding-bottom:%?24?%;color:#ff4544;border-bottom:%?2?% solid #ff4544}.type-choose[data-v-56476ece]{padding:0 %?24?% 0 %?72?%;height:%?36?%;line-height:%?36?%;color:#353535;font-size:%?32?%;text-align:left;margin:%?35?% 0 %?50?%}.type-choose .active[data-v-56476ece]{color:#ff4544}.active-status[data-v-56476ece]{width:%?36?%;height:%?36?%;display:block;margin-right:%?24?%}.attr-btn-item[data-v-56476ece]{padding-left:%?88?%;background-color:#fff}.dialog[data-v-56476ece]{position:fixed;height:100%;width:100%;bottom:0;left:0;z-index:200;background-color:rgba(0,0,0,.3)}.dialog-item[data-v-56476ece]{padding-top:%?20?%;position:fixed;top:30%;left:0;right:0;margin:0 auto;width:%?620?%;border-radius:%?16?%;background-color:#fff}.btn-area[data-v-56476ece]{height:%?88?%;position:relative;border-top:%?1?% solid #e2e2e2}.btn-area .line[data-v-56476ece]{height:%?32?%;width:%?1?%;background-color:#e2e2e2;position:absolute;top:%?28?%;left:0;right:0;margin:0 auto}.submit-btn[data-v-56476ece]{height:%?88?%;line-height:%?88?%;font-size:%?32?%;color:#666;width:%?310?%;text-align:center}.submit-btn.be-submit[data-v-56476ece]{color:#ff4544}.dialog-title[data-v-56476ece]{text-align:center;margin:%?15?% 0 %?50?%}.img-border[data-v-56476ece]{height:%?250?%;width:%?250?%;margin-top:%?-16?%;margin-left:%?-16?%}.screen[data-v-56476ece]{height:100%;overflow:hidden}.error-info[data-v-56476ece]{text-align:center;margin:%?50?%}.submit-info[data-v-56476ece]{text-align:center;margin-bottom:%?60?%}.picker-text[data-v-56476ece]{line-height:%?88?%;color:#ff4544;font-size:%?32?%;padding-left:%?24?%}.integral[data-v-56476ece]{font-size:%?28?%;color:#353535}.integral-info .express-setting[data-v-56476ece]{height:%?164?%}.integral-info .express-setting[data-v-56476ece]:first-of-type{border-top:0}.label-info[data-v-56476ece]{font-size:%?24?%;color:#999}.service-text[data-v-56476ece]{width:%?500?%;text-align:right;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}.select[data-v-56476ece]{width:%?448?%}.select-label[data-v-56476ece]{font-size:%?26?%;margin-left:%?10?%;margin-right:%?20?%}.goods-type[data-v-56476ece]{background-color:#fff;padding:0 %?24?%;margin-bottom:%?18?%}.goods-type .type[data-v-56476ece]{border-top:0}body.?%PAGE?%[data-v-56476ece]{background:#f7f7f7}",""])},a250:function(e,t,i){"use strict";i.r(t);var a=i("cfee"),n=i("4b13");for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("cf97");var o,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"56476ece",null,!1,a["a"],o);t["default"]=c.exports},bf1a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAkFBMVEUAAAD/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUT/RUQqA7U/AAAAL3RSTlMA4NnUsA3xoDH45JWOZldNIRUGzcu/pZqJgHcR7MW3q5FwXkI0G7p8ckY+Kx4Zm5zvJ7gAAAEpSURBVDjLdZLZloMgEERLxbjEPatLXKJmz/D/fzcTRlGB3KfmVB+K7gITUeCRjWGcqjSMIWPXGuVsrm9BNr2CLtB9zOm2VGJvgvPQqIIL77BdqmQ3dOQG/cIBDE9WVreGuYbMYCU3HAGLjZsAWMu61iPSWXUGokLSHf9zAYMkOCten6AdH/NUObTAbqwDlJJuAT4/pNiIuhuhd2er0MWGDDjOEuEN7lAY8WIzeww5buPkME5e0Yk1CA+G3VwCgTM35H4kBjJKO5iL7EKEY1nGQFoDt8VIL+R8jO0Lf/SFsBNc+cmwxeycO4C3NqX4QOvMGwg++JSj18biAhsMQr/Q4J/8pNY9jOQXtT5hWvK/bbAgEGxIB4HEr3iI2uEOFc8g/dlb6yyMMPELZbx/XzINENIAAAAASUVORK5CYII="},cf97:function(e,t,i){"use strict";var a=i("f7a7"),n=i.n(a);n.a},cfee:function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("app-layout",[a("v-uni-view",{class:[e.beMove?"screen":""],style:{height:e.beMove?e.height/2+"px":"100%"}},[a("v-uni-view",{staticClass:"title"},[e._v("基本信息")]),0!==e.id&&"form-goods"===e.form.type?a("v-uni-view",{staticClass:"goods-type"},[a("v-uni-view",{staticClass:"info-item type cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("商品类型")]),a("v-uni-view",{staticClass:"select"},[a("v-uni-radio-group",{staticClass:"dir-left-nowrap main-between"},[a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{disabled:0!==e.id,color:"#446dfd",value:"goods",checked:"goods"===e.form.type}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("实体商品")])],1),0!==e.id?a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{disabled:0!==e.id,color:"#446dfd",value:"form-goods",checked:"form-goods"===e.form.type}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("定制商品")])],1):e._e()],1)],1)],1)],1):e._e(),a("v-uni-view",{staticClass:"goods-img"},[a("v-uni-view",{staticClass:"label"},[a("v-uni-text",[e._v("商品图片")]),a("v-uni-text",{staticClass:"label-info"},[e._v("(最多9张，可拖拽改变顺序)")])],1),a("v-uni-view",{staticClass:"goods-list"},[a("v-uni-movable-area",{staticClass:"flex-wrap",staticStyle:{height:"auto",width:"100%"}},[e._l(e.img,(function(t,i){return a("v-uni-view",{key:i,staticClass:"goods-item",on:{touchend:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.touchend.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.touchm.apply(void 0,arguments)},longpress:function(a){a.stopPropagation(),arguments[0]=a=e.$handleEvent(a),e._longtap(t.pic_url,i,a)}}},[a("v-uni-image",{staticClass:"goods-cover move-img",attrs:{mode:"aspectFill","data-index":i,src:t.pic_url}}),e.beMove?e._e():a("v-uni-image",{staticClass:"del-btn",attrs:{src:"/plugins/mch/image/delete.png"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.del_img(i)}}}),0!=i||e.beMove?e._e():a("v-uni-view",{staticClass:"main-img"},[e._v("主图")])],1)})),e.img.length<9?a("v-uni-view",{staticClass:"add-goods-img",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.add_img.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:i("0313")}}),a("v-uni-view",[e._v("添加")])],1):e._e(),a("v-uni-movable-view",{attrs:{"data-index":e.beginIndex,x:e.x,y:e.y,direction:"all",damping:5e3,friction:1,disabled:e.disabled}},[a("v-uni-image",{staticClass:"goods-cover img-border",attrs:{hidden:e.imgHidden,mode:"aspectFill",src:e.img_src}})],1)],2)],1)],1),a("v-uni-view",{staticClass:"goods-info"},[a("v-uni-view",{staticClass:"info-item goods-name cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("商品名称")]),e.inputName?a("v-uni-view",{class:e.form.name.length>0?"input":"input placeholder",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.nameBlur.apply(void 0,arguments)}}},[e._v(e._s(e.form.name?e.form.name:"请输入商品名称"))]):a("v-uni-input",{staticClass:"input",attrs:{focus:!e.inputName,"placeholder-style":"color: #cdcdcd",placeholder:"请输入商品名称"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.nameBlur.apply(void 0,arguments)}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("v-uni-view",{staticClass:"info-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[e._v("商品分类")]),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseCat("mall")}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),e.beCat.length>0?a("v-uni-text",[e._v("编辑")]):a("v-uni-text",[e._v("未选择")])],1)],1)],1),a("v-uni-view",{staticClass:"info-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[e._v("多商户分类")]),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseCat("mch")}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),e.beMchCat.length>0?a("v-uni-text",[e._v("编辑")]):a("v-uni-text",[e._v("未选择")])],1)],1)],1),a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("单位")]),a("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[a("v-uni-input",{staticClass:"input",attrs:{maxlength:"4","placeholder-style":"color: #cdcdcd",placeholder:"请输入商品单位"},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}})],1)],1)],1),a("v-uni-view",{staticClass:"title"},[e._v("规格、价格及库存")]),a("v-uni-view",{staticClass:"goods-info"},["goods"===e.form.type?a("v-uni-view",{staticClass:"info-item main-between cross-center"},[a("v-uni-view",[e._v("多规格")]),a("v-uni-switch",{staticStyle:{transform:"scale(0.7)"},attrs:{checked:e.set_attr},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.set_attr=!e.set_attr}}})],1):e._e(),e.set_attr&&"goods"===e.form.type?a("v-uni-view",{staticClass:"info-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[e._v("商品规格")]),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseAttr.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),e.attr?a("v-uni-text",[e._v("已设置")]):a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[e._v("未设置，点击设置")])],1)],1)],1):e._e(),e.set_attr||"goods"!==e.form.type?e._e():a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("规格")]),a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd"},model:{value:e.form.attr_default_name,callback:function(t){e.$set(e.form,"attr_default_name",t)},expression:"form.attr_default_name"}})],1)],1),a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("成本价")]),a("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center main-between"},[a("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入成本价",type:"digit"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.costChange.apply(void 0,arguments)}},model:{value:e.form.cost_price,callback:function(t){e.$set(e.form,"cost_price",t)},expression:"form.cost_price"}}),a("v-uni-view",[e._v("元")])],1)],1),a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("原价")]),a("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center main-between"},[a("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入原价",type:"digit"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.originalChange.apply(void 0,arguments)}},model:{value:e.form.original_price,callback:function(t){e.$set(e.form,"original_price",t)},expression:"form.original_price"}}),a("v-uni-view",[e._v("元")])],1)],1),a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("售价")]),a("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center main-between"},[a("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入售价",type:"digit"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.priceChange.apply(void 0,arguments)}},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}}),a("v-uni-view",[e._v("元")])],1)],1),e.set_attr?e._e():a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("库存")]),a("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center main-between"},[a("v-uni-input",{staticClass:"input unit",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入库存",type:"number"},model:{value:e.form.goods_num,callback:function(t){e.$set(e.form,"goods_num",t)},expression:"form.goods_num"}}),a("v-uni-view",{staticClass:"unit-width"},[e._v(e._s(e.unit))])],1)],1),e.set_attr?e._e():a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("货号")]),a("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center"},[a("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入货号"},model:{value:e.form.goods_no,callback:function(t){e.$set(e.form,"goods_no",t)},expression:"form.goods_no"}})],1)],1),e.set_attr?e._e():a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("重量")]),a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入重量",type:"number"},model:{value:e.form.goods_weight,callback:function(t){e.$set(e.form,"goods_weight",t)},expression:"form.goods_weight"}}),a("v-uni-view",[e._v("g")])],1)],1)],1),a("v-uni-view",{staticClass:"title"},[e._v("运费、包邮及限购")]),a("v-uni-view",{staticClass:"goods-info"},[a("v-uni-view",{staticClass:"info-item cross-center main-between",staticStyle:{"border-top":"0"}},[a("v-uni-view",{staticClass:"form-label"},[e._v("运费设置")]),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseExpress.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),e.bePostage.id>-1?a("v-uni-text",[e._v(e._s(e.bePostage.name))]):a("v-uni-text",[e._v("未选择")])],1)],1)],1),"goods"==e.form.type?a("v-uni-view",{staticClass:"info-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[e._v("包邮规则")]),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseDelivery.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),e.beDelivery.id>-1?a("v-uni-text",[e._v(e._s(e.beDelivery.name))]):a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[e._v("未选择")])],1)],1)],1):e._e(),a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("起售数量")]),a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-input",{staticClass:"input",staticStyle:{width:"396rpx"},attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入起售数量",type:"number"},model:{value:e.form.min_number,callback:function(t){e.$set(e.form,"min_number",t)},expression:"form.min_number"}}),a("v-uni-view",[e._v(e._s(e.unit))])],1)],1)],1),a("v-uni-view",{staticClass:"info-item main-between cross-center"},[a("v-uni-view",[e._v("限购")]),a("v-uni-switch",{staticStyle:{transform:"scale(0.8)"},attrs:{checked:e.confine},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeConfine.apply(void 0,arguments)}}})],1),e.confine?a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("终身限购")]),a("v-uni-view",{staticClass:"select"},[a("v-uni-radio-group",{staticClass:"dir-left-nowrap main-between",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.limitBuyFirstChange.apply(void 0,arguments)}}},[a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{color:"#ff4544",value:"1",checked:e.limit_buy_first}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("无限制")])],1),a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{color:"#ff4544",value:"0",checked:!e.limit_buy_first}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("手动输入")])],1)],1)],1)],1):e._e(),e.confine&&!e.limit_buy_first?a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("终身限购数量")]),a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-input",{staticClass:"input",staticStyle:{width:"396rpx"},attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入终身限购数量",type:"number"},model:{value:e.form.confine_count,callback:function(t){e.$set(e.form,"confine_count",t)},expression:"form.confine_count"}}),a("v-uni-view",[e._v(e._s(e.unit))])],1)],1)],1):e._e(),e.confine?a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("按周期限购")]),a("v-uni-view",{staticClass:"select"},[a("v-uni-radio-group",{staticClass:"dir-left-nowrap main-between",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.limitBuySecChange.apply(void 0,arguments)}}},[a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{color:"#ff4544",value:"1",checked:e.limit_buy_second}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("无限制")])],1),a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{color:"#ff4544",value:"0",checked:!e.limit_buy_second}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("手动输入")])],1)],1)],1)],1):e._e(),e.confine&&!e.limit_buy_second?a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("选择周期")]),a("v-uni-view",{staticClass:"select"},[a("v-uni-radio-group",{staticClass:"dir-left-nowrap main-between",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.limitBuySecTypeChange.apply(void 0,arguments)}}},[a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{color:"#ff4544",value:"day",checked:"day"==e.limit_buy_type}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("每天")])],1),a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{color:"#ff4544",value:"week",checked:"week"==e.limit_buy_type}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("每周")])],1),a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{color:"#ff4544",value:"month",checked:"month"==e.limit_buy_type}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("每月")])],1)],1)],1)],1):e._e(),e.confine&&!e.limit_buy_second?a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("周期限购数量")]),a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-input",{staticClass:"input",staticStyle:{width:"396rpx"},attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入周期限购数量",type:"number"},model:{value:e.form.limit_buy_value,callback:function(t){e.$set(e.form,"limit_buy_value",t)},expression:"form.limit_buy_value"}}),a("v-uni-view",[e._v(e._s(e.unit))])],1)],1)],1):e._e(),e.confine?a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("按订单限购")]),a("v-uni-view",{staticClass:"select"},[a("v-uni-radio-group",{staticClass:"dir-left-nowrap main-between",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.limitBuyThirdChange.apply(void 0,arguments)}}},[a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{color:"#ff4544",value:"1",checked:e.limit_buy_third}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("无限制")])],1),a("v-uni-label",{staticClass:"dir-left-nowrap"},[a("v-uni-view",[a("v-uni-radio",{staticStyle:{transform:"scale(0.8)"},attrs:{color:"#ff4544",value:"0",checked:!e.limit_buy_third}})],1),a("v-uni-view",{staticClass:"select-label"},[e._v("手动输入")])],1)],1)],1)],1):e._e(),e.confine&&!e.limit_buy_third?a("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[e._v("订单限购数量")]),a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[a("v-uni-input",{staticClass:"input",staticStyle:{width:"396rpx"},attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入订单限购数量",type:"number"},model:{value:e.form.limit_buy_order,callback:function(t){e.$set(e.form,"limit_buy_order",t)},expression:"form.limit_buy_order"}}),a("v-uni-view",[e._v(e._s(e.unit))])],1)],1)],1):e._e()],1),a("v-uni-view",{staticClass:"title"},[e._v("商品图文描述")]),a("v-uni-view",{staticClass:"goods-info"},[a("v-uni-view",{staticClass:"info-item cross-center main-between",staticStyle:{"border-top":"0"}},[a("v-uni-view",{staticClass:"form-label"},[e._v("商品图文描述")]),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toGoodsDetail.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),e.goods_detail.length>0?a("v-uni-text",[e._v("已添加")]):a("v-uni-text",[e._v("未添加")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"title"},[e._v("服务内容")]),a("v-uni-view",{staticClass:"goods-info"},[a("v-uni-view",{staticClass:"info-item main-between cross-center"},[a("v-uni-view",[e._v("默认服务")]),a("v-uni-switch",{staticStyle:{transform:"scale(0.7)"},attrs:{checked:e.is_default_services},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.is_default_services=!e.is_default_services}}})],1),0==e.is_default_services?a("v-uni-view",{staticClass:"info-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[e._v("服务内容")]),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseService.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),e.beService.length>0?a("v-uni-text",{staticClass:"service-text"},e._l(e.beService,(function(t,i){return a("v-uni-text",{key:i},[i>0?a("v-uni-text",[e._v("，")]):e._e(),e._v(e._s(t.name))],1)})),1):e.service.length>0?a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[e._v("未选择")]):a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[e._v("未设置")])],1)],1)],1):e._e()],1),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"send"},[e._v(e._s(e.id>0?"保存":"上架"))])],1)],1),e.is_service?a("v-uni-view",{staticClass:"dialog"},[a("v-uni-view",{staticClass:"dialog-item"},[a("v-uni-view",{staticClass:"dialog-title"},[e._v("服务内容")]),e._l(e.service,(function(t,n){return e.is_service?a("v-uni-view",{key:n,staticClass:"dir-left-nowrap type-choose",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.choose(t)}}},[t.isChoose?a("v-uni-image",{staticClass:"active-status",attrs:{src:i("bf1a")}}):a("v-uni-image",{staticClass:"active-status",attrs:{src:"/static/image/icon/form-er.png"}}),a("v-uni-view",{class:[t.isChoose?"active":""]},[e._v(e._s(t.name))])],1):e._e()})),a("v-uni-view",{staticClass:"main-center btn-area"},[a("v-uni-view",{staticClass:"submit-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelService.apply(void 0,arguments)}}},[e._v("取消")]),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"submit-btn be-submit",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitService.apply(void 0,arguments)}}},[e._v("确认")])],1)],2)],1):e._e(),e.dialog?a("v-uni-view",{class:["dialog",e.iphone_x?"iphone_x":""]},[a("v-uni-view",{staticClass:"picker-list"},[a("v-uni-view",{staticClass:"main-between picker-header"},[a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggle.apply(void 0,arguments)}}},[e._v("取消")]),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggle(1)}}},[e._v("确定")])],1),"postage"==e.dialogType?a("v-uni-picker-view",{staticClass:"picker",attrs:{value:[e.set_postage?e.postageIndex:-1]},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindChange.apply(void 0,arguments)}}},[a("v-uni-picker-view-column",e._l(e.postage,(function(t,i){return a("v-uni-view",{key:t.id,class:["cross-center picker-text",{"sure-color":e.newIndex==i,"cardinal-color":e.newIndex==i+1||e.newIndex==i-1,"even-color":e.newIndex==i+2||e.newIndex==i-2}]},[e._v(e._s(t.name))])})),1)],1):e._e(),"delivery"==e.dialogType?a("v-uni-picker-view",{staticClass:"picker",attrs:{value:[e.set_delivery?e.deliveryIndex:-1]},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindChange.apply(void 0,arguments)}}},[a("v-uni-picker-view-column",e._l(e.delivery,(function(t,i){return a("v-uni-view",{key:t.id,class:["cross-center picker-text",{"sure-color":e.newIndex==i,"cardinal-color":e.newIndex==i+1||e.newIndex==i-1,"even-color":e.newIndex==i+2||e.newIndex==i-2}]},[e._v(e._s(t.name))])})),1)],1):e._e()],1)],1):e._e(),e.modal?a("v-uni-view",{staticClass:"dialog"},[a("v-uni-view",{staticClass:"dialog-item"},[a("v-uni-view",{staticClass:"dialog-title"},[e._v("提示")]),e.set_cat?a("v-uni-view",{staticClass:"error-info"},[e._v("您暂未设置分类"),a("br"),e._v("请前往商城后台设置")]):e._e(),e.set_mch_cat&&0==e.mch_cat.length?a("v-uni-view",{staticClass:"error-info"},[e._v("您暂未设置多商户分类"),a("br"),e._v("请前往商城后台设置")]):e._e(),e.set_postage&&0==e.postage.length?a("v-uni-view",{staticClass:"error-info"},[e._v("您暂未设置运费模板"),a("br"),e._v("请前往商城后台设置")]):e._e(),e.set_service&&0==e.service.length?a("v-uni-view",{staticClass:"error-info"},[e._v("您暂未设置服务内容"),a("br"),e._v("请前往商城后台设置")]):e._e(),a("v-uni-view",{staticClass:"main-center btn-area"},[a("v-uni-view",{staticClass:"submit-btn be-submit",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v("确认")])],1)],1)],1):e._e(),e.error?a("v-uni-view",{staticClass:"dialog"},[a("v-uni-view",{staticClass:"dialog-item"},[a("v-uni-view",{staticClass:"dialog-title"},[e._v("提示")]),a("v-uni-view",{staticClass:"error-info"},[e._v(e._s(e.error))]),a("v-uni-view",{staticClass:"main-center btn-area"},[a("v-uni-view",{staticClass:"submit-btn be-submit",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v("确认")])],1)],1)],1):e._e(),e.beSubmit?a("v-uni-view",{staticClass:"dialog"},[a("v-uni-view",{staticClass:"dialog-item"},[a("v-uni-view",{staticClass:"dialog-title"},[e._v("提示")]),a("v-uni-view",{staticClass:"submit-info"},[e._v("是否确认添加此商品")]),a("v-uni-view",{staticClass:"main-center btn-area"},[a("v-uni-view",{staticClass:"submit-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v("取消")]),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"submit-btn be-submit",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toSubmit.apply(void 0,arguments)}}},[e._v("确认")])],1)],1)],1):e._e()],1)],1)},s=[]},d5ea:function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("f854")),s=(a(i("e143")),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,i){(0,n.default)(e,"file").then((function(t){e.success({res:"",header:t})}))}))}),o=s;t.default=o},f7a7:function(e,t,i){var a=i("5cf8");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("47552d90",a,!0,{sourceMap:!1,shadowMode:!1})},f854:function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("a481"),i("96cf");var n=a(i("3b8d")),s=i("8de3"),o=a(i("e143")),r=a(i("4360")),c=i("b1c7"),l=a(i("36e8")),d=function(){var e=(0,n.default)(regeneratorRuntime.mark((function e(t,i){var a,n,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"X-App-Platform":t.header&&t.header["X-App-Platform"]?t.header["X-App-Platform"]:o.default.prototype.$platform,"X-Form-Id-List":JSON.stringify((0,s.popAll)()),"X-Requested-With":t.header&&t.header["X-Requested-With"]?t.header["X-Requested-With"]:"XMLHttpRequest","X-App-Version":o.default.prototype.$appVersion,"content-type":i?"multipart/form-data":"application/x-www-form-urlencoded"},e.next=3,r.default.dispatch("user/loadAccessTokenFormCache");case 3:return r.default.state.user&&r.default.state.user.accessToken&&(a["X-Access-Token"]=r.default.state.user.accessToken),r.default.state.user&&0!==r.default.state.user.tempParentId&&(a["X-User-Id"]=r.default.state.user.tempParentId+""),n={},t.url.replace(/([^=&]+)=([^&]*)/g,(function(e,t,i){n[decodeURIComponent(t)]=decodeURIComponent(i)})),-1!==(0,c.objectValues)(l.default.mch).indexOf(n.r)&&(d=o.default.prototype.$storage.getStorageSync("MCH2019"),a["Mch-Access-Token"]=d.token),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),u=d;t.default=u}}]);