(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-bargain-order-list-order-list"],{"202c":function(t,i,e){i=t.exports=e("24fb")(!1),i.push([t.i,".text-center[data-v-9e29fb86]{text-align:center}.font-weight[data-v-9e29fb86]{font-weight:700}.page-width[data-v-9e29fb86]{width:100%}.goods-hover-class[data-v-9e29fb86]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-9e29fb86]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-9e29fb86]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-9e29fb86]{width:100%}.u-hover-class[data-v-9e29fb86]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-9e29fb86]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.no-content[data-v-9e29fb86]{padding:%?150?% 0;text-align:center;color:#888}.bargain-list[data-v-9e29fb86]{margin:%?20?% %?24?% 0;border-radius:%?16?%;background:#fff;height:%?256?%}.bargain-list.long[data-v-9e29fb86]{height:%?298?%}.bargain-list uni-image[data-v-9e29fb86]{height:100%;width:%?256?%;display:block;border-top-left-radius:%?16?%;border-bottom-left-radius:%?16?%}.bargain-list .bargain-right[data-v-9e29fb86]{margin:%?16?% %?20?%;min-height:%?216?%}.bargain-list .bargain-time[data-v-9e29fb86]{margin:%?8?% 0;font-size:%?24?%;color:#999}.bargain-list .bargain-time>uni-view[data-v-9e29fb86]:first-of-type{margin-right:%?4?%}.bargain-list .bargain-time .info[data-v-9e29fb86]{margin:0 %?2?%;padding:0 %?5?%;height:%?36?%;background:#f3f3f3;border-radius:%?4?%;line-height:%?36?%}.bargain-list .min-price[data-v-9e29fb86]{color:#999;font-size:%?24?%}.bargain-list .price[data-v-9e29fb86]{color:#ff4544;font-size:%?28?%}.bargain-list .price .price-int[data-v-9e29fb86]{font-size:%?40?%}.bargain-list .bargain-content[data-v-9e29fb86]{color:#666;font-size:%?24?%}.bargain-list .bargain-name[data-v-9e29fb86]{font-size:%?28?%;color:#353535}.bargain-list .attr[data-v-9e29fb86]{color:#999;margin:%?12?% 0 %?4?% 0;font-size:%?24?%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;width:100%}body.?%PAGE?%[data-v-9e29fb86]{background:#f7f7f7}",""])},8606:function(t,i,e){var a=e("202c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("4577d396",a,!0,{sourceMap:!1,shadowMode:!1})},"86bc":function(t,i,e){"use strict";var a=e("4ea4");e("8e6e"),e("456d"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("a481"),e("ac6a");var n=a(e("bd86")),r=a(e("2faf")),o=e("2f62");function s(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function c(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?s(Object(e),!0).forEach((function(i){(0,n.default)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var d={name:"order-list",components:{commonButtom:r.default},data:function(){var t;return{integral:t,list:[],args:!1,page:1,load:!1}},computed:c({},(0,o.mapGetters)("mallConfig",{getTheme:"getTheme"})),onReachBottom:function(){var t=this;if(!t.args&&!t.load){t.load=!0;var i=t.page+1;t.$request({url:t.$api.bargain.list,data:{page:i}}).then((function(e){if(0===e.code){var a=[i,0===e.data.list.length];t.page=a[0],t.args=a[1],t.getIntegral(t.list.concat(e.data.list))}t.load=!1}))}},onShow:function(){var t=this;t.$showLoading(),t.$request({url:t.$api.bargain.list}).then((function(i){t.$hideLoading(),0===i.code&&t.getIntegral(i.data.list),t.args=!1,t.page=1})).catch((function(i){t.$hideLoading()}))},onUnload:function(){clearInterval(this.integral)},methods:{navGoods:function(t){uni.navigateTo({url:"/plugins/bargain/goods/goods?goods_id="+t.goods_id})},goto:function(t){uni.navigateTo({url:"/plugins/bargain/activity/activity?id="+t.bargain_order_id})},getIntegral:function(t){var i=this;clearInterval(i.integral);var e=function(){t.forEach((function(t,e,a){if(t.priceList=i.handlePrice(t.now_price==t.min_price?t.min_price:t.reset_price),!t.status){var n=t.finish_at.replace(/-/g,"/"),r=parseInt((new Date(n).getTime()-(new Date).getTime())/1e3),o=0,s=0,c=0,d=0;r>0?(s=Math.floor(r/3600)-24*o,c=Math.floor(r/60)-24*o*60-60*s,d=Math.floor(r)-24*o*60*60-60*s*60-60*c,s=s<10?"0"+s:s,c=c<10?"0"+c:c,d=d<10?"0"+d:d,t.times={day:o,hour:s,minute:c,second:d}):t.times=d}})),i.list=t};e(t),i.integral=setInterval((function(){e(t)}),1e3)},submit:function(t){var i=[{mch_id:0,bargain_order_id:t.bargain_order_id,goods_list:[{id:t.goods_id,attr:[],num:1,cart_id:0,goods_attr_id:t.goods_attr_id}]}];uni.navigateTo({url:"/pages/order-submit/order-submit?mch_list="+JSON.stringify(i)+"&preview_url="+encodeURIComponent(this.$api.bargain.order_preview)+"&submit_url="+encodeURIComponent(this.$api.bargain.order_submit)})}}};i.default=d},ac72:function(t,i,e){"use strict";var a=e("8606"),n=e.n(a);n.a},c7be:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return r})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("app-layout",[t.list.length?t._e():e("v-uni-view",{staticClass:"no-content"},[e("v-uni-view",[t._v("你还没有进行中的砍价")]),e("v-uni-view",[t._v("去会场逛逛！")])],1),e("v-uni-view",{staticClass:"order-list"},[t._l(t.list,(function(i,a){return[e("v-uni-view",{key:a+"_0",staticClass:"bargain-list dir-left-nowrap",class:i.reset_time?"long":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navGoods(i)}}},[e("v-uni-view",{staticClass:"box-grow-0"},[e("v-uni-image",{attrs:{src:i.cover_pic}})],1),e("v-uni-view",{staticClass:"box-grow-1 dir-top-nowrap bargain-right"},[e("v-uni-view",{staticClass:"box-grow-0 bargain-name t-omit-two"},[t._v(t._s(i.goods_name))]),e("v-uni-view",{staticClass:"box-grow-0 attr"},[t._v(t._s(i.select_attr_group_text))]),i.reset_time?[e("v-uni-view",{staticClass:"box-grow-1 bargain-time dir-left-nowrap cross-center"},[e("v-uni-view",[t._v("距结束")]),e("v-uni-view",{staticClass:"info"},[t._v(t._s(i.times.hour))]),e("v-uni-view",[t._v(":")]),e("v-uni-view",{staticClass:"info"},[t._v(t._s(i.times.minute))]),e("v-uni-view",[t._v(":")]),e("v-uni-view",{staticClass:"info"},[t._v(t._s(i.times.second))])],1),e("v-uni-view",{staticClass:"box-grow-0 dir-left-nowrap cross-center"},[e("v-uni-view",{staticClass:"box-grow-1 dir-top-nowrap"},[e("v-uni-view",{staticClass:"min-price"},[i.now_price==i.min_price?[t._v("已砍至最低")]:[t._v("离最低￥"+t._s(i.min_price))]],2),e("v-uni-view",{staticClass:"price"},[e("v-uni-text",{staticClass:"price-float"},[t._v(t._s(i.now_price!=i.min_price?"还差":"")+"￥")]),e("v-uni-text",{staticClass:"price-int"},[t._v(t._s(i.priceList.priceInt))]),e("v-uni-text",{staticClass:"price-float"},[t._v(t._s(i.priceList.priceFloat))])],1)],1),e("v-uni-view",{staticClass:"box-grow-0"},[i.now_price==i.min_price?e("app-button",{attrs:{height:"48",width:"120",color:"#FFFFFF","font-size":"24",theme:t.getTheme,roundSize:"4rpx",padding:"0"},nativeOn:{click:function(e){return e.stopPropagation(),t.submit(i)}}},[t._v("立即购买")]):e("app-button",{attrs:{height:"48",roundSize:"4rpx",padding:"0",width:"120",color:"#FFFFFF","font-size":"24",theme:t.getTheme},nativeOn:{click:function(e){return e.stopPropagation(),t.goto(i)}}},[t._v("继续砍价")])],1)],1)]:[e("v-uni-view",{staticClass:"box-grow-1 dir-top-nowrap main-between"},[e("v-uni-view",{staticClass:"box-grow-1 bargain-content"},[t._v(t._s(i.content))]),e("v-uni-view",{staticClass:"box-grow-0 price"},[t._v(t._s(i.status_content)),1==i.status?e("v-uni-text",{staticClass:"price-float"},[t._v("￥")]):t._e(),1==i.status?e("v-uni-text",{staticClass:"price-int"},[t._v(t._s(i.priceList.priceInt))]):t._e(),1==i.status?e("v-uni-text",{staticClass:"price-float"},[t._v(t._s(i.priceList.priceFloat))]):t._e()],1)],1)]],2)],1)]}))],2),e("common-buttom",{attrs:{theme:t.getTheme,status:"prize"}})],1)},r=[]},f61e:function(t,i,e){"use strict";e.r(i);var a=e("c7be"),n=e("fdb5");for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(r);e("ac72");var o,s=e("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"9e29fb86",null,!1,a["a"],o);i["default"]=c.exports},fdb5:function(t,i,e){"use strict";e.r(i);var a=e("86bc"),n=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(r);i["default"]=n.a}}]);