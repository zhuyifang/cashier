(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-teller-index-index"],{"3a67":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-d8536306]{text-align:center}.font-weight[data-v-d8536306]{font-weight:700}.page-width[data-v-d8536306]{width:100%}.goods-hover-class[data-v-d8536306]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-d8536306]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-d8536306]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-d8536306]{width:100%}.u-hover-class[data-v-d8536306]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-d8536306]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.bg[data-v-d8536306]{position:absolute;top:0;left:0;width:100%;height:100%;background:-webkit-gradient(linear,left top,left bottom,from(#495aff),to(#0ab6fe));background:-o-linear-gradient(top,#495aff,#0ab6fe);background:linear-gradient(180deg,#495aff,#0ab6fe)}.main[data-v-d8536306]{margin:%?96?% auto;background-color:#fff;width:%?690?%;height:%?980?%;border-radius:%?16?%;padding-bottom:%?110?%;position:relative}.main uni-view[data-v-d8536306]{margin:%?8?% 0;font-size:%?26?%}.main .avatar[data-v-d8536306]{position:absolute;left:50%;top:%?-65?%;border-radius:50%;margin-left:%?-65?%;z-index:10;width:%?128?%;height:%?128?%;border:%?2?% solid #fff}.main .qr[data-v-d8536306]{width:%?430?%;height:%?430?%;border-radius:%?16?%;border:%?2?% solid #e2e2e2;margin-top:%?38?%;margin-bottom:%?12?%}.main .balance[data-v-d8536306]{position:absolute;bottom:%?56?%;background-color:#f0f0f0;height:%?120?%;width:100%;padding:0 %?19?%;color:#353535}.main .balance .icon[data-v-d8536306]{width:%?72?%;height:%?72?%;border-radius:50%;background-color:#fff;margin-right:%?19?%}.main .balance .icon uni-image[data-v-d8536306]{width:%?40?%;height:%?40?%}.main .balance .right[data-v-d8536306]{width:%?12?%;height:%?22?%}body.?%PAGE?%[data-v-d8536306]{background:#f7f7f7}",""])},"6bc0":function(t,e,a){"use strict";var n=a("cfa7"),i=a.n(n);i.a},"74b3":function(t,e,a){"use strict";var n=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("386d");var i=n(a("bd86")),o=a("2f62");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){(0,i.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={data:function(){return{haveBackground:!1,pay_code:"",file_path:"",expiry_date:"",check:null,reload:null}},computed:c({},(0,o.mapState)({userInfo:function(t){return t.user.info}})),onHide:function(){clearInterval(this.check),clearInterval(this.reload)},onUnload:function(){clearInterval(this.check),clearInterval(this.reload)},methods:{toBalance:function(){uni.navigateTo({url:"/pages/balance/balance"})},checkTime:function(){var t=this,e=Date.parse(new Date)/1e3,a=1e3*(t.expiry_date-e);this.reload=setTimeout((function(){t.getList()}),a)},getCode:function(t){var e=this,a=this;a.$request({url:a.$api.teller.search,data:{pay_code:t},method:"post"}).then((function(n){a.$hideLoading(),0==n.code&&e.userInfo&&(n.data.is_use?(clearInterval(e.check),clearInterval(e.reload),uni.navigateTo({url:"/plugins/teller/result/result?code="+t})):e.check=setTimeout((function(){a.getCode(t)}),5e3))})).catch((function(t){a.$hideLoading()}))},getList:function(){var t=this;t.$request({url:t.$api.teller.code}).then((function(e){t.$hideLoading(),0==e.code?(t.pay_code=e.data.pay_code,t.file_path=e.data.file_path,t.expiry_date=e.data.expiry_date,t.getCode(e.data.pay_code),t.checkTime()):uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){t.$hideLoading()}))}},onShow:function(t){this.$showLoading({type:"global",text:"加载中..."}),this.getList()}};e.default=d},a5f8:function(t,e,a){"use strict";a.r(e);var n=a("f6da"),i=a("c96a");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("6bc0");var r,c=a("f0c5"),d=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"d8536306",null,!1,n["a"],r);e["default"]=d.exports},c96a:function(t,e,a){"use strict";a.r(e);var n=a("74b3"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},cfa7:function(t,e,a){var n=a("3a67");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("156f995c",n,!0,{sourceMap:!1,shadowMode:!1})},f6da:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"bg"},[a("app-layout",{attrs:{haveBackground:t.haveBackground}},[t.userInfo?a("v-uni-view",{staticClass:"main dir-top-nowrap main-center cross-center"},[a("v-uni-image",{staticClass:"avatar",attrs:{src:t.userInfo.avatar}}),a("v-uni-view",[t._v("会员付款码")]),a("v-uni-view",{staticStyle:{color:"#ff4544"}},[t._v(t._s(t.pay_code))]),a("v-uni-image",{staticClass:"qr",attrs:{src:t.file_path}}),a("v-uni-view",{staticStyle:{color:"#999999"}},[t._v("5分钟过期，过期后自动刷新")]),a("v-uni-view",[t._v("请提供二维码给店员扫码即可进行支付")]),a("v-uni-view",{staticClass:"balance main-between cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toBalance.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[a("v-uni-view",{staticClass:"icon main-center cross-center"},[a("v-uni-image",{attrs:{src:"/static/image/icon/cash/icon-balance.png"}})],1),a("v-uni-view",[t._v("账户余额")])],1),a("v-uni-image",{staticClass:"right",attrs:{src:"/static/image/icon/arrow-right.png"}})],1)],1):t._e()],1)],1)},o=[]}}]);