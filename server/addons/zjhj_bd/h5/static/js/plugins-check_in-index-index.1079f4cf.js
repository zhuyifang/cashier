(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-check_in-index-index"],{"0f96":function(e,t,i){"use strict";var a=i("18ac"),n=i.n(a);n.a},"18ac":function(e,t,i){var a=i("9de0");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("dd69c128",a,!0,{sourceMap:!1,shadowMode:!1})},"7ba2":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("app-layout",{attrs:{overflow:!1}},[e.customize?i("v-uni-view",[i("v-uni-image",{staticClass:"bg",attrs:{"load-lazy":"true",src:e.customize.head_bg?e.customize.head_bg:e.checkImg.app_image.top_bg}}),1==e.config.is_remind?i("v-uni-view",{staticClass:"tips dir-left-nowrap cross-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeSwitch.apply(void 0,arguments)}}},[i("v-uni-text",{style:{color:""+e.customize.remind_font}},[e._v("签到提醒")]),(e.user.is_remind,i("v-uni-switch",{staticStyle:{transform:"scale(0.7)"},attrs:{checked:1==e.user.is_remind},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.toSwitch.apply(void 0,arguments)}}}))],1):e._e(),i("v-uni-view",{staticClass:"icon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toRules.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"rules"},[e._v("签到规则")])],1),i("v-uni-view",{staticClass:"icon toIndex",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toIndex.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"rules"},[e._v("回到首页")])],1),null==e.user.today_check_in?i("v-uni-view",{staticClass:"check-in-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.subscribe.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{"load-lazy":"true",src:e.customize.not_signed_icon?e.customize.not_signed_icon:e.checkImg.app_image.check_in}})],1):i("v-uni-view",{staticClass:"check-in-btn"},[i("v-uni-image",{attrs:{"load-lazy":"true",src:e.customize.signed_icon?e.customize.signed_icon:e.checkImg.app_image.over}})],1),null==e.user.today_check_in?i("v-uni-view",{staticClass:"no-check-in",style:{color:""+e.customize.daily_font}},[e._v("今日还未签到")]):i("v-uni-view",{staticClass:"no-check-in",style:{color:""+e.customize.daily_font}},[e._v("今日已签到")]),e.user.continue_day||0==e.user.continue_day?i("v-uni-view",{staticClass:"always",style:{color:""+e.customize.daily_font}},[e._v("已连续签到"+e._s(e.user.continue_day)+"天")]):e._e(),i("v-uni-view",{staticClass:"other",style:{background:"linear-gradient(to bottom,"+e.customize.end_bg+","+(1==e.customize.end_style?e.customize.end_gradient_bg:e.customize.end_bg)+")","min-height":""+e.other_height}},[e.config.continue.length>0?i("v-uni-view",{staticClass:"reward"},e._l(e.config.continue,(function(t,a){return i("v-uni-view",{key:a,class:["reward-item",t.day==e.config.continue[0].day?"no-top":""],style:{"border-color":""+e.customize.line_font}},["integral"==t.type?i("v-uni-image",{staticClass:"reward-icon",attrs:{"load-lazy":"true",src:e.customize.integral_icon?e.customize.integral_icon:"/static/image/integral.png"}}):e._e(),"balance"==t.type?i("v-uni-image",{staticClass:"reward-icon",attrs:{"load-lazy":"true",src:e.customize.balance_icon?e.customize.balance_icon:"/static/image/hongbao.png"}}):e._e(),i("v-uni-view",{staticClass:"reward-title"},[e._v("连续签到"+e._s(t.day)+"天")]),"integral"==t.type?i("v-uni-view",{staticClass:"reward-content"},[e._v("赠送"+e._s(t.number)+"积分")]):e._e(),"balance"==t.type?i("v-uni-view",{staticClass:"reward-content"},[e._v("赠送"+e._s(t.number)+"元余额红包")]):e._e(),t.check?i("v-uni-view",{staticClass:"reward-btn"},[i("v-uni-button",{staticClass:"over",style:{color:""+e.customize.prompt_font,backgroundColor:""+e.customize.btn_bg}},[e._v("已领取")])],1):e.user.continue_day>=t.day?i("v-uni-view",{staticClass:"reward-btn",attrs:{"data-id":"2"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.getAward(2,t.day)}}},[i("v-uni-button",{style:{color:""+e.customize.not_prompt_font,backgroundColor:""+e.customize.not_btn_bg}},[e._v("领取")])],1):e._e()],1)})),1):e._e(),e.config.total.length>0?i("v-uni-view",{staticClass:"reward balance-reward"},e._l(e.config.total,(function(t,a){return i("v-uni-view",{key:a,staticClass:"reward-item"},["integral"==t.type?i("v-uni-image",{staticClass:"reward-icon",attrs:{"load-lazy":"true",src:e.customize.integral_icon?e.customize.integral_icon:"/static/image/integral.png"}}):e._e(),"balance"==t.type?i("v-uni-image",{staticClass:"reward-icon",attrs:{"load-lazy":"true",src:e.customize.balance_icon?e.customize.balance_icon:"/static/image/hongbao.png"}}):e._e(),i("v-uni-view",{staticClass:"reward-title"},[e._v("累积签到"+e._s(t.day)+"天")]),"integral"==t.type?i("v-uni-view",{staticClass:"reward-content"},[e._v("赠送"+e._s(t.number)+"积分")]):e._e(),"balance"==t.type?i("v-uni-view",{staticClass:"reward-content"},[e._v("赠送"+e._s(t.number)+"元余额红包")]):e._e(),t.check?i("v-uni-view",{staticClass:"reward-btn"},[i("v-uni-button",{staticClass:"over"},[e._v("已领取")])],1):e._e(),e.user.total_day>=t.day&&!t.check?i("v-uni-view",{staticClass:"reward-btn",attrs:{"data-id":"3"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.getAward(3,t.day)}}},[i("v-uni-button",{style:{color:""+e.customize.not_prompt_font,backgroundColor:""+e.customize.not_btn_bg}},[e._v("领取")])],1):e._e()],1)})),1):e._e(),i("v-uni-view",{staticClass:"day"},[i("v-uni-view",{staticClass:"day-title main-center cross-center"},[i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.lose.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"toggle-btn main-center cross-center"},[i("v-uni-image",{attrs:{"load-lazy":"true",src:"/static/image/icon/arrow-left.png"}})],1)],1),i("v-uni-view",{staticClass:"date"},[i("v-uni-text",[e._v(e._s(e.year))]),i("v-uni-text",[e._v("年")]),i("v-uni-text",[e._v(e._s(e.month))]),i("v-uni-text",[e._v("月")])],1),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.add.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"toggle-btn main-center cross-center"},[i("v-uni-image",{attrs:{"load-lazy":"true",src:"/static/image/icon/arrow-right.png"}})],1)],1)],1),i("v-uni-view",{staticClass:"week main-between"},[i("v-uni-view",[e._v("日")]),i("v-uni-view",[e._v("一")]),i("v-uni-view",[e._v("二")]),i("v-uni-view",[e._v("三")]),i("v-uni-view",[e._v("四")]),i("v-uni-view",[e._v("五")]),i("v-uni-view",[e._v("六")])],1),i("v-uni-view",{staticClass:"everyday main-between"},e._l(e.everyday,(function(t,a){return i("v-uni-view",{key:a,staticClass:"every",staticStyle:{width:"28px"}},[t&&t.check?i("v-uni-image",{attrs:{"load-lazy":"true",src:e.customize.calendar_icon?e.customize.calendar_icon:"./../image/choose.png"}}):e._e(),t?i("v-uni-view",{class:[t&&t.date>e.now?"next":""]},[e._v(e._s(t.date))]):e._e()],1)})),1)],1)],1)],1):e._e(),e.success||e.getRed?i("v-uni-view",{staticClass:"dialog"},[e.success?i("v-uni-view",{staticClass:"success"},[e.success?i("v-uni-image",{staticClass:"success-img",attrs:{"load-lazy":"true",src:e.checkImg.app_image.success}}):i("v-uni-image",{staticClass:"success-img",attrs:{"load-lazy":"true",src:e.checkImg.app_image.get}}),i("v-uni-view",{staticClass:"getPrice main-center"},["integral"==e.result.type?i("v-uni-image",{attrs:{"load-lazy":"true",src:e.customize.integral_icon?e.customize.integral_icon:"/static/image/integral.png"}}):e._e(),i("v-uni-text",[e._v("+"+e._s(e.result.number))])],1),e.success?i("v-uni-view",{staticClass:"info"},[1==e.result.status?i("v-uni-text",[e._v("签到成功")]):e._e(),2==e.result.status?i("v-uni-text",[e._v("已连续签到")]):e._e(),3==e.result.status?i("v-uni-text",[e._v("已累积签到")]):e._e(),1!=e.result.status?i("v-uni-text",[e._v(e._s(e.result.day)+"天")]):e._e()],1):i("v-uni-view",{staticClass:"info"},[e._v("恭喜获得签到奖励")]),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"success-btn"},[e._v(e._s(e.success?"知道咯":"收下奖励"))])],1)],1):e._e(),e.getRed?i("v-uni-view",{staticClass:"getRed"},[i("v-uni-image",{staticClass:"getRed-img",attrs:{"load-lazy":"true",src:e.checkImg.app_image.getRed}}),i("v-uni-view",{staticClass:"getRed-title"},[e._v("恭喜获得签到奖励")]),i("v-uni-view",{staticClass:"getRed-price"},[i("v-uni-text",[e._v("+"+e._s(e.result.number))]),e._v("元")],1),i("v-uni-view",{staticClass:"getRed-content"},[e._v("余额红包")]),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"getRed-btn"},[e._v("收下奖励")])],1),i("v-uni-view",{staticClass:"getRed-info"},[1==e.result.status?i("v-uni-text",[e._v("已签到")]):e._e(),2==e.result.status?i("v-uni-text",[e._v("已连续签到")]):e._e(),3==e.result.status?i("v-uni-text",[e._v("已累积签到")]):e._e(),i("v-uni-text",[e._v(e._s(e.result.day))]),e._v("天")],1)],1):e._e(),i("v-uni-view",{class:["close",e.getRed?"get-close":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{"load-lazy":"true",src:e.mallImg.close}})],1)],1):e._e()],1)},o=[]},"9de0":function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".text-center[data-v-5eb87e49]{text-align:center}.font-weight[data-v-5eb87e49]{font-weight:700}.page-width[data-v-5eb87e49]{width:100%}.goods-hover-class[data-v-5eb87e49]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-5eb87e49]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-5eb87e49]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-5eb87e49]{width:100%}.u-hover-class[data-v-5eb87e49]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-5eb87e49]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.bg[data-v-5eb87e49]{width:100%;height:%?500?%;display:block}.tips[data-v-5eb87e49]{position:absolute;top:%?55?%;left:%?30?%;color:#fff;font-size:%?24?%}.icon[data-v-5eb87e49]{position:absolute;right:0;top:%?55?%}.icon.toIndex[data-v-5eb87e49]{top:%?119?%}.rules[data-v-5eb87e49]{height:%?48?%;line-height:%?46?%;width:%?144?%;text-align:center;padding:0;color:#fff;background-color:rgba(0,0,0,.3);font-size:%?24?%;border-top-left-radius:%?24?%;border-bottom-left-radius:%?24?%;border:%?2?% solid #fff;border-right:0}.check-in-btn[data-v-5eb87e49]{height:%?260?%;width:%?260?%;position:absolute;top:%?60?%;left:50%;margin-left:%?-130?%}.check-in-btn uni-image[data-v-5eb87e49]{height:%?260?%;width:%?260?%}.no-check-in[data-v-5eb87e49]{font-size:%?32?%;color:#fff;position:absolute;top:%?340?%;left:0;right:0;text-align:center}.always[data-v-5eb87e49]{font-size:%?28?%;color:#fff;position:absolute;top:%?390?%;left:0;right:0;text-align:center}.reward[data-v-5eb87e49]{margin:0 %?24?%;border-radius:%?14?%;padding:0 %?40?%;background-color:#fff}.reward.balance-reward[data-v-5eb87e49]{margin-top:%?24?%}.reward-item[data-v-5eb87e49]{height:%?150?%;border-top:%?1?% dashed #5997fc;color:#2c3c7e;font-size:%?26?%;position:relative}.reward-item.no-top[data-v-5eb87e49]{border-top:%?1?% dashed #fff!important}.reward.balance-reward .reward-item[data-v-5eb87e49]{border-top:%?1?% solid #fff}.reward-icon[data-v-5eb87e49]{float:left;height:%?72?%;width:%?72?%;margin-top:%?39?%;margin-right:%?24?%}.reward-title[data-v-5eb87e49]{margin-top:%?40?%}.reward-content[data-v-5eb87e49]{margin-top:%?-3?%}.reward-btn[data-v-5eb87e49]{position:absolute;right:%?40?%;top:%?47?%}.reward-btn uni-button[data-v-5eb87e49]{border-radius:%?28?%;width:%?150?%;height:%?56?%;line-height:%?56?%;color:#fff;font-size:%?26?%;background-color:#5997fc}.reward-btn uni-button[data-v-5eb87e49]::after{border:0}.reward-btn .over[data-v-5eb87e49]{background-color:#cdcdcd}.day[data-v-5eb87e49]{margin:%?24?%;background-color:#fff;border-radius:%?14?%;z-index:99;padding:%?40?% %?25?%;padding-top:0}.day-title[data-v-5eb87e49]{height:%?110?%}.day-title uni-image[data-v-5eb87e49]{display:block;margin-top:%?4?%;height:%?22?%;width:%?12?%}.date[data-v-5eb87e49]{color:#353535;font-size:%?28?%}.week[data-v-5eb87e49]{color:#999;height:%?64?%;border-bottom:%?1?% solid #e2e2e2;margin-bottom:%?16?%}.week uni-view[data-v-5eb87e49]{height:%?64?%;width:%?64?%;margin:0 %?15?%;line-height:%?64?%;text-align:center}.everyday[data-v-5eb87e49]{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.everyday .every[data-v-5eb87e49]{margin:0 %?15?% %?8?%;height:%?64?%;width:%?64?%;line-height:%?64?%;text-align:center;position:relative}.everyday .every uni-image[data-v-5eb87e49]{height:%?64?%;position:absolute;width:%?64?%;top:0;left:0;display:block}.every uni-view[data-v-5eb87e49]{line-height:%?64?%;position:absolute;height:%?64?%;width:%?64?%;top:0;left:0;z-index:5}.next[data-v-5eb87e49]{color:#999}.dialog[data-v-5eb87e49]{position:fixed;left:0;top:0;height:100%;width:100%;z-index:999;background-color:rgba(0,0,0,.3)}.success[data-v-5eb87e49]{position:fixed;top:%?350?%;left:0;right:0;width:%?630?%;margin:0 auto;background-color:#fff;border-radius:%?16?%;z-index:1000;padding-bottom:%?64?%}.success .success-img[data-v-5eb87e49]{height:%?450?%;width:%?630?%;margin-top:%?-250?%}.getPrice[data-v-5eb87e49]{height:%?40?%;line-height:%?40?%;color:#ff4544;font-size:%?44?%;margin-bottom:%?28?%}.success .getPrice uni-image[data-v-5eb87e49]{height:%?40?%;width:%?40?%;margin-right:%?16?%;display:block}.info[data-v-5eb87e49]{font-size:%?32?%;color:#353535;margin-bottom:%?44?%;text-align:center}.info uni-text[data-v-5eb87e49]{color:#ff4544}.success-btn[data-v-5eb87e49]{width:%?320?%;height:%?72?%;line-height:%?72?%;font-size:%?32?%;color:#fff;background-color:#ff4544;border-radius:%?36?%;margin:0 auto}.success-btn[data-v-5eb87e49]::after{border:0}.getRed[data-v-5eb87e49]{height:%?460?%;width:%?630?%;position:fixed;top:%?330?%;left:0;right:0;margin:0 auto;text-align:center;font-size:%?28?%;color:#ba7d44}.getRed-img[data-v-5eb87e49]{height:%?460?%;width:%?630?%}.getRed-title[data-v-5eb87e49]{position:fixed;text-align:center;left:0;width:100%;top:%?390?%}.getRed-price[data-v-5eb87e49]{color:#ff4544;position:fixed;text-align:center;left:0;width:100%;top:%?450?%}.getRed-price uni-text[data-v-5eb87e49]{font-family:Alibaba;font-size:%?68?%}.getRed-content[data-v-5eb87e49]{position:fixed;text-align:center;left:0;width:100%;top:%?540?%}.getRed-btn[data-v-5eb87e49]{position:fixed;top:%?640?%;left:0;right:0;margin:0 auto;width:%?320?%;height:%?72?%;color:#ff4544;font-size:%?32?%;line-height:%?72?%;border-radius:%?36?%;background:-webkit-gradient(linear,left top,left bottom,from(#ffe8bc),to(#ffcb7c));background:-o-linear-gradient(top,#ffe8bc,#ffcb7c);background:linear-gradient(180deg,#ffe8bc,#ffcb7c)}.getRed-btn[data-v-5eb87e49]::after{border:0}.close[data-v-5eb87e49]{position:fixed;top:%?870?%;height:%?30?%;width:%?30?%;left:50%;margin-left:%?-15?%;z-index:1000}.close uni-image[data-v-5eb87e49]{height:%?30?%;width:%?30?%}.get-close[data-v-5eb87e49]{top:%?800?%}.getRed-info[data-v-5eb87e49]{font-size:%?22?%;position:fixed;top:%?724?%;left:0;right:0;text-align:center;color:#ffcb7c}.other[data-v-5eb87e49]{background:-webkit-gradient(linear,left top,left bottom,from(#2a3a7c),to(#5b7ac7));background:-o-linear-gradient(top,#2a3a7c,#5b7ac7);background:linear-gradient(180deg,#2a3a7c,#5b7ac7);padding-bottom:%?40?%;position:absolute;top:%?500?%;left:0;width:100%}.toggle-btn[data-v-5eb87e49]{width:%?150?%;height:%?110?%}body.?%PAGE?%[data-v-5eb87e49]{background:#f7f7f7}",""])},afd2:function(e,t,i){"use strict";i.r(t);var a=i("c119"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},c119:function(e,t,i){"use strict";var a=i("4ea4");i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("7f7f"),i("6b54"),i("87b3"),i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("a481");var n=a(i("bd86")),o=i("2f62");function r(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=s(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw o}}}}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l={data:function(){return{month:1,year:1990,everyday:[],config:{total:[],continue:[]},user:{},result:{},other_height:"500rpx",now:1,noday:["","","","","","","",""],week:1,date:[],getRed:!1,customize:null,page_loading:!0,template_message:!1,success:!1}},computed:u({},(0,o.mapState)({userInfo:function(e){return e.user.info},mallImg:function(e){return e.mallConfig.__wxapp_img.mall},checkImg:function(e){return e.mallConfig.plugin.check_in}})),methods:{toRules:function(){uni.navigateTo({url:"/pages/rules/index?url=".concat(encodeURIComponent(this.$api.check_in.index),"&keys=").concat(JSON.stringify(["config","rule"]))})},toIndex:function(){uni.redirectTo({url:"/pages/index/index"})},getSetting:function(){var e=this;e.$request({url:e.$api.check_in.customize}).then((function(t){0==t.code?(e.customize=t.data.list,e.getList()):(e.$hideLoading(),uni.showToast({title:t.msg,icon:"none",duration:1e3}))})).catch((function(t){e.$hideLoading()}))},getList:function(){var e=this;e.$request({url:e.$api.check_in.index}).then((function(t){e.$hideLoading(),0==t.code?(e.config=t.data.config,e.user=t.data.check_in_user,e.template_message=t.data.template_message,e.getEveryday()):uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(t){e.$hideLoading()}))},getEveryday:function(){var e=this,t=e.month,i=e.year,a=32,n=[];t<8&&t%2==0&&2!=t||t>7&&t%2==1?a=31:2==t&&(a=i%4==0&&i%100!=0?30:29);for(var o=1;o<a;o++)n.push({date:o,check:!1});for(var r=e.noday,s=e.week,c=0;c<s;c++)n.unshift(r[c]);if(n.length%7!=0)for(var d=7-n.length%7,u=0;u<d;u++)n.push(r[u]);e.everyday=n,e.getDay(i,t)},getDay:function(e,t){var i=this;i.$request({url:i.$api.check_in.sign_in_day,data:{month:t,year:e}}).then((function(e){if(i.$hideLoading(),0==e.code){var t,a=e.data.check_in_day,n=r(i.everyday);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o){o.check=!1;var s,c=r(a);try{for(c.s();!(s=c.n()).done;){var d=s.value;d==o.date&&(o.check=!0)}}catch(u){c.e(u)}finally{c.f()}}}}catch(u){n.e(u)}finally{n.f()}i.$forceUpdate()}else uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){i.$hideLoading()}))},lose:function(){var e=this.month-1,t=this.year,i=this.now;e<1&&(e=12,t--);var a=t+"-"+e+"-01",n=new Date(Date.parse(a.replace(/-/g,"/")));this.week=n.getDay();var o=new Date,r=o.getFullYear(),s=o.getMonth()+1;i=t==r?e>s?0:e<s?32:o.getDate():t>r?0:32,this.year=t,this.month=e,this.now=i,this.getEveryday()},add:function(){var e=this.month+1,t=this.year,i=this.now;e>12&&(e=1,t++);var a=t+"-"+e+"-01",n=new Date(Date.parse(a.replace(/-/g,"/")));this.week=n.getDay();var o=new Date,r=o.getFullYear(),s=o.getMonth()+1;i=t==r?e>s?0:e<s?32:o.getDate():t>r?0:32,this.year=t,this.month=e,this.now=i,this.getEveryday()},subscribe:function(){var e=this;this.$subscribe(this.template_message).then((function(t){e.getAward(1)})).catch((function(t){e.getAward(1)}))},getAward:function(e,t){var i=this;uni.showLoading({mask:!0,title:1==e?"签到中...":"领取中..."}),i.$request({url:i.$api.check_in.sign_in,data:{status:e,day:t||1}}).then((function(e){if(0==e.code){var t=e.data.queueId,a=e.data.token;i.checkInResult(t,a)}else uni.hideLoading(),uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(a){uni.hideLoading(),i.$event.on(i.$const.EVENT_USER_LOGIN).then((function(){i.$store.dispatch("user/info"),i.getAward(e,t)}))}))},checkInResult:function(e,t){var i=this;i.$request({url:i.$api.check_in.sign_in_result,data:{queueId:e,token:t}}).then((function(a){uni.hideLoading(),0==a.code?1==a.data.retry?i.checkInResult(e,t):(i.result=a.data,"integral"==i.result.type?i.success=!0:"balance"==i.result.type&&(i.getRed=!0)):uni.showToast({title:a.msg,icon:"none",duration:1e3})})).catch((function(e){uni.hideLoading()}))},changeSwitch:function(){0==this.user.is_remind&&this.$subscribe(this.template_message)},toSwitch:function(e){var t=this,i=this,a=0;e.detail.value&&(a=1),i.$request({url:i.$api.check_in.user,data:{is_remind:a}}).then((function(e){i.$hideLoading(),0==e.code?t.user.is_remind=a:uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){i.$hideLoading()}))},close:function(){this.success=!1,this.getRed=!1,this.getList()}},onLoad:function(){this.$commonLoad.onload();var e=this;wx.getSystemInfo({success:function(t,i){e.other_height=2*t.windowHeight-500+"rpx"}});var t=new Date;e.year=t.getFullYear(),e.month=t.getMonth()+1,e.now=t.getDate();var i=e.year+"-"+e.month+"-01",a=new Date(Date.parse(i.replace(/-/g,"/")));e.week=a.getDay(),e.$showLoading({type:"global",text:"加载中..."}),e.getSetting()}};t.default=l},f4ec:function(e,t,i){"use strict";i.r(t);var a=i("7ba2"),n=i("afd2");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("0f96");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"5eb87e49",null,!1,a["a"],r);t["default"]=c.exports}}]);