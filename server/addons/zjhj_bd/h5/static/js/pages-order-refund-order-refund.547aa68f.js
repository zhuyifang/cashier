(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-refund-order-refund"],{"1d88":function(t,e,a){"use strict";a.r(e);var i=a("e6aa"),n=a("8bf5");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("6c00");var r,c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"6432e732",null,!1,i["a"],r);e["default"]=s.exports},3594:function(t,e,a){var i=a("806a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("7325a738",i,!0,{sourceMap:!1,shadowMode:!1})},4128:function(t,e,a){"use strict";a.r(e);var i=a("5221"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},5221:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("4e01")),o=i(a("798e")),r=i(a("1d88")),c=i(a("477f")),s={components:{appOrderGoodsInfo:n.default,appUploadImage:o.default,appOrderBanner:r.default,"app-select":c.default},data:function(){return{orderDetail:{},form:{image_list:[],remark:"",mobile:"",cause:""},maxNum:6,cause:{list:[],visible:!1,index:1},isShow:!1}},methods:{getOrderDetail:function(){var t=this;t.$showLoading(),t.$request({url:t.$api.order.detail,data:{id:t.order_id}}).then((function(e){t.$hideLoading(),t.isShow=!0,0===e.code?(t.orderDetail=e.data.detail,t.setPageTitle()):uni.showModal({title:"",content:e.msg,showCancel:!1})})).catch((function(){t.$hideLoading()}))},formSubmit:function(){var t=this;t.form.cause?uni.showModal({title:"提示",content:"确认申请退款？",success:function(e){e.confirm&&t.$subscribe(t.orderDetail.template_message_list).then((function(e){t.cancelAction()})).catch((function(e){t.cancelAction()}))}}):uni.showModal({title:"",content:"请选择退款原因",showCancel:!1})},imageEvent:function(t){this.form.image_list=t.imageList},bindPickerChange:function(t){t.is_modal_confirm||(this.cause.index=t.index,this.form.cause=this.cause.list[this.cause.index]),this.cause.visible=!1},cancelAction:function(){var t=this;uni.showLoading({title:"取消中"}),t.$request({url:t.$api.order.cancel,data:{id:t.orderDetail.id,cancel_data:JSON.stringify(t.form)}}).then((function(e){uni.hideLoading(),0===e.code?"advance"===t.sign?t.$request({url:t.$api.advance.order_detail,method:"get",data:{id:t.order_id}}).then((function(e){0===e.code?t.orderDetail=e.data.detail:uni.showModal({title:"",content:e.msg,showCancel:!1})})):t.getOrderDetail():uni.showModal({title:"",content:e.msg,showCancel:!1})})).catch((function(){uni.hideLoading()}))},cancelCauseList:function(){var t=this;t.$request({url:t.$api.order.cancel_cause_list}).then((function(e){0===e.code?t.cause.list=e.data.list:uni.showModal({title:"",content:e.msg,showCancel:!1})})).catch((function(){t.$hideLoading()}))},cancelApply:function(){var t=this;uni.showLoading({title:"取消中"}),t.$request({url:t.$api.order.cancel_apply,method:"post",data:{id:t.order_id}}).then((function(t){uni.hideLoading(),0===t.code?uni.navigateBack():uni.showModal({title:"",content:t.msg,showCancel:!1})})).catch((function(){uni.hideLoading()}))},setPageTitle:function(){var t="申请退款";2==this.orderDetail.cancel_status&&(t="订单退款"),uni.setNavigationBarTitle({title:t})},previewImage:function(t){var e=this.orderDetail.cancel_data.image_list;uni.previewImage({current:e[t],urls:e})}},onLoad:function(t){this.$commonLoad.onload(t),this.order_id=t.id,this.getOrderDetail(),this.cancelCauseList()}};e.default=s},"6c00":function(t,e,a){"use strict";var i=a("7ea8"),n=a.n(i);n.a},"7ea8":function(t,e,a){var i=a("b418");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("31098a86",i,!0,{sourceMap:!1,shadowMode:!1})},"806a":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-438672cb]{text-align:center}.font-weight[data-v-438672cb]{font-weight:700}.page-width[data-v-438672cb]{width:100%}.goods-hover-class[data-v-438672cb]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-438672cb]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-438672cb]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-438672cb]{width:100%}.u-hover-class[data-v-438672cb]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-438672cb]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.box[data-v-438672cb]{padding:%?24?%;width:100%}.box .goods-info[data-v-438672cb]{background:#fff;border-radius:%?16?%;padding:%?28?%}.box .content[data-v-438672cb]{margin-top:%?24?%;padding:0 %?28?%;background:#fff;border-radius:%?16?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.box .content .content-item[data-v-438672cb]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:%?88?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:%?1?% solid #e2e2e2}.box .content .content-item .label[data-v-438672cb]{font-size:%?28?%;color:#353535;width:%?152?%}.box .content .content-item .text[data-v-438672cb]{color:#353535;font-size:%?28?%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}.box .content .content-item .price-text[data-v-438672cb]{color:#ff4544}.box .content .content-item[data-v-438672cb]:last-child{border-bottom:0}.box .content .select-box[data-v-438672cb]{text-align:right;width:100%}.box .content .select-box .no-active[data-v-438672cb]{color:#999}.box .content .select-box .active[data-v-438672cb]{color:#353535}.box .content .select-box .select-label[data-v-438672cb]{font-size:%?28?%}.box .content .select-box .arrow-right[data-v-438672cb]{width:%?12?%;height:%?22?%;margin-left:%?16?%}.box .upload-box[data-v-438672cb]{background:#fff;border-radius:%?16?%;padding:%?28?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-top:%?24?%}.box .upload-box .label[data-v-438672cb]{font-size:%?28?%;color:#353535;margin-bottom:%?20?%}.btn-box[data-v-438672cb]{position:fixed;bottom:0;width:100%;padding:%?24?%;background:#f7f7f7;z-index:999}.btn-box .btn[data-v-438672cb]{border-radius:%?40?%;height:%?80?%;background:#ff4544;padding:%?24?% 0;color:#fff;font-size:%?32?%}.shade-box[data-v-438672cb]{width:100%;height:100vh;background-color:rgba(0,0,0,.3);position:absolute;top:0}.shade-box .list[data-v-438672cb]{position:absolute;bottom:0;width:100%;background:#fff;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;overflow:hidden}.shade-box .list .title[data-v-438672cb]{height:%?100?%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:%?1?% solid #e2e2e2}.platform[data-v-438672cb]{background:#fff;border-bottom:%?1?% solid #e2e2e2;padding:%?20?% %?20?%;margin-top:%?20?%}.goods-box[data-v-438672cb]{background:#fff;padding:%?32?% %?24?%}.preferential-box[data-v-438672cb]{background:#fff;padding:%?32?% %?24?%;margin-top:%?20?%}.preferential-box .item[data-v-438672cb]{margin:%?12?% %?15?% %?12?% 0;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.preferential-box .picture[data-v-438672cb]{width:%?160?%;height:%?160?%;margin-right:%?14?%;margin-bottom:%?14?%}.preferential-box .label[data-v-438672cb]{margin-right:%?15?%}.preferential-box .image-label[data-v-438672cb]{margin:%?12?% 0}.preferential-box .text[data-v-438672cb]{word-break:break-all}.preferential-box .total_pay_price[data-v-438672cb]{color:#ff4544}body.?%PAGE?%[data-v-438672cb]{background:#f7f7f7}",""])},"8bf5":function(t,e,a){"use strict";a.r(e);var i=a("c8bf"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"9ed0":function(t,e,a){"use strict";var i=a("3594"),n=a.n(i);n.a},b418:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-6432e732]{text-align:center}.font-weight[data-v-6432e732]{font-weight:700}.page-width[data-v-6432e732]{width:100%}.goods-hover-class[data-v-6432e732]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-6432e732]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-6432e732]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-6432e732]{width:100%}.u-hover-class[data-v-6432e732]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-6432e732]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.order-status-box[data-v-6432e732]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.text[data-v-6432e732]{z-index:1;color:#fff;font-size:%?32?%;height:%?32?%;line-height:%?32?%}.text.refund[data-v-6432e732]{padding-left:%?80?%}.text uni-image[data-v-6432e732]{width:%?32?%;height:%?32?%;margin-right:%?16?%}.hint[data-v-6432e732]{z-index:1;margin-top:%?16?%;color:#fff;font-size:%?24?%}body.?%PAGE?%[data-v-6432e732]{background:#f7f7f7}",""])},c8bf:function(t,e,a){"use strict";var i=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("bd86")),o=a("2f62");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var s={name:"app-order-banner",data:function(){return{newPicUrl:""}},props:{title:{type:String,value:""},confirm:{type:String,value:"0"},picUrl:{type:String,value:""},hint:{type:String,value:""},refund:Boolean},computed:c(c({},(0,o.mapGetters)("mallConfig",{getTheme:"getTheme"})),{},{titleStyle:function(){var t="";return this.refund?t+="background-image: url(".concat(this.newPicUrl,");background-size: 100% 100%;height: 120rpx"):t+="background: linear-gradient(to bottom, ".concat(this.getTheme.background,", ").concat(this.getTheme.background_t,");padding-bottom: ").concat(this.hint?"202rpx":"276rpx",";height: 372rpx;"),t}}),created:function(){this.newPicUrl=this.$store.state.mallConfig.__wxapp_img.mall.order.status_bar}};e.default=s},d8cc:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[t.isShow?a("v-uni-view",[0==t.orderDetail.cancel_status?a("v-uni-view",{staticClass:"box"},[a("v-uni-view",{staticClass:"goods-info"},t._l(t.orderDetail.detail,(function(e,i){return a("v-uni-view",{key:i},[a("app-jump-button",{attrs:{url:e.goods_info.page_url}},[a("app-order-goods-info",{attrs:{goods:e.goods_info,"is-last-one":t.orderDetail.detail.length-1!==i,"plugin-data":t.orderDetail.plugin_data,"plugin-index":i}})],1)],1)})),1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"content-item"},[a("span",{staticClass:"label"},[t._v("退款原因")]),a("v-uni-view",{staticClass:"select-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cause.visible=!0}}},[a("span",{staticClass:"select-label",class:{active:t.form.cause,"no-active":!t.form.cause}},[t._v(t._s(t.form.cause?t.cause.list[t.cause.index]:"请选择"))]),a("v-uni-image",{staticClass:"arrow-right",attrs:{src:"/static/image/icon/arrow-right.png"}})],1)],1),a("v-uni-view",{staticClass:"content-item"},[a("span",{staticClass:"label"},[t._v("退款金额")]),a("v-uni-input",{staticClass:"text price-text",attrs:{placeholder:"最多可退款"+t.orderDetail.refund_price_text,disabled:"","placeholder-style":"color:#999999;font-size:28rpx;"},model:{value:t.orderDetail.refund_price_text,callback:function(e){t.$set(t.orderDetail,"refund_price_text",e)},expression:"orderDetail.refund_price_text"}})],1),a("v-uni-view",{staticClass:"content-item"},[a("span",{staticClass:"label"},[t._v("备注信息")]),a("v-uni-input",{staticClass:"text",attrs:{placeholder:"最多可填200个字","placeholder-style":"color:#999999;font-size:28rpx;"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),a("v-uni-view",{staticClass:"content-item"},[a("span",{staticClass:"label"},[t._v("联系方式")]),a("v-uni-input",{staticClass:"text",attrs:{placeholder:"请填写联系方式，便于卖家联系你 ","placeholder-style":"color:#999999;font-size:28rpx;",type:"number"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1)],1),a("v-uni-view",{staticClass:"upload-box"},[a("v-uni-view",{staticClass:"label"},[t._v("上传凭证")]),a("app-upload-image",{attrs:{"max-num":t.maxNum,"background-color":"#fff"},on:{"image-event":function(e){arguments[0]=e=t.$handleEvent(e),t.imageEvent.apply(void 0,arguments)}}})],1)],1):a("v-uni-view",[a("app-order-banner",{attrs:{refund:"待商家审核",title:"待商家审核"}}),a("v-uni-view",{staticClass:"platform"},[t._v(t._s(t.orderDetail.platform))]),a("v-uni-view",{staticClass:"goods-box"},t._l(t.orderDetail.detail,(function(t,e){return a("v-uni-view",{key:e},[a("app-jump-button",{attrs:{url:t.goods_info.page_url}},[a("app-order-goods-info",{staticStyle:{width:"100%"},attrs:{goods:t.goods_info}})],1)],1)})),1),a("v-uni-view",{staticClass:"preferential-box dir-top-nowrap"},[t.orderDetail.cancel_data.cause?a("v-uni-view",{staticClass:"dir-left-nowrap item cross-center"},[a("v-uni-view",{staticClass:"label box-grow-0"},[t._v("退款原因:")]),a("v-uni-view",{staticClass:"t-small-color box-grow-1"},[t._v(t._s(t.orderDetail.cancel_data.cause))])],1):t._e(),a("v-uni-view",{staticClass:"dir-left-nowrap item cross-center"},[a("v-uni-view",{staticClass:"label box-grow-0"},[t._v("退款金额:")]),a("v-uni-view",{staticClass:"t-small-color box-grow-1 total_pay_price"},[t._v("￥"+t._s(t.orderDetail.total_pay_price))])],1),t.orderDetail.cancel_data.remark?a("v-uni-view",{staticClass:"dir-left-nowrap item cross-center"},[a("v-uni-view",{staticClass:"label box-grow-0"},[t._v("备注信息:")]),a("v-uni-view",{staticClass:"t-small-color box-grow-1 text"},[t._v(t._s(t.orderDetail.cancel_data.remark))])],1):t._e(),t.orderDetail.cancel_data.mobile?a("v-uni-view",{staticClass:"dir-left-nowrap item cross-center"},[a("v-uni-view",{staticClass:"label box-grow-0"},[t._v("联系方式:")]),a("v-uni-view",{staticClass:"t-small-color box-grow-1 text"},[t._v(t._s(t.orderDetail.cancel_data.mobile))])],1):t._e(),t.orderDetail.cancel_data.image_list.length>0?a("v-uni-view",{staticClass:"dir-top-nowrap"},[a("v-uni-view",{staticClass:"image-label"},[t._v("图片凭证:")]),a("v-uni-view",{staticClass:"flex-wrap"},t._l(t.orderDetail.cancel_data.image_list,(function(e,i){return a("v-uni-image",{key:i,staticClass:"picture",attrs:{src:e,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage(i)}}})})),1)],1):t._e()],1)],1),a("v-uni-view",{staticStyle:{height:"80rpx","margin-top":"80rpx"}}),a("v-uni-view",{staticClass:"btn-box"},[2==t.orderDetail.cancel_status?a("v-uni-view",{staticClass:"btn main-center cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelApply.apply(void 0,arguments)}}},[t._v("撤销申请")]):a("v-uni-view",{staticClass:"btn main-center cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[t._v("提交")])],1),a("app-select",{attrs:{title:"退款原因","is-show":t.cause.visible,value:t.cause.index,list:t.cause.list},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}})],1):t._e()],1)},o=[]},e6aa:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"app-order-banner order-status-box",style:t.titleStyle},[a("v-uni-view",{staticClass:"text cross-center",class:t.refund?"dir-left-nowrap refund":"main-center"},[0!=t.confirm||t.refund?1!=t.confirm||t.refund?t._e():a("v-uni-image",{attrs:{src:"/static/image/icon/over.png"}}):a("v-uni-image",{attrs:{src:"/static/image/icon/status.png"}}),a("v-uni-view",[t._v(t._s(t.title))])],1),t.hint?a("v-uni-view",{staticClass:"hint main-center cross-center"},[t._v(t._s(t.hint))]):t._e()],1)},o=[]},f9c0:function(t,e,a){"use strict";a.r(e);var i=a("d8cc"),n=a("4128");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("9ed0");var r,c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"438672cb",null,!1,i["a"],r);e["default"]=s.exports}}]);