(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-card-give-give~pages-cart-cart~pages-cats-cats~pages-coupon-give-give~pages-full_reduce-search~917082d9"],{"030e":function(t,e,a){"use strict";var i=a("2130"),r=a.n(i);r.a},"0476":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-attr"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.turnOn.apply(void 0,arguments)}}},[t._t("btn")],2),a("u-popup",{attrs:{mode:"bottom","border-radius":"14",safeAreaInsetBottom:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}},model:{value:t.newValue,callback:function(e){t.newValue=e},expression:"newValue"}},[a("v-uni-view",{staticClass:"u-model",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[a("v-uni-view",{staticClass:"u-top dir-left-nowrap u-border-box"},[a("v-uni-view",{staticClass:"u-pic u-border-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickImg.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"u-img",attrs:{src:t.picUrl?t.picUrl:t.goods.cover_pic}})],1),a("v-uni-view",{staticClass:"u-info"},[a("v-uni-view",{staticClass:"cross-center dir-left-nowrap",style:{color:t.theme.color,height:"30rpx","margin-bottom":"4rpx"}},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[t._t("priceBefore"),a("v-uni-view",{staticClass:"u-price"},[t.is_show_price?a("app-price",{attrs:{type:"hump",theme:t.theme,sign:t.sign,price:t.sellPrice,"default-price":t.goods.price}}):t._e()],1)],2),1===t.goods.level_show?a("app-member-mark",{attrs:{width:"80rpx",height:30,mode:"new",theme:t.theme}}):t._e()],1),"form-goods"!==t.goods.type||0==!t.dataConfig.is_alone?a("v-uni-view",{staticClass:"u-stock"},[t._v("库存："+t._s(t.stock))]):t._e()],1),a("v-uni-view",{staticClass:"u-close-image",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"bd-close-image u-border-box",attrs:{src:"/static/image/icon/icon-close.png"}})],1)],1),a("v-uni-view",{staticClass:"u-center"},[a("v-uni-scroll-view",{staticClass:"u-scroll-view",attrs:{"scroll-y":"true"}},[t._t("extra"),t._l(t.newGroup,(function(e,i){return"goods"===t.goods.type||"form-goods"===t.goods.type?a("v-uni-view",{key:i,staticClass:"u-attr-group u-border-box"},[a("v-uni-view",{staticClass:"u-group-name u-text"},[t._v(t._s(e.attr_group_name))]),a("v-uni-view",{staticClass:"dir-left-wrap"},t._l(e.attr_list,(function(r,n){return a("v-uni-view",{key:n,class:["u-group-item",r.select?"u-checked":"u-unchecked",r.num_0?"u-attr_num_0":"",0==i&&t.showAttrImg?"attr-pic-item":""],style:{"background-color":r.select?t.theme.background_o:"#F6F6F6",color:r.select?t.theme.color:"","border-color":r.select?t.theme.border:"transparent"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.storeAttr(r.attr_id,e.attr_group_id,r.num_0,0==i?n:"-1",r.select)}}},[0==i&&t.showAttrImg?a("v-uni-image",{staticClass:"attr-cover-img",attrs:{mode:"aspectFill",src:r.pic_url?r.pic_url:t.goods.cover_pic}}):t._e(),0==i&&t.showAttrImg?a("v-uni-image",{staticClass:"cover-btn",attrs:{src:"/static/image/icon/cover.png"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.previewCover(n,r.select)}}}):t._e(),a("v-uni-view",[t._v(t._s(r.attr_name))])],1)})),1)],1):t._e()})),t.goods&&"form-goods"===t.goods.type&&"calendar"===t.dataConfig.form_mode_type?a("v-uni-view",{staticClass:"u-attr-group u-border-box",staticStyle:{"margin-right":"24rpx"}},[a("v-uni-view",{staticClass:"u-group-name u-text"},[t._v("预约时间")]),0==t.dataConfig.is_alone?a("v-uni-view",{staticClass:"u-group-name u-select dir-left-nowrap cross-center"},[a("v-uni-view",{staticClass:"box-grow-0"},[t._v("已选")]),a("v-uni-view",{staticClass:"box-grow-1",staticStyle:{"margin-left":"33rpx"}},[t._v(t._s(t._f("formatDate")(t.date)))]),t.date.data.length?a("v-uni-view",{staticClass:"box-grow-0"},[t._v("共"+t._s(1==t.dataConfig.has_kuatian?t.date.data.length-1:t.date.data.length)+t._s(t.dataConfig.place_unit))]):t._e()],1):t._e(),a("v-uni-view",{staticClass:"dir-left-wrap"},[a("v-uni-scroll-view",{staticStyle:{width:"100%","border-bottom":"1px solid rgba(0, 0, 0, 0.1)"},attrs:{"scroll-x":!0}},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center year-text"},t._l(t.weekList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"main-center box-grow-0",style:{borderBottomColor:t.nowDate.year==e.year&&t.nowDate.month==e.month?t.theme.color:"rgba(0,0,0,0)"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeMonth(e)}}},[t._v(t._s(e.text))])})),1)],1)],1),a("v-uni-view",{staticClass:"calendar dir-top-nowrap"},[a("v-uni-view",{staticClass:"dir-left-nowrap"},t._l(["日","一","二","三","四","五","六"],(function(e,i){return a("v-uni-view",{key:i,staticClass:"calendar-week box-grow-1 cross-center main-center"},[t._v(t._s(e))])})),1)],1),a("v-uni-view",{staticClass:"dir-top-nowrap"},t._l(t.formatWeeks,(function(e,i){return a("v-uni-view",{key:i,staticClass:"dir-left-nowrap"},t._l(e,(function(e,i){return e&&e.year==t.nowDate.year&&e.month==t.nowDate.month?a("v-uni-view",{key:i,staticClass:"calendar-day box-grow-1 cross-center main-center dir-top-nowrap",style:[e.ss],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.choiceDate(e)}}},[a("v-uni-view",{style:e.text_color},[t._v(t._s(e.top_content))]),a("v-uni-view",{staticStyle:{"font-size":"24rpx",padding:"15rpx 0"}},[t._v(t._s(e.date))]),a("v-uni-view",{style:{color:e.disable?"#cccccc":t.theme.color}},[t._v(t._s(e.end_content))])],1):a("v-uni-view",{staticClass:"calendar-day box-grow-1"})})),1)})),1)],1):t._e(),a("v-uni-view",[t._t("afterList")],2),t.is_choose_number?a("v-uni-view",{staticClass:"u-number dir-left-nowrap main-between cross-center"},[a("v-uni-view",{staticClass:"u-text",staticStyle:{color:"#333333","font-weight":"600"}},[t._v("数量")]),a("v-uni-view",{staticClass:"dir-left-nowrap u-input-box"},[a("v-uni-view",{class:[t.number<=t.min_number?"u-reduced-1":"u-reduced-0","u-number-btn"],on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.numberSub.apply(void 0,arguments)}}}),a("v-uni-input",{staticClass:"u-input",attrs:{type:"number"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.numberBlur.apply(void 0,arguments)}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}}),a("v-uni-view",{staticClass:"u-number-btn u-added-1",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.numberAdd.apply(void 0,arguments)}}})],1)],1):t._e(),t._t("afterNumber")],2)],1),a("v-uni-view",[a("app-sell-tip",{attrs:{time:t.sell_time},on:{changeTime:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTime.apply(void 0,arguments)}}})],1),"form-goods"===t.goods.type&&1==t.dataConfig.customization_status?[a("v-uni-view",{staticClass:"u-bottom dir-left-nowrap"},[a("v-uni-view",{staticClass:"box-grow-1 u-btn u-btn-color",style:{background:t.theme.background_gradient_btn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleNext.apply(void 0,arguments)}}},[[t._v("下一步")]],2)],1)]:a("app-jump-button",{attrs:{form:!0}},[a("v-uni-view",{staticClass:"u-bottom dir-left-nowrap"},[t.is_show_left&&("goods"===t.goods.type||t.is_must_left)?a("v-uni-view",{staticClass:"box-grow-1",class:["u-btn",t.is_show_right?"bd-btn-left":""],style:{color:t.theme.secondary_text,background:t.theme.background_s_gradient_btn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.leftSubmit.apply(void 0,arguments)}}},[t._t("left_slot"),t.$slots.left_slot?t._e():[t._v(t._s(t.leftText))]],2):t._e(),(""==t.sign||"mch"==t.sign)&&t.sell_time>0?[1==t.isTip?a("v-uni-view",{staticClass:"box-grow-1",class:[t.$slots.right_slot?"":" u-btn u-btn-color",!t.is_show_left||"goods"!==t.goods.type&&!t.is_must_left?"":" bd-btn-right"],style:{background:t.$slots.right_slot?"":t.theme.background_gradient_btn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rightTip.apply(void 0,arguments)}}},[t._v(t._s(t.rightRemindText))]):t._e()]:[t.is_show_right?a("v-uni-view",{staticClass:"box-grow-1",class:[t.$slots.right_slot?"":" u-btn u-btn-color",!t.is_show_left||"goods"!==t.goods.type&&!t.is_must_left?"":" bd-btn-right"],style:{background:t.$slots.right_slot?"":t.theme.background_gradient_btn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rightSubmit.apply(void 0,arguments)}}},[t._t("right_slot"),t.$slots.right_slot?t._e():[t._v(t._s(t.rightText))]],2):t._e(),t.$slots.right?[t._t("right")]:t._e()]],2)],1)],2)],1),t.showPreview?a("app-preview-image",{attrs:{cover_list:t.cover_list,index:t.attrIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.closePreview.apply(void 0,arguments)}}}):t._e()],1)},n=[]},"06e6":function(t,e,a){"use strict";var i=a("4ea4");a("ac4d"),a("8a81"),a("7f7f"),a("6b54"),a("87b3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("7618"));a("5df3"),a("1c4c");var n=i(a("bd86"));a("c5f6"),a("a481"),a("ac6a"),a("8615");var o=i(a("fcd1"));function s(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=c(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,n=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw n}}}}function c(t,e){if(t){if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var l={data:function(){return{nowDate:{year:"",month:"",day:""},calendar:[],weeks:[],date:{before:"",after:"",data:[]},dateData:[],weekList:[]}},computed:{formatWeeks:function(){var t=this,e=JSON.parse(JSON.stringify(Object.values(this.weeks))),a=this.dateData,i=this.dataConfig,r=this.calendar;return e.map((function(e){return e.map((function(e){if(!e)return e;var n={fullDate:e.fullDate,disable:e.disable,stock:"",member_price:"",price:"",top_content:"",end_content:"",text_color:"color: ".concat(e.disable?"#cccccc":"#999999")},o=e.year,c=e.month,u=e.date;if(!n.disable){var l=i.calendar_start,d=i.calendar_end,h=new Date(l.replace(/-/g,"/")),f=new Date(d.replace(/-/g,"/")),g=new Date(n.fullDate.replace(/-/g,"/"));(g<h||g>f)&&Object.assign(n,{disable:!0})}var p,m=!1,v=s(a);try{for(v.s();!(p=v.n()).done;){var b=p.value;if(Number(b.date.day)==Number(u)&&Number(b.date.month)==Number(c)&&Number(b.date.year)==Number(o)){m=!0;var _=b.value,w=_.stock,y=_.member_price,k=_.calc_price;Object.assign(n,{stock:w,member_price:y,calc_price:k,end_content:"￥"+k,disable:0==w||n.disable}),Object.assign(n,{top_content:"库存"+(w>=1e3?"充足":w||0),text_color:"color: ".concat(n.disable?"#cccccc":"#999999")});break}}}catch(x){v.e(x)}finally{v.f()}return m||(n.disable=!0),1==i.is_alone?(e.fullDate===r.fullDate&&Object.assign(n,{top_content:"预定",text_color:"color: #333333"}),e.fullDate&&t.calendar.fullDate===e.fullDate&&Object.assign(t.calendar,{stock:n.stock,calc_price:n.calc_price})):e.afterMultiple&&1==i.has_kuatian?Object.assign(n,{top_content:"预定",text_color:"color: #333333",calc_price:0,end_content:"￥0"}):(e.afterMultiple||e.beforeMultiple||e.multiple||e.fullDate===r.fullDate)&&Object.assign(n,{top_content:"预定",text_color:"color: #333333"}),Object.assign(e,n),Object.assign({ss:t.handlerDay(e)},e)}))}))},dataConfig:function(){return Object.assign({},this.goods?this.goods.form_goods:{})}},filters:{formatDate:function(t){var e=t.before,a=t.after,i=/\d{4}-0?(\d{1,2})-0?(\d{1,2})/,r="";return e&&(r+=e.replace(i,"$1月$2号")),r+=" - ",a&&(r+=a.replace(i,"$1月$2号")),r}},methods:{handlerDay:function(t){var e=this.calendar,a=this.theme,i=a.background_o,r=a.color,n=a.border,o={fontSize:"20rpx",color:"#333333"};return t.fullDate?(0==this.dataConfig.is_alone?(t.multiple&&Object.assign(o,{backgroundColor:i,width:"102rpx",color:r}),t.beforeMultiple&&Object.assign(o,{backgroundColor:a.background_o,borderRadius:"8rpx 0 0 8rpx",boxSizing:"border-box",border:"1px solid ".concat(n),color:r,borderLeftWidth:"1px"}),t.afterMultiple&&(Object.assign(o,{backgroundColor:i,borderRadius:"0 8rpx 8rpx 0",boxSizing:"border-box",border:"1px solid ".concat(n),color:r}),this.date.data&&2==this.date.data.length&&Object.assign(o,{paddingLeft:"1px",borderLeftWidth:0}))):t.fullDate===e.fullDate&&Object.assign(o,{backgroundColor:i,borderRadius:"8rpx",color:r,border:"1px solid ".concat(n)}),t.disable&&Object.assign(o,{color:"#cccccc"}),o):o},setDate:function(t){this.cale.setDate(t),this.weeks=this.cale.weeks,this.nowDate=this.cale.getInfo(t)},changeMonth:function(t){var e=t.value;this.setDate(e)},choiceDate:function(t){if(!t.disable)try{var e=this.dataConfig,a=e.has_kuatian,i=e.place_unit,r=e.day_max,n=e.is_day,o=e.is_alone;if(0==o){var c=this.cale.multipleStatus,u=c.before,l=c.after;if(!this.cale.range)return;if(u&&!l&&t.fullDate>u){var d,h=!1,f=s(this.formatWeeks);try{for(f.s();!(d=f.n()).done;){var g,p=d.value,m=s(p);try{for(m.s();!(g=m.n()).done;){var v=g.value;if(v.fullDate===u&&(h=!0),h&&v.disable&&(h=!1),void 0===v.fullDate&&(h=!0),v.fullDate===t.fullDate&&!h)throw new Error("请选择连续可用日期")}}catch(b){m.e(b)}finally{m.f()}}}catch(b){f.e(b)}finally{f.f()}}else if(u&&!l&&t.fullDate==u)return this.cale.multipleStatus.before="",this.cale.multipleStatus.after="",this.cale.multipleStatus.data=[],this.cale._getWeek(t.fullDate),this.calendar=t,this.weeks=this.cale.weeks,this.date=this.cale.multipleStatus,void this.updateStock()}this.cale.setMultiple(t.fullDate,n,r,a,i),this.calendar=t,this.weeks=this.cale.weeks,this.date=this.cale.multipleStatus,this.updateStock()}catch(_){uni.showToast({title:_.message,icon:"none"})}},handleParam:function(){var t,e,a=this,i=this.checked,r=this.goods,o=(this.number,this.dataConfig),c=this.calendar,u=[],l=s(r.attr);try{for(l.s();!(t=l.n()).done;){var d=t.value;if(d.id==i.id){u=d.date;break}}}catch(h){l.e(h)}finally{l.f()}return e=1==o.is_alone?{before:c.fullDate,after:c.fullDate,data:c.fullDate?[c.fullDate]:[]}:JSON.parse(JSON.stringify(this.date)),e.data=e.data.map((function(t,i){var r;return u.forEach((function(o){var s=o.date,c=(s.day,s.month,s.year,s.value);t===c&&(r=1==a.dataConfig.has_kuatian&&i+1==e.data.length?(0,n.default)({},t,0):(0,n.default)({},t,o.value.calc_price))})),r})),e},handleNext:function(){if("form-goods"!==this.goods.type||"calendar"!==this.dataConfig.form_mode_type||this.isSelect()){var t=this.handleParam(),e=this.checked,a=this.goods,i=this.number,r=[];e.attr_list.forEach((function(t){return r.push({attr_id:t.attr_id,attr_group_id:t.attr_group_id})}));var n=[{mch_id:a.mch_id||0,goods_list:[{id:a.id,attrs:r,num:i,cat_id:0,goods_attr_id:e.id}]}],o={attr_groups:JSON.stringify(a.attr_groups),mch_list:JSON.stringify(n),price:e.calc_price,goods_id:a.id,stock:i,date:JSON.stringify(t||[])},s="/pages/goods/goods-form?";for(var c in o)s+=c+"="+o[c]+"&";uni.navigateTo({url:s})}else uni.showToast({title:"请选择日历信息",icon:"none"})},isSelect:function(){var t=this.dataConfig,e=this.calendar,a=this.date;if(1==t.is_alone){var i=e.fullDate;return!!i}var r=a.after,n=a.before;a.data;return Boolean(r&&n)},updateStock:function(){var t=this;if(this.isSelect()&&this.checked){var e,a,i=this.dataConfig,n=this.formatWeeks,o=this.date,s=this.calendar;if(1==i.is_alone)e=s.stock,a=s.calc_price,this.checked.stock=e||0;else{var c=function(){var e=[],i=[];if(o.data.length<2)return{v:void 0};for(var r in n)n[r].forEach((function(t){var a=t.fullDate,r=t.stock,n=t.calc_price;o.data.forEach((function(t){a===t&&(e.push(Number(r)),i.push(Number(n)))}))}));t.checked.stock=Math.min.apply(Math,e),a=Array.from(i).reduce((function(t,e){return t+e})).toFixed(3).toLocaleString(),a=a.substr(0,a.length-1)}();if("object"===(0,r.default)(c))return c.v}this.checked.price=a||0,this.checked.calc_price=a||0,this.checked.price_member=a||0}},createCalendar:function(){var t=this.dataConfig,e=t.calendar_start,a=t.calendar_end,i=t.is_alone,r=t.after_day,n=t.is_today,s=function(t){var e=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var i=t.getDate();return i=i<10?"0"+i:i,e+"-"+a+"-"+i+" 00:00:00"},c="";switch(n){case"none":c=e;break;case"today":var u=new Date(e.replace(/-/g,"/")).getTime();c=(new Date).getTime()>u?s(new Date):e;break;case"after":var l=new Date,d=new Date(e.replace(/-/g,"/")).getTime();l=l.setDate(l.getDate()+Number(r)),c=new Date(l).getTime()>d?s(new Date(l)):e;break;default:break}var h=new Date(c.replace(/-/g,"/"));this.cale=new o.default({date:h,selected:[],startDate:c,endDate:a,range:0==i}),this.setDate(h),this.monthList(this.cale)},monthList:function(t){var e=t.startDate,a=t.endDate;if(e&&a){var i=new Date(e.replace(/-/g,"/")),r=new Date(a.replace(/-/g,"/")),n=i.getFullYear(),o=i.getMonth()+1,s=[];while(r.getFullYear()>=n){for(var c=r.getFullYear()==n?r.getMonth()+1:12,u=n==i.getFullYear()?o:1;u<=c;u++)s.push({year:n,month:u,value:n+"-"+u+"-1",text:u+"月"});n++}this.weekList=s}},upCalendar:function(t){"form-goods"===this.goods.type&&(this.dateData=t.date,this.updateStock())}}};e.default=l},1267:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAABlBMVEX09PTV1dUeYHV3AAAAFElEQVQoz2MY2aD+//8H+BgjGgAAMQANdT7AwNcAAAAASUVORK5CYII="},1639:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={onLoad:function(){console.log("--商品混入--")},computed:{remindParams:function(){return{sell_time:this.sell_time,goods_id:this.goods?this.goods.id:0,template_message_list:this.template_message_list,buy_text:"立即购买"}},rightRemindText:function(){return this.remindParams.sell_time>300?"开售提醒我":this.remindParams.sell_time>0?"即将开售":this.remindParams.buy_text}},methods:{rightTip:function(){this.remindParams.sell_time<300?console.log("小于5分钟不进行开售提醒"):this.$goodsRemind(this.remindParams.template_message_list,this.remindParams.goods_id)}}};e.default=i},2130:function(t,e,a){var i=a("6fec");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("149c49d4",i,!0,{sourceMap:!1,shadowMode:!1})},"2db6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAABlBMVEX39/eZmZmXx6vxAAAAFElEQVQoz2MY2aD+//8H+BgjGgAAMQANdT7AwNcAAAAASUVORK5CYII="},"312d":function(t,e,a){var i=a("db11");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("e46477d4",i,!0,{sourceMap:!1,shadowMode:!1})},"4cdd":function(t,e,a){"use strict";var i=a("8756"),r=a.n(i);r.a},5216:function(t,e,a){e=t.exports=a("24fb")(!1);var i=a("b605"),r=i(a("1267")),n=i(a("2db6")),o=i(a("d3fe"));e.push([t.i,".text-center[data-v-2ec620b2]{text-align:center}.font-weight[data-v-2ec620b2]{font-weight:700}.page-width[data-v-2ec620b2]{width:100%}.goods-hover-class[data-v-2ec620b2]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-2ec620b2]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-2ec620b2]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-2ec620b2]{width:100%}.u-hover-class[data-v-2ec620b2]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-2ec620b2]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.u-bottom[data-v-2ec620b2]{height:%?110?%;width:%?750?%;padding:%?20?% %?24?%;border-top:%?1?% solid rgba(0,0,0,.1)}.u-btn[data-v-2ec620b2]{text-align:center;line-height:%?70?%;border-radius:%?35?%;font-size:%?26?%;width:calc(50% - %?10?%)}.u-btn-color[data-v-2ec620b2]{color:#fff}.u-attr-group[data-v-2ec620b2]{margin:%?24?%;margin-bottom:0;margin-right:0}.u-group-name[data-v-2ec620b2]{margin-bottom:%?20?%;font-weight:600;color:#333}.u-text[data-v-2ec620b2]{font-size:%?24?%;color:#666}.u-select[data-v-2ec620b2]{width:100%;height:%?64?%;background:#f6f6f6;font-size:%?24?%;padding:0 %?20?% 0 %?22?%;border-radius:%?8?%}.year-text[data-v-2ec620b2]{font-size:%?24?%}.year-text>uni-view[data-v-2ec620b2]{width:%?64?%;padding-bottom:%?4?%;margin-right:%?37?%;border-bottom-width:%?6?%;border-bottom-style:solid;border-bottom-color:#ff4544}.calendar .calendar-week[data-v-2ec620b2]{font-size:%?24?%;color:#333;height:%?80?%}.calendar-day[data-v-2ec620b2]{width:%?102?%;height:%?141?%;background:#fff;margin-left:%?0?%;margin-right:%?0?%;margin-bottom:%?10?%}.goods-composition[data-v-2ec620b2]{width:%?702?%;margin:%?20?% %?20?% 0 %?20?%;padding:%?20?%;background-color:#fff;border-radius:%?15?%}.goods-composition .goods-composition-title[data-v-2ec620b2]{font-size:%?28?%;color:#353535;margin-bottom:%?20?%}.goods-composition .goods-composition-swiper[data-v-2ec620b2]{height:%?194?%}.goods-composition .goods-composition-more[data-v-2ec620b2]{margin:%?20?% auto %?4?% auto;width:%?226?%;padding:0 %?24?%;height:%?56?%;line-height:%?54?%;border-radius:%?28?%;border:%?2?% solid #bbb;font-size:%?24?%;color:#999}.goods-composition .goods-composition-more uni-image[data-v-2ec620b2]{width:%?12?%;height:%?22?%}.u-model[data-v-2ec620b2]{width:%?750?%}.u-top[data-v-2ec620b2]{margin:0 %?24?%;border-bottom:%?1?% solid rgba(0,0,0,.1);height:%?115?%}.u-close-image[data-v-2ec620b2]{width:%?54?%;height:%?78?%;padding:%?24?% 0 %?24?% %?104?%;margin-left:%?24?%}.bd-close-image[data-v-2ec620b2]{width:%?30?%;height:%?30?%}.u-pic[data-v-2ec620b2]{width:%?128?%;height:%?128?%;padding:%?4?%;border-radius:%?8?%;position:relative;top:%?-34?%;background-color:#fff}.u-img[data-v-2ec620b2]{width:%?120?%;height:%?120?%;background-color:#fff}.u-info[data-v-2ec620b2]{width:%?424?%;height:%?136?%;padding:%?30?% 0 0 %?24?%}.u-scroll-view[data-v-2ec620b2]{width:100%;max-height:calc(80vh - %?154?%)}.u-attr-group[data-v-2ec620b2]{margin:%?24?%;margin-bottom:0;margin-right:0}.u-number[data-v-2ec620b2]{height:%?124?%;margin:0 %?32?%}.u-group-name[data-v-2ec620b2]{margin-bottom:%?20?%;font-weight:600;color:#333}.u-group-item[data-v-2ec620b2]{padding:%?15?% %?24?%;border-radius:%?10?%;margin:0 %?20?% %?20?% 0;font-size:%?24?%;border:%?2?% solid rgba(0,0,0,0)}.u-group-item.attr-pic-item[data-v-2ec620b2]{padding:0;position:relative;max-width:%?222?%}.u-group-item.attr-pic-item .attr-cover-img[data-v-2ec620b2]{width:%?218?%;height:%?218?%;border-radius:%?6?%}.u-group-item.attr-pic-item .cover-btn[data-v-2ec620b2]{position:absolute;top:%?10?%;right:%?10?%;width:%?36?%;height:%?36?%}.u-group-item.attr-pic-item uni-view[data-v-2ec620b2]{padding:%?15?% %?24?%;text-align:center}.u-checked[data-v-2ec620b2]{color:#fff}.u-unchecked[data-v-2ec620b2]{background-color:#f2f2f2;color:#353535}.u-attr_num_0[data-v-2ec620b2]{background-color:#f7f7f7;color:#cdcdcd}.u-stock[data-v-2ec620b2]{font-size:%?24?%;color:#999}.u-price[data-v-2ec620b2]{margin-right:%?12?%}.u-input[data-v-2ec620b2]{width:%?88?%;height:%?60?%;min-height:%?62?%;background-color:#f7f7f7;font-size:%?20?%;color:#353535;text-align:center;padding:0}.u-input-box[data-v-2ec620b2]{width:%?218?%}.u-number-btn[data-v-2ec620b2]{height:%?62?%;width:%?60?%;background-repeat:no-repeat;background-size:100% 100%;background-position:50%}.u-number-btn[data-v-2ec620b2]:first-child{margin-right:%?5?%}.u-number-btn[data-v-2ec620b2]:last-child{margin-left:%?5?%}.u-reduced-1[data-v-2ec620b2]{background-image:url("+r+")}.u-reduced-0[data-v-2ec620b2]{background-image:url("+n+")}.u-added-1[data-v-2ec620b2]{background-image:url("+o+")}.u-text[data-v-2ec620b2]{font-size:%?24?%;color:#666}.u-bottom[data-v-2ec620b2]{height:%?110?%;width:%?750?%;padding:%?20?% %?24?%;border-top:%?1?% solid rgba(0,0,0,.1)}.u-btn[data-v-2ec620b2]{text-align:center;line-height:%?70?%;border-radius:%?35?%;font-size:%?26?%;width:calc(50% - %?10?%)}.bd-btn-left[data-v-2ec620b2]{margin-right:%?10?%}.bd-btn-right[data-v-2ec620b2]{margin-left:%?10?%}.u-btn-color[data-v-2ec620b2]{color:#fff}body.?%PAGE?%[data-v-2ec620b2]{background:#f7f7f7}",""])},"571a":function(t,e,a){"use strict";a.r(e);var i=a("d908"),r=a("9fde");for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("030e");var o,s=a("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"fa28fc68",null,!1,i["a"],o);e["default"]=c.exports},"666e":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"app-preview-image",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[a("v-uni-swiper",{staticClass:"swiper",attrs:{"current-item-id":t.currentIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changIndex.apply(void 0,arguments)}}},t._l(t.list,(function(e,i){return a("v-uni-swiper-item",{key:i,attrs:{"item-id":i}},[a("v-uni-view",{staticClass:"swiper-item main-center cross-center"},[a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:e.height,expression:"item.height"}],style:[{height:""+e.height}],attrs:{src:e.pic_url},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad(i,e)}}})],1)],1)})),1),a("v-uni-view",{staticClass:"attr-name main-center cross-center"},[a("v-uni-view",[t._v(t._s(t.currentName))])],1),a("v-uni-view",{staticClass:"attr-index"},[t._v(t._s(t.currentIndex+1)+"/"+t._s(t.list.length))])],1)},n=[]},"6fec":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-fa28fc68]{text-align:center}.font-weight[data-v-fa28fc68]{font-weight:700}.page-width[data-v-fa28fc68]{width:100%}.goods-hover-class[data-v-fa28fc68]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-fa28fc68]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-fa28fc68]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-fa28fc68]{width:100%}.u-hover-class[data-v-fa28fc68]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-fa28fc68]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.sell-tip[data-v-fa28fc68]{width:100%;height:%?80?%;padding:0 %?32?%;background-color:#f2f2f2;border-radius:%?16?%;font-size:%?24?%}.content[data-v-fa28fc68]{font-weight:700;font-size:%?26?%}.u-time-box[data-v-fa28fc68]{margin-left:%?23?%}.u-symbol[data-v-fa28fc68]{width:%?16?%;height:%?42?%}.u-time[data-v-fa28fc68]{width:%?42?%;height:%?42?%;color:#fff;border-radius:%?8?%;background-color:#353535}body.?%PAGE?%[data-v-fa28fc68]{background:#f7f7f7}",""])},"75fc":function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return m}));var i=a("a745"),r=a.n(i),n=a("db2a");function o(t){if(r()(t))return Object(n["a"])(t)}var s=a("67bb"),c=a.n(s),u=a("5d58"),l=a.n(u),d=a("774e"),h=a.n(d);function f(t){if("undefined"!==typeof c.a&&null!=t[l.a]||null!=t["@@iterator"])return h()(t)}var g=a("e630");function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t){return o(t)||f(t)||Object(g["a"])(t)||p()}},8756:function(t,e,a){var i=a("5216");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("7fac459c",i,!0,{sourceMap:!1,shadowMode:!1})},"8f77":function(t,e,a){"use strict";a.r(e);var i=a("666e"),r=a("ebb8");for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("b631");var o,s=a("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"08768c76",null,!1,i["a"],o);e["default"]=c.exports},"93da":function(t,e,a){"use strict";var i=a("4ea4");a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("87b3"),a("8e6e"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("bd86"));a("ac6a"),a("c5f6");var n=i(a("8f77")),o=i(a("d55a")),s=i(a("6c9f")),c=i(a("1ed7")),u=a("2f62"),l=i(a("571a")),d=i(a("1639")),h=i(a("06e6"));function f(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=g(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,n=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw n}}}}function g(t,e){if(t){if("string"===typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var b={name:"u-attr",mixins:[d.default,h.default],props:{value:{type:[Boolean,Number]},goods:{type:Object,default:function(){return{}},required:!0},theme:{type:Object},checked:{type:Object},week_number:{type:[String,Number]},is_show_price:{type:Boolean,default:!0},is_show_left:{type:Boolean,default:!0},is_must_left:{type:Boolean,default:!1},is_show_right:{type:Boolean,default:!0},is_choose_number:{type:Boolean,default:!0},leftText:{type:String,default:"加入购物车"},rightText:{type:String,default:"立即购买"},leftFunc:{type:Boolean},autoClose:{type:Boolean,default:!0},rightFunc:{type:Boolean},sign:{type:String},again:{type:Number},attentionSign:{type:String}},data:function(){return{newValue:!1,picUrl:null,newGroup:[],showAttrImg:!1,number:1,sell_time:0,showPreview:!1,cover_list:[],attrIndex:0,min_number:1}},created:function(){this.min_number=!isNaN(this.goods.min_number)&&this.goods.min_number>0?this.goods.min_number:1,this.number=this.min_number,this.createCalendar()},methods:{closePreview:function(t){if(console.log(t,this.attrIndex),t!=this.attrIndex){var e=this.newGroup[0],a=e.attr_list[t];this.storeAttr(a.attr_id,e.attr_group_id,a.num_0,t)}this.showPreview=!1},previewCover:function(t,e){if(console.log(t,this.attrIndex),!e){var a=this.newGroup[0],i=a.attr_list[t];this.storeAttr(i.attr_id,a.attr_group_id,i.num_0,t)}this.showPreview=!0},close:function(){this.newGroup.forEach((function(t){t.attr_list.forEach((function(t){t.select=!1}))})),this.$emit("input",!1)},turnOn:function(){this.$emit("input",!0)},inArray:function(t,e){return e.some((function(e){return t===e}))},identifier:function(t,e,a){var i=this;t.forEach((function(t){t.attr_list.forEach((function(r){var n="".concat(t.attr_group_id,"-").concat(r.attr_id);i.inArray(n,e)&&!i.inArray(n,a)?r.num_0=!0:r.num_0=!1}))}))},selectCheck:function(t,e,a){var i=this;t.forEach((function(t){var r=[],n=0;t.attr_list.forEach((function(t){var e="".concat(t.attr_group_id,"-").concat(t.attr_id);i.inArray(e,a)||(n+=1,r.push(e))})),0===t.stock&&n<=1&&Array.prototype.push.apply(e,r),0===n&&(i.upCalendar(t),i.checked&&"form-goods"===i.goods.type&&i.isSelect()&&(t.stock=i.checked.stock,t.price=i.checked.price,t.calc_price=i.checked.price,t.price_member=i.checked.price),i.$emit("check",{item:t,number:i.number}))}))},storeAttr:function(t,e,a,i,r){var n=this;if((1!=r||"form-goods"!==this.goods.type)&&!0!==a){i>-1&&(this.attrIndex=i);var o=this.newGroup,s=this.copyAttr,c=[];o.forEach((function(a,i){var r=a.attr_list;r.forEach((function(r){a.attr_group_id===e&&(r.attr_id===t?!0===r.select?r.select=!1:r.select=!0:r.select=!1),!0===r.select&&(c.push("".concat(a.attr_group_id,"-").concat(r.attr_id)),0===i&&(n.picUrl=r.pic_url))}))}));var u=[];this.selectCheck(s,u,c),this.$nextTick((function(){n.number>n.stock&&(n.number=n.stock)})),this.identifier(o,u,c),c.length!==o.length&&(this.$emit("check",{item:null}),this.upCalendar(null))}},firstSelect:function(){var t=this;if(this.copyGroup&&this.copyAttr){var e=this.copyGroup,a=this.copyAttr,i=e.length,r=[];a.forEach((function(a){var n=a.attr_list;n.forEach((function(n){var o=n.attr_group_id;e.forEach((function(s){if(o===s.attr_group_id){var c=s.attr_list;c.forEach((function(o,c){o.attr_id===n.attr_id&&a.stock>0&&i>0&&c==e.length-i&&(o.select=!0,r.push("".concat(s.attr_group_id,"-").concat(o.attr_id)),i===e.length&&(t.picUrl=o.pic_url),i--)}))}}))}))}));var n=[];this.selectCheck(a,n,r),this.identifier(e,n,r),this.newGroup=e}},numberBlur:function(t){var e=parseInt(t.detail.value);e||(e=1);var a=this.stock;"weekly_buy"==this.sign&&this.week_number>0&&(a=Math.floor(+this.stock/+this.week_number),console.log(a)),e>a&&(e=a,uni.showToast({title:"库存不足",icon:"none"})),this.number=e},numberSub:function(){var t=this.number;t>this.min_number&&(t--,this.number=t)},numberAdd:function(){var t=this.number,e=this.stock;"weekly_buy"==this.sign&&this.week_number>0&&(e=Math.floor(+this.stock/+this.week_number),console.log(e)),t++,t>e&&(t=e,uni.showToast({title:"库存不足",icon:"none"})),this.checkLimitBuy(t)||(t=this.goods.limit_buy.rest_number),this.number=t},leftSubmit:function(){!0===this.leftFunc?this.$emit("leftFunc",this.number):this.cart(),this.close()},rightSubmit:function(){if(!this.checked)return uni.showToast({title:"请先选规格",icon:"none"}),!1;if(!this.$user.isLogin())return this.$user.getInfo();var t=[];this.checked.attr_list.forEach((function(e){t.push({attr_id:e.attr_id,attr_group_id:e.attr_group_id})}));var e={mch_id:this.goods.mch_id?this.goods.mch_id:0,goods_list:[{id:this.goods.id,attrs:t,num:this.number,cat_id:0,goods_attr_id:this.checked.id}]};if(this.checkMinNUmber()&&this.checkLimitBuy(this.number))if(!0===this.rightFunc){if(this.$emit("rightFunc",e),!this.autoClose)return!1;this.close()}else this.shop(e)},shop:function(t){if("form-goods"===this.goods.type&&"calendar"===this.dataConfig.form_mode_type){if(!this.isSelect())return void uni.showToast({title:"请选择日历信息",icon:"none"});var e=this.handleParam();return Object.assign(t,{date:JSON.stringify(e),stock:this.number}),uni.navigateTo({url:"/pages/order-submit/order-submit?&date=".concat(e,"&preview_url=").concat(encodeURIComponent(this.$api.order.form_order_preview),"&submit_url=").concat(encodeURIComponent(this.$api.order.form_order_submit),"&mch_list=").concat(JSON.stringify([t]))}),void this.close()}uni.navigateTo({url:"/pages/order-submit/order-submit?mch_list=".concat(JSON.stringify([t]))}),this.close()},cart:function(){var t=this;if(!this.checked)return uni.showToast({title:"请先选规格",icon:"none"}),!1;if("ecard"!==this.goods.type){var e=this.number;this.$request({url:this.$api.cart.add,method:"post",data:{goods_id:this.checked.goods_id,attr:this.checked.id,num:this.number}}).then((function(a){0===a.code?(uni.showToast({title:a.msg,icon:"none"}),t.getNumber(),t.$emit("cart",{checked:t.checked,number:e}),t.close()):uni.showToast({title:a.msg,icon:"none",duration:2500})}))}},getNumber:function(){var t=this;this.$request({url:this.$api.cart.nums}).then((function(e){0===e.code&&t.$store.commit("user/cart_nums",e.data.nums)})).catch((function(t){}))},clickImg:function(){this.picUrl?this.previewCover(this.attrIndex,!0):this.$jwx.previewImage({current:this.goods.cover_pic,urls:[this.goods.cover_pic]})},checkMinNUmber:function(){return!(this.goods.min_number>this.number)||(this.$tips.showToast({title:"该商品"+this.goods.min_number+this.goods.unit+"起售",icon:"none"}),!1)},checkLimitBuy:function(t){return!("undefined"!==typeof this.goods.limit_buy&&1==this.goods.limit_buy.status&&this.goods.limit_buy.rest_number<t)||(this.$tips.showToast({title:this.goods.limit_buy.text,icon:"none"}),!1)},changeTime:function(t){this.sell_time=t}},components:{uPopup:o.default,appPrice:s.default,appMemberMark:c.default,appSellTip:l.default,appPreviewImage:n.default},computed:v(v(v({stock:function(){return this.$validation.isEmpty(this.checked)?this.$validation.isEmpty(this.goods)?void 0:this.goods.goods_num:this.checked.stock},sellPrice:function(){return this.$validation.isEmpty(this.checked)?this.$validation.isEmpty(this.goods)?void 0:this.goods.hasOwnProperty("price_min")?this.goods.price_min:this.goods.price:1===this.goods.level_show?this.checked.price_member:this.checked.price},copyGroup:function(){if(this.goods){for(var t=this.$utils.deepClone(this.goods.attr_groups),e=0;e<t.length;e++)t[e].attr_list.forEach((function(t){t.select=!1,t.num_0=!1}));return t}},copyAttr:function(){if(this.goods)return this.$utils.deepClone(this.goods.attr)}},(0,u.mapGetters)({userInfo:"user/info"})),(0,u.mapState)({isTip:function(t){return t.mallConfig.mall.setting.is_remind_sell_time}})),{},{remindParams:function(){return{sell_time:this.sell_time,goods_id:this.goods.id,template_message_list:this.goods.template_message_list,buy_text:this.rightText}}}),watch:{value:{handler:function(t){if(this.newValue=t,!1===t)return this.cover_list=[],this.showAttrImg=!1,void(this.number=this.min_number);this.cover_list=[],this.showAttrImg=!1;var e,a=f(this.goods.attr_groups[0].attr_list);try{for(a.s();!(e=a.n()).done;){var i=e.value;this.cover_list.push({pic_url:i.pic_url?i.pic_url:this.goods.cover_pic,name:i.attr_name}),i.pic_url&&(this.showAttrImg=!0)}}catch(r){a.e(r)}finally{a.f()}this.sell_time=this.goods.sell_time,this.$validation.isEmpty(this.checked)&&this.$utils.throttle(this.firstSelect,800)},immediate:!0},number:{handler:function(t){this.$emit("check",{item:this.checked,number:this.number}),this.upCalendar(this.checked)}},again:{handler:function(){this.firstSelect()}}}};e.default=b},"9cab":function(t,e,a){"use strict";var i=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("bd86"));a("c5f6");var n=a("2f62");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={name:"app-sell-tip",components:{},props:{time:{type:Number,default:function(){return 0}}},data:function(){return{timer:null,timeLog:0}},watch:{time:{handler:function(){var t=this,e=this.time;if(!(e<=0)){var a=parseInt(e/60/60/24),i=parseInt(e/60/60%24),r=parseInt(e/60%60),n=parseInt(e%60);this.timer={day:a,hour:i<10?"0"+i:i,min:r<10?"0"+r:r,sec:n<10?"0"+n:n},setTimeout((function(){e-=1,t.$emit("changeTime",e)}),1e3)}},immediate:!0}},computed:s(s({},(0,n.mapState)({isTip:function(t){return t.mallConfig.mall.setting.is_remind_sell_time}})),{},{content:function(){var t="即将开售";return 1==this.isTip&&(t+="，记得设置提醒"),t}})};e.default=c},"9fde":function(t,e,a){"use strict";a.r(e);var i=a("9cab"),r=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},b4bc:function(t,e,a){"use strict";a.r(e);var i=a("0476"),r=a("f066");for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("4cdd");var o,s=a("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"2ec620b2",null,!1,i["a"],o);e["default"]=c.exports},b631:function(t,e,a){"use strict";var i=a("312d"),r=a.n(i);r.a},d3fe:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAABlBMVEX39/eZmZmXx6vxAAAAGklEQVQoz2MYzICf5oz6//8f4GHQ3hmDGQAAjcAOv+IPUVgAAAAASUVORK5CYII="},d908:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.time>0?a("v-uni-view",{staticClass:"app-sell-tip"},[a("v-uni-view",{staticClass:"dir-left-norwap cross-center sell-tip"},[a("v-uni-view",{staticClass:"content box-grow-1"},[t._v(t._s(t.content))]),a("v-uni-view",{staticClass:"box-grow-0"},[t._v("距开始")]),t.timer?a("v-uni-view",{staticClass:"box-grow-0 dir-left-nowrap u-time-box"},[t.timer.day>0?a("v-uni-view",{staticClass:"main-center cross-center u-time"},[t._v(t._s(t.timer.day))]):t._e(),t.timer.day>0?a("v-uni-view",{staticClass:"main-center cross-center u-symbol"},[t._v(":")]):t._e(),a("v-uni-view",{staticClass:"main-center cross-center u-time"},[t._v(t._s(t.timer.hour))]),a("v-uni-view",{staticClass:"main-center cross-center u-symbol"},[t._v(":")]),a("v-uni-view",{staticClass:"main-center cross-center u-time"},[t._v(t._s(t.timer.min))]),a("v-uni-view",{staticClass:"main-center cross-center u-symbol"},[t._v(":")]),a("v-uni-view",{staticClass:"main-center cross-center u-time"},[t._v(t._s(t.timer.sec))])],1):t._e()],1)],1):t._e()},n=[]},db11:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-08768c76]{text-align:center}.font-weight[data-v-08768c76]{font-weight:700}.page-width[data-v-08768c76]{width:100%}.goods-hover-class[data-v-08768c76]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-08768c76]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-08768c76]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-08768c76]{width:100%}.u-hover-class[data-v-08768c76]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-08768c76]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-preview-image[data-v-08768c76]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;z-index:10000}.app-preview-image .swiper[data-v-08768c76]{width:100%;height:100%}.app-preview-image .swiper .swiper-item[data-v-08768c76]{height:100%}.app-preview-image .swiper .swiper-item uni-image[data-v-08768c76]{display:block;width:100%}.app-preview-image .attr-name[data-v-08768c76]{height:%?76?%;position:fixed;bottom:%?160?%;left:0;width:100%;z-index:10001;color:#fff;font-size:%?32?%}.app-preview-image .attr-name>uni-view[data-v-08768c76]{height:%?76?%;line-height:%?76?%;border-radius:%?38?%;display:inline-block;padding:0 %?40?%;background-color:hsla(0,0%,100%,.25);max-width:80%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.app-preview-image .attr-index[data-v-08768c76]{color:#fff;height:%?60?%;line-height:%?60?%;padding:0 %?30?%;display:inline-block;background-color:hsla(0,0%,100%,.25);position:fixed;bottom:%?60?%;right:%?40?%;border-radius:%?30?%;font-size:%?26?%;z-index:10001}body.?%PAGE?%[data-v-08768c76]{background:#f7f7f7}",""])},e6eb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("7f7f"),a("c5f6");var i={name:"app-preview-image",data:function(){return{currentIndex:0,currentName:"",list:[]}},props:{cover_list:Array,index:{type:Number,default:function(){return 0}}},created:function(){this.list=JSON.parse(JSON.stringify(this.cover_list)),this.currentIndex=this.index,this.currentName=this.list[this.currentIndex].name},methods:{close:function(){this.$emit("change",this.currentIndex)},changIndex:function(t){this.currentIndex=t.detail.current,this.currentName=this.list[t.detail.current].name},imageLoad:function(t,e){var a=e.detail.height,i=e.detail.width,r=a*(750/i);this.list[t].height=r+"rpx",this.$forceUpdate()}}};e.default=i},ebb8:function(t,e,a){"use strict";a.r(e);var i=a("e6eb"),r=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},f066:function(t,e,a){"use strict";a.r(e);var i=a("93da"),r=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},fcd1:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("75fc"));a("28a5"),a("c5f6"),a("20d6"),a("7514"),a("a481");var n=i(a("7618")),o=i(a("d225")),s=i(a("b0b4")),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.date,i=void 0===a?new Date:a,r=e.selected,n=e.startDate,s=e.endDate,c=e.range;(0,o.default)(this,t),this.date=this.getDate(i),this.selected=r||[],this.startDate=n,this.endDate=s,this.range=c,this.cleanMultipleStatus(),this.weeks={}}return(0,s.default)(t,[{key:"setDate",value:function(t){this.selectDate=this.getDate(t),this._getWeek(this.selectDate.fullDate)}},{key:"cleanMultipleStatus",value:function(){this.multipleStatus={before:"",after:"",data:[]}}},{key:"resetSatrtDate",value:function(t){this.startDate=t}},{key:"resetEndDate",value:function(t){this.endDate=t}},{key:"getDate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";t||(t=new Date),"object"!==(0,n.default)(t)&&(t=t.replace(/-/g,"/"));var i=new Date(t);switch(a){case"day":i.setDate(i.getDate()+e);break;case"month":31===i.getDate()?i.setDate(i.getDate()+e):i.setMonth(i.getMonth()+e);break;case"year":i.setFullYear(i.getFullYear()+e);break}var r=i.getFullYear(),o=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0"+i.getDate():i.getDate();return{fullDate:r+"-"+o+"-"+s,year:r,month:o,date:s,day:i.getDay()}}},{key:"_getLastMonthDays",value:function(t,e){for(var a=[],i=t;i>0;i--){var r=new Date(e.year,e.month-1,1-i).getDate();a.push({date:r,month:e.month-1,disable:!0})}return a}},{key:"_currentMonthDys",value:function(t,e){for(var a=this,i=[],r=this.date.fullDate,n=function(t){var n=e.year+"-"+(e.month,e.month+"-")+(t<10?"0"+t:t),o=r===n,s=a.selected&&a.selected.find((function(t){if(a.dateEqual(n,t.date))return t})),c=!0,u=!0;if(a.startDate){var l=a.dateCompare(a.startDate,r);c=a.dateCompare(l?r:a.startDate,n)}if(a.endDate){var d=a.dateCompare(r,a.endDate);u=a.dateCompare(n,d?a.endDate:r)}var h=a.multipleStatus.data,f=!1,g=-1;a.range&&(h&&(g=h.findIndex((function(t){return a.dateEqual(t,n)}))),-1!==g&&(f=!0));var p={fullDate:n,year:e.year,date:t,multiple:!!a.range&&f,beforeMultiple:a.dateEqual(a.multipleStatus.before,n),afterMultiple:a.dateEqual(a.multipleStatus.after,n),month:e.month,disable:!c||!u,isDay:o,dayNum:a.range?a.multipleStatus.data.length:1,afterTime:a.multipleStatus.after};s&&(p.extraInfo=s),i.push(p)},o=1;o<=t;o++)n(o);return i}},{key:"_getNextMonthDays",value:function(t,e){for(var a=[],i=1;i<t+1;i++)a.push({date:i,month:Number(e.month)+1,disable:!0});return a}},{key:"getInfo",value:function(t){var e=this;t||(t=new Date);var a=this.canlender.find((function(a){return a.fullDate===e.getDate(t).fullDate}));return a}},{key:"dateCompare",value:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t<=e}},{key:"dateEqual",value:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t.getTime()-e.getTime()===0}},{key:"geDateAll",value:function(t,e){var a=[],i=t.split("-"),r=e.split("-"),n=new Date;n.setFullYear(i[0],i[1]-1,i[2]);var o=new Date;o.setFullYear(r[0],r[1]-1,r[2]);for(var s=n.getTime()-864e5,c=o.getTime()-864e5,u=s;u<=c;)u+=864e5,a.push(this.getDate(new Date(parseInt(u))).fullDate);return a}},{key:"setSelectInfo",value:function(t,e){this.selected=e,this._getWeek(t)}},{key:"setMultiple",value:function(t,e,a,i,n){var o=this.multipleStatus,s=o.before,c=o.after;if(this.range){if(s&&!c&&t>s){var u=[s,t],l=this.dateCompare.apply(this,u)?this.geDateAll.apply(this,u):this.geDateAll.apply(this,(0,r.default)(u.reverse()));if(1==e&&a<l.length-i)throw new Error("选择天数不能超过"+a+n);this.multipleStatus.after=t,this.multipleStatus.data=l}else this.multipleStatus.before=t,this.multipleStatus.after="",this.multipleStatus.data=[];this._getWeek(t)}}},{key:"_getWeek",value:function(t){var e=this.getDate(t),a=(e.fullDate,e.year),i=e.month,r=(e.date,e.day,new Date(a,i-1,1).getDay()),n=new Date(a,i,0).getDate(),o={lastMonthDays:this._getLastMonthDays(r,this.getDate(t)),currentMonthDys:this._currentMonthDys(n,this.getDate(t)),nextMonthDays:[],weeks:[]},s=[],c=42-(o.lastMonthDays.length+o.currentMonthDys.length);o.nextMonthDays=this._getNextMonthDays(c,this.getDate(t));var u=o.nextMonthDays.length>=7?o.nextMonthDays.slice(0,o.nextMonthDays.length-7):o.nextMonthDays;s=s.concat(o.lastMonthDays,o.currentMonthDys,u);for(var l={},d=0;d<s.length;d++)d%7===0&&(l[parseInt(d/7)]=new Array(7)),l[parseInt(d/7)][d%7]=s[d];this.canlender=s,this.weeks=l}}]),t}(),u=c;e.default=u}}]);