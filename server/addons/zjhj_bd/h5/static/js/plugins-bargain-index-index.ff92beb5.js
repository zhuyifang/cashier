(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-bargain-index-index"],{"1ec7":function(t,e,a){var i=a("5c2f3");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("1474b396",i,!0,{sourceMap:!1,shadowMode:!1})},"39e5":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-042503b8]{text-align:center}.font-weight[data-v-042503b8]{font-weight:700}.page-width[data-v-042503b8]{width:100%}.goods-hover-class[data-v-042503b8]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-042503b8]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-042503b8]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-042503b8]{width:100%}.u-hover-class[data-v-042503b8]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-042503b8]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.u-swiper-wrap[data-v-042503b8]{position:relative;overflow:hidden;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.u-swiper-image[data-v-042503b8]{width:100%;will-change:transform;height:100%;display:block;pointer-events:none}.u-swiper-indicator[data-v-042503b8]{padding:0 %?24?%;position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;z-index:1}.u-indicator-item-rect[data-v-042503b8]{width:%?26?%;height:%?8?%;margin:0 %?6?%;-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s;background-color:rgba(0,0,0,.3)}.u-indicator-item-rect-active[data-v-042503b8]{background-color:hsla(0,0%,100%,.8)}.u-indicator-item-dot[data-v-042503b8]{width:%?14?%;height:%?14?%;margin:0 %?6?%;border-radius:%?20?%;-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s;background-color:rgba(0,0,0,.3)}.u-indicator-item-dot-active[data-v-042503b8]{background-color:hsla(0,0%,100%,.8)}.u-indicator-item-round[data-v-042503b8]{width:%?14?%;height:%?14?%;margin:0 %?6?%;border-radius:%?20?%;-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s;background-color:rgba(0,0,0,.3)}.u-indicator-item-round-active[data-v-042503b8]{width:%?34?%;background-color:hsla(0,0%,100%,.8)}.u-indicator-item-number[data-v-042503b8]{padding:%?6?% %?16?%;line-height:1;background-color:rgba(0,0,0,.3);border-radius:%?100?%;font-size:%?26?%;color:hsla(0,0%,100%,.8)}.u-list-scale[data-v-042503b8]{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center}.u-list-image-wrap[data-v-042503b8]{height:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s;overflow:hidden;-webkit-box-sizing:content-box;box-sizing:content-box;position:relative}.u-swiper-title[data-v-042503b8]{position:absolute;background-color:rgba(0,0,0,.3);bottom:0;left:0;width:100%;font-size:%?28?%;padding:%?12?% %?24?%;color:hsla(0,0%,100%,.9)}.u-swiper-item[data-v-042503b8]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}body.?%PAGE?%[data-v-042503b8]{background:#f7f7f7}",""])},"5ac6":function(t,e,a){"use strict";a.r(e);var i=a("cefe"),n=a("8011");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("67da");var r,s=a("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"63c2bbae",null,!1,i["a"],r);e["default"]=c.exports},"5c2f3":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-63c2bbae]{text-align:center}.font-weight[data-v-63c2bbae]{font-weight:700}.page-width[data-v-63c2bbae]{width:100%}.goods-hover-class[data-v-63c2bbae]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-63c2bbae]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-63c2bbae]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-63c2bbae]{width:100%}.u-hover-class[data-v-63c2bbae]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-63c2bbae]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.bargain-end[data-v-63c2bbae]{margin:%?24?%}.num[data-v-63c2bbae]{margin-top:%?12?%;height:%?32?%}.num>uni-view[data-v-63c2bbae]{color:#999;font-size:%?24?%;margin-right:%?16?%}.num .avatar[data-v-63c2bbae]{margin-left:%?-10?%;border:1px solid #fff;height:%?32?%;width:%?32?%;border-radius:50%}.num .user[data-v-63c2bbae]{margin-left:%?10?%;margin-right:%?16?%}.bargain-original[data-v-63c2bbae]{font-size:%?24?%;color:#999;line-height:1.5;text-decoration:line-through}body.?%PAGE?%[data-v-63c2bbae]{background:#f7f7f7}",""])},"67da":function(t,e,a){"use strict";var i=a("1ec7"),n=a.n(i);n.a},"7fca":function(t,e,a){var i=a("39e5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("bb2b91d4",i,!0,{sourceMap:!1,shadowMode:!1})},8011:function(t,e,a){"use strict";a.r(e);var i=a("c35b"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"8af3":function(t,e,a){"use strict";a.r(e);var i=a("ddab"),n=a("a5de");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("9e24");var r,s=a("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"042503b8",null,!1,i["a"],r);e["default"]=c.exports},"9e24":function(t,e,a){"use strict";var i=a("7fca"),n=a.n(i);n.a},a5de:function(t,e,a){"use strict";a.r(e);var i=a("caf1"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},c35b:function(t,e,a){"use strict";var i=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("bd86")),o=i(a("8af3")),r=i(a("2faf")),s=i(a("7598")),c=i(a("0c06")),d=i(a("ad05")),u=a("2f62");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={name:"index",components:{appSwiper:o.default,commonButtom:r.default,appEmptyBottom:c.default,appIphoneX:s.default,appGoods:d.default},computed:f(f({},(0,u.mapGetters)("mallConfig",{getVideo:"getVideo",getTheme:"getTheme"})),(0,u.mapState)({appImg:function(t){return t.mallConfig.__wxapp_img.mall},appSetting:function(t){return t.mallConfig.mall.setting}})),data:function(){return{list:[],args:!1,page:1,load:!1,banner_list:null,title:"砍价"}},onLoad:function(){this.$commonLoad.onload();var t=this;t.$request({url:t.$api.bargain.banner}).then((function(e){0===e.code&&(t.banner_list=e.data.list)}))},onShow:function(){var t=this;t.$showLoading(),t.$request({url:t.$api.bargain.goods_list}).then((function(e){t.$hideLoading(),0===e.code&&(t.list=e.data.list),t.args=!1,t.page=1})).catch((function(e){t.$hideLoading()}))},onReachBottom:function(){var t=this;if(!t.args&&!t.load){t.load=!0;var e=t.page+1;t.$request({url:t.$api.bargain.goods_list,data:{page:e}}).then((function(a){if(0===a.code){var i=[e,0===a.data.list.length,t.list.concat(a.data.list)];t.page=i[0],t.args=i[1],t.list=i[2]}t.load=!1}))}},methods:{handlerGoods:function(t){uni.navigateTo({url:"/plugins/bargain/goods/goods?goods_id="+t.goods_id})}}};e.default=p},caf1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("3b2b"),a("4917"),a("28a5"),a("c5f6");var i={name:"u-swiper",props:{cBorderBottom:[String,Number],cBorderTop:[String,Number],list:{type:Array,default:function(){return[]}},title:{type:Boolean,default:!1},indicator:{type:Object,default:function(){return{}}},borderRadius:{type:[Number,String],default:0},interval:{type:[String,Number],default:3e3},mode:{type:String,default:"round"},height:{type:[Number,String],default:250},indicatorPos:{type:String,default:"bottomCenter"},effect3d:{type:Boolean,default:!1},effect3dPreviousMargin:{type:[Number,String],default:-10},autoplay:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},circular:{type:Boolean,default:!0},imgMode:{type:String,default:"aspectFill"},name:{type:String,default:"image"},bgColor:{type:String,default:"#f3f4f6"}},watch:{list:{handler:function(t,e){e=e||[],t.length!==e.length&&(this.current=0);for(var a=0;a<t.length;a++)if(t[a].id=this.$utils.guid("app-swiper"),"app"===t[a].open_type){var i=uni.upx2px(this.height)+"px",n=this.getUrlParam(t[a].page_url,"username"),o=this.getUrlParam(t[a].page_url,"path"),r='<img src="'.concat(t[a].pic_url,'" width="100%" height="').concat(i,'" />');this.$utils.createWxOpenLaunchWeapp(t[a].id,n,o,r)}},immediate:!0}},data:function(){return{current:0}},mounted:function(){this.$jwx.config({})},computed:{calcBolderRadius:function(){var t=this.borderRadius,e=this.cBorderTop,a=this.cBorderBottom;return t?"".concat(t,"rpx"):"".concat(e,"rpx ").concat(e,"rpx ").concat(a,"rpx ").concat(a,"rpx")},justifyContent:function(){return"topLeft"==this.indicatorPos||"bottomLeft"==this.indicatorPos?"flex-start":"topCenter"==this.indicatorPos||"bottomCenter"==this.indicatorPos?"center":"topRight"==this.indicatorPos||"bottomRight"==this.indicatorPos?"flex-end":void 0},titlePaddingBottom:function(){var t=0;return"none"==this.mode?"12rpx":(t=["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"==this.mode?"60rpx":["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"!=this.mode?"40rpx":"12rpx",t)},isWechat:function(){return this.$jwx.isWechat()}},methods:{listClick:function(t){this.$emit("click",t)},change:function(t){var e=t.detail.current;this.current=e,this.$emit("change",e)},animationfinish:function(t){},getUrlParam:function(t,e){var a=t.split("?")[1];if(a){var i=a.substr(0).match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"));return console.log(i),null!==i?(console.log(unescape(i[2])),unescape(i[2])):null}return null}},filters:{}};e.default=i},cefe:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[a("app-swiper",{attrs:{height:280,list:t.banner_list,autoplay:!0,name:"pic_url"}}),a("v-uni-view",{staticClass:"bargain-end"},[t._l(t.list,(function(e,i){return a("app-goods",{key:e.id,attrs:{showTag:!1,index:i,theme:t.getTheme,goods:e,buyBtnText:"立即参与",c_border_top:16,c_border_bottom:16,padding:24,click:!0,show_time:!1,price_extra:"最低"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerGoods.apply(void 0,arguments)}}},[a("v-uni-view",{attrs:{slot:"name-end"},slot:"name-end"},[a("v-uni-view",{staticClass:"dir-left-nowrap num box-grow-1 cross-center"},[e&&e.user_list&&e.user_list.length>0?a("v-uni-view",{staticClass:"dir-left-nowrap user box-grow-0"},[t._l(e.user_list,(function(e,i){return i<3?[a("v-uni-image",{key:i+"_0",staticClass:"avatar",attrs:{src:e.avatar,"load-lazy":!0}})]:t._e()}))],2):t._e(),a("v-uni-view",{staticClass:"box-grow-1"},[t._v(t._s(e.sales)+"人正在砍价")])],1)],1),e?a("v-uni-view",{staticClass:"bargain-original",attrs:{slot:"price-after"},slot:"price-after"},[t._v("￥"+t._s(e.price))]):t._e()],1)})),t.load?a("app-load-text"):t._e()],2),a("v-uni-view",[a("common-buttom",{attrs:{theme:t.getTheme,status:"index"}})],1)],1)},o=[]},ddab:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-swiper-wrap",style:{borderRadius:t.effect3d?0:t.calcBolderRadius}},[a("v-uni-swiper",{style:{height:t.height+"rpx",borderRadius:t.calcBolderRadius},attrs:{interval:t.interval,circular:t.circular,duration:t.duration,autoplay:t.autoplay,"previous-margin":t.effect3d?t.effect3dPreviousMargin+"rpx":"0","next-margin":t.effect3d?t.effect3dPreviousMargin+"rpx":"0"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)},animationfinish:function(e){arguments[0]=e=t.$handleEvent(e),t.animationfinish.apply(void 0,arguments)}}},t._l(t.list,(function(e,i){return a("v-uni-swiper-item",{key:i,staticClass:"u-swiper-item"},[a("v-uni-view",{staticClass:"u-list-image-wrap",class:[t.current!=i?"u-list-scale":""],style:{borderRadius:t.effect3d?t.calcBolderRadius:0,transform:t.effect3d&&t.current!=i?"scaleY(0.7)":"scaleY(1)",margin:t.effect3d&&t.current!=i?"0 0":0},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.listClick(i)}}},["app"!==e.open_type?a("app-jump-button",{attrs:{open_type:e.open_type,url:e.url?e.url:e.page_url,params:e.params}},[a("v-uni-image",{staticClass:"u-swiper-image",attrs:{src:e[t.name],mode:t.imgMode}}),t.title?a("v-uni-view",{staticClass:"u-swiper-title u-line-1",style:{"padding-bottom":t.titlePaddingBottom}},[t._v(t._s(e.title))]):t._e()],1):t._e(),"app"===e.open_type?a("v-uni-view",{staticStyle:{height:"100%"},attrs:{id:e.id}}):t._e()],1)],1)})),1),a("v-uni-view",{staticClass:"u-swiper-indicator",style:{top:"topLeft"==t.indicatorPos||"topCenter"==t.indicatorPos||"topRight"==t.indicatorPos?"12rpx":"auto",bottom:"bottomLeft"==t.indicatorPos||"bottomCenter"==t.indicatorPos||"bottomRight"==t.indicatorPos?"12rpx":"auto",justifyContent:t.justifyContent,padding:"0 "+(t.effect3d?"74rpx":"24rpx")}},["rect"==t.mode?t._l(t.list,(function(e,i){return a("v-uni-view",{key:i,staticClass:"u-indicator-item-rect",class:{"u-indicator-item-rect-active":i==t.current}})})):t._e(),"dot"==t.mode?t._l(t.list,(function(e,i){return a("v-uni-view",{key:i,staticClass:"u-indicator-item-dot",class:{"u-indicator-item-dot-active":i==t.current}})})):t._e(),"round"==t.mode?t._l(t.list,(function(e,i){return a("v-uni-view",{key:i,staticClass:"u-indicator-item-round",class:{"u-indicator-item-round-active":i==t.current}})})):t._e(),"number"==t.mode?[a("v-uni-view",{staticClass:"u-indicator-item-number"},[t._v(t._s(t.current+1)+"/"+t._s(t.list.length))])]:t._e()],2)],1)},o=[]}}]);