(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-lottery-goods-goods"],{"05c9":function(t,e,a){"use strict";a.r(e);var i=a("a6e2"),o=a("8763");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("6c05");var r,c=a("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"5c8921cc",null,!1,i["a"],r);e["default"]=s.exports},"1a74":function(t,e,a){var i=a("2e0b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("61392d5d",i,!0,{sourceMap:!1,shadowMode:!1})},"2e0b":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-30a768d2]{text-align:center}.font-weight[data-v-30a768d2]{font-weight:700}.page-width[data-v-30a768d2]{width:100%}.goods-hover-class[data-v-30a768d2]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-30a768d2]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-30a768d2]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-30a768d2]{width:100%}.u-hover-class[data-v-30a768d2]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-30a768d2]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-quick[data-v-30a768d2]{width:%?80?%;min-height:%?80?%;position:fixed;bottom:%?210?%;right:%?50?%;z-index:1600}.app-content[data-v-30a768d2]{-webkit-transition:height 2s;-o-transition:height 2s;transition:height 2s;overflow:hidden;width:%?80?%}.app-height[data-v-30a768d2]{height:0}.app-view-navigation[data-v-30a768d2]{width:%?80?%;height:%?80?%;margin-bottom:%?24?%}.app-navigation[data-v-30a768d2]{width:%?80?%;height:%?80?%;background-size:99% 99%;background-repeat:no-repeat;border-radius:50%}.app-icon[data-v-30a768d2]{width:%?80?%;height:%?80?%;border-radius:50%;background-position:50%;background-size:cover;background-repeat:no-repeat}body.?%PAGE?%[data-v-30a768d2]{background:#f7f7f7}",""])},"33ee":function(t,e,a){"use strict";var i=a("1a74"),o=a.n(i);o.a},"3a44":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.modelStatus>0?a("v-uni-view",{staticClass:"lottery-integral-model"},[a("v-uni-view",{staticClass:"box dir-top-nowrap main-center cross-center"},[a("v-uni-image",{staticClass:"close",attrs:{src:"/static/image/icon/close.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeModel.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"header"},[a("v-uni-view",[t._v("参与此抽奖需要消耗")]),a("v-uni-view",[a("v-uni-text",{staticStyle:{color:"#ff4544"},domProps:{textContent:t._s(t.text)}}),t._v("，是否继续?")],1)],1),a("v-uni-view",{staticClass:"bg",style:{backgroundImage:"url("+t.appImg.lottery.bg+")"}}),a("v-uni-view",{staticClass:"btn main-center cross-center",style:{"background-color":t.getTheme.background},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.next.apply(void 0,arguments)}}},[t._v("继续抽奖")]),a("v-uni-view",{staticClass:"fail",style:{color:t.getTheme.color},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeModel.apply(void 0,arguments)}}},[t._v("放弃抽奖")])],1)],1):t._e()},n=[]},"3d5b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAdVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////li2ZAAAAAJnRSTlMAAwfzOWcNCe+DQerdk/fQ5uKGgHqai8pYRTQjIcC6sW5RLyoWyIoqSH0AAADUSURBVCjPdZLbsoIwDEWTtkJpuYvoQc7Ny/7/TxQnYkY7rifoaidtdkhgVzUettkFQ8qyfMVKE5hWzB/QjiGjzPUd0Gck5CPs1qw/g8dODG8Q/0n56iDbzvAHWlAT4e4HflHJwgaFfBT4zomOaPM3YUqciIbHARVMPbZMP3VIhLN7ptZmiWBfM9WWnqK6zPN8XEpGmBchTCJaeyHhEMs79kS5r6X4G1Jcr6v0GFkfqJgS06MlirYkbWKIcB/bngZlJCiNtivcEu00SLQ6DPtkGD6Ozw29NhP0Y9/SSAAAAABJRU5ErkJggg=="},"4c02":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1==t.newData.navSwitch?a("v-uni-view",{staticClass:"app-quick",style:{bottom:t.getBoolEmpty.XBoolean?"260rpx":"210rpx"}},[a("v-uni-view",{staticClass:"app-content",class:[!1===t.collapse&&1==t.newData.navStyle?"app-height":""]},[t.newData.home.opened?a("v-uni-view",{staticClass:"app-view-navigation"},[a("app-jump-button",{attrs:{form:!0,open_type:t.newData.home.open_type,url:t.newData.home.link_url}},[a("v-uni-icon",{staticClass:"app-icon",style:{backgroundImage:"url("+t.newData.home.picUrl+")"},attrs:{type:!0}})],1)],1):t._e(),t.newData.tel.opened?a("v-uni-view",{staticClass:"app-view-navigation"},[a("app-jump-button",{attrs:{form:!0,open_type:t.newData.tel.open_type,number:t.newData.tel.number}},[a("v-uni-icon",{staticClass:"app-icon",style:{backgroundImage:"url("+t.newData.tel.picUrl+")"},attrs:{type:!0}})],1)],1):t._e(),t.newData.web.opened?a("v-uni-view",{staticClass:"app-view-navigation",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.webService.apply(void 0,arguments)}}},[a("app-jump-button",[a("v-uni-icon",{staticClass:"app-icon",style:{backgroundImage:"url("+t.newData.web.picUrl+")"},attrs:{type:!0}})],1)],1):t._e(),t.newData.mApp.opened?a("v-uni-view",{staticClass:"app-view-navigation"},[a("app-jump-button",{attrs:{form:!0,open_type:t.newData.mApp.open_type,"app-id":t.newData.mApp.appId,path:t.newData.mApp.page}},[a("v-uni-icon",{staticClass:"app-icon",style:{backgroundImage:"url("+t.newData.mApp.picUrl+")"},attrs:{type:!0}})],1)],1):t._e(),t.newData.customize.opened?a("v-uni-view",{staticClass:"app-view-navigation"},["app"===t.newData.customize.open_type?a("v-uni-view",{staticStyle:{height:"inherit",width:"inherit"},attrs:{id:t.newData.customize.id}}):a("app-jump-button",{attrs:{form:!0,open_type:t.newData.customize.open_type,url:t.newData.customize.link_url,params:t.newData.customize.params}},[a("v-uni-icon",{staticClass:"app-icon",style:{backgroundImage:"url("+t.newData.customize.picUrl+")"},attrs:{type:!0}})],1)],1):t._e()],1),1==t.newData.navStyle?a("v-uni-view",{staticClass:"app-navigation",style:{backgroundImage:"url("+(t.collapse?t.newData.closedPicUrl:t.newData.openedPicUrl)+")"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.collapse=!t.collapse}}}):t._e()],1):t._e()},n=[]},"4d92":function(t,e,a){"use strict";a.r(e);var i=a("4c02"),o=a("5f48");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("33ee");var r,c=a("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"30a768d2",null,!1,i["a"],r);e["default"]=s.exports},"5be7":function(t,e,a){"use strict";a.r(e);var i=a("3a44"),o=a("9bb6");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("9800");var r,c=a("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"fa083bea",null,!1,i["a"],r);e["default"]=s.exports},"5f48":function(t,e,a){"use strict";a.r(e);var i=a("e097"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"68fb":function(t,e,a){var i=a("8e4c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("ae19cf30",i,!0,{sourceMap:!1,shadowMode:!1})},"6c05":function(t,e,a){"use strict";var i=a("ade5"),o=a.n(i);o.a},"7e70":function(t,e,a){"use strict";var i=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a481"),a("c5f6"),a("7f7f");var o=i(a("bd86")),n=a("2f62"),r=i(a("4d92")),c=i(a("cb0e")),s=i(a("12b6")),l=i(a("409e")),d=i(a("6244")),u=i(a("5be7"));function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={name:"goods",components:{appQuickNavigation:r.default,appRichText:c.default,appGoodsBanner:s.default,appShareQrCode:l.default,uMask:d.default,integralModel:u.default},computed:g(g({},(0,n.mapGetters)("mallConfig",{getTheme:"getTheme"})),(0,n.mapState)({appImg:function(t){return t.mallConfig.plugin.lottery.app_image},isUnderlinePrice:function(t){return t.mallConfig.mall.setting.is_underline_price},userInfo:function(t){return t.user.info}})),data:function(){var t,e;return{integral_time:t,integral_animation:e,animation_trans_lottery:null,rule_list:[{key:1,value:"参与\n抽奖"},{key:2,value:"等待\n开奖"},{key:3,value:"幸运\n中奖"},{key:4,value:"下单\n收礼"}],times:{},poster:this.$api.lottery.poster,user_log:null,lottery:null,goods:null,lucky_list:null,lottery_id:"",award_bg:"",showModel:0,shareShow:!1,setting:{},new_status:0,limitUrl:{},template_message:null,poster_config:this.$api.lottery.poster_config,poster_generate:this.$api.lottery.poster_generate}},onHide:function(){clearInterval(this.integral_time)},onUnload:function(){clearInterval(this.integral_time)},onLoad:function(t){this.$commonLoad.onload(t);var e=this;e.$event.on(e.$const.EVENT_USER_LOGIN).then((function(){e.start(t)})),e.start(t)},methods:{start:function(t){var e=this;this.lottery_id=t.lottery_id,this.getSetting(),this.clerk(t.user_id),this.$showLoading({title:"加载中"}),this.$request({url:this.$api.lottery.goods,data:{lottery_id:this.lottery_id}}).then((function(t){if(e.$hideLoading(),0===t.code){var a=[t.data.goods,t.data.lottery,t.data.lucky_list,t.data.user_log,t.data.new_status,t.data.template_message];e.goods=a[0],e.lottery=a[1],e.lucky_list=a[2],e.user_log=a[3],e.new_status=a[4],e.template_message=a[5],e.hShareAppMessage(),uni.setNavigationBarTitle({title:e.goods.name}),e.setTimeStart(2==e.new_status?e.lottery.start_at:e.lottery.end_at)}else uni.showToast({icon:"none",title:t.msg})})).catch((function(){e.$hideLoading()}))},hShareAppMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$shareAppMessage({title:this.goods.app_share_title?this.goods.app_share_title:this.goods.name,imageUrl:this.goods.app_share_pic?this.goods.app_share_pic:this.goods.pic_url[0].pic_url,path:"/plugins/lottery/goods/goods",desc:this.goods.subtitle,params:{lottery_id:this.lottery.id}},t)},qrcode:function(){uni.navigateTo({url:"/plugins/lottery/qrcode/qrcode"})},validateIntegral:function(){var t=Number(this.lottery.deplete_integral_num);t>0?this.showModel=this.lottery_id:this.subscribe()},prize:function(){uni.navigateTo({url:"/plugins/lottery/detail/detail?lottery_id="+this.lottery.id}),clearInterval(this.lotteryInter),this.award_bg=!1},rule:function(){uni.navigateTo({url:"/pages/rules/index?url=".concat(encodeURIComponent(this.$api.lottery.setting),"&keys=").concat(JSON.stringify(["setting","rule"]))})},catchTouchMove:function(){return!1},getSetting:function(){var t=this;t.$request({url:t.$api.lottery.setting}).then((function(e){0===e.code&&(t.setting=e.data.setting)}))},clerk:function(t){var e=this;t&&e.$request({url:e.$api.lottery.clerk,data:{user_id:t,lottery_id:e.lottery_id},method:"POST"})},setTimeStart:function(t){var e=this;clearInterval(e.integral_time);var a=function(t){var a=t.replace(/-/g,"/"),i=parseInt((new Date(a).getTime()-(new Date).getTime())/1e3),o=0,n=0,r=0,c=0;i>0&&(o=Math.floor(i/86400),n=Math.floor(i/3600)-24*o,r=Math.floor(i/60)-24*o*60-60*n,c=Math.floor(i)-24*o*60*60-60*n*60-60*r),e.times={day:o,hour:n,minute:r,second:c},e.times<=0&&clearInterval(e.integral_time)};a(t),e.integral_time=setInterval((function(){a(t)}),1e3)},subscribe:function(){if(this.showModel=0,!this.award_bg){var t=this;t.$subscribe(this.template_message).then((function(e){t.buyZero()})).catch((function(e){t.buyZero()}))}},buyZero:function(){var t=this;t.award_bg=!t.award_bg,setTimeout((function(){var e=uni.createAnimation({duration:500,timingFunction:"linear",delay:0,transformOrigin:"50% 50%"});t.award_bg?e.width("".concat(uni.upx2px(360),"px")).height("".concat(uni.upx2px(314),"px")).step():e.scale(0,0).opacity(0).step(),t.animation_trans_lottery=e.export(),setTimeout((function(){t.limitUrl={width:"".concat(uni.upx2px(360),"px"),height:"".concat(uni.upx2px(314),"px")};var a=0;t.integral_animation=setInterval((function(){a%2===0?e.scale(.9).opacity(1).step():e.scale(1).opacity(1).step(),t.animation_trans_lottery=e.export(),a++,500===a&&(a=0)}),500)}),500)}),50)},detail:function(){clearInterval(this.integral_animation),this.award_bg=!1},onImageListClick:function(t){var e=[],a=t.currentTarget.dataset.index;for(var i in this.goods.pic_url)e.push(this.goods.pic_url[i].pic_url);uni.previewImage({urls:e,current:e[a]})},buyNow:function(){uni.navigateTo({url:"/pages/goods/goods?id="+this.lottery.buy_goods_id})},shareClick:function(){this.shareShow=!0}}};e.default=v},8763:function(t,e,a){"use strict";a.r(e);var i=a("7e70"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"8e4c":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".text-center[data-v-fa083bea]{text-align:center}.font-weight[data-v-fa083bea]{font-weight:700}.page-width[data-v-fa083bea]{width:100%}.goods-hover-class[data-v-fa083bea]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-fa083bea]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-fa083bea]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-fa083bea]{width:100%}.u-hover-class[data-v-fa083bea]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-fa083bea]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.lottery-integral-model[data-v-fa083bea]{text-align:center;height:100vh;width:100vw;position:fixed;top:0;z-index:1602;background-color:rgba(0,0,0,.3)}.lottery-integral-model .box[data-v-fa083bea]{position:relative;text-align:center;margin:0 auto;width:%?534?%;background-color:#fff;border-radius:%?16?%;z-index:2;top:20%}.lottery-integral-model .box .close[data-v-fa083bea]{position:absolute;height:%?30?%;width:%?30?%;top:%?24?%;right:%?24?%}.lottery-integral-model .box .header[data-v-fa083bea]{font-size:%?32?%;color:#353535;font-weight:700;margin:%?40?% auto}.lottery-integral-model .box .bg[data-v-fa083bea]{background-size:100% 100%;background-repeat:no-repeat;height:%?263?%;width:%?355?%;display:block;margin-bottom:%?40?%}.lottery-integral-model .box .btn[data-v-fa083bea]{height:%?76?%;width:%?366?%;color:#fff;font-size:%?32?%;border-radius:%?40?%;margin-bottom:%?36?%}.lottery-integral-model .box .fail[data-v-fa083bea]{line-height:1;font-size:%?28?%;margin-bottom:%?40?%}body.?%PAGE?%[data-v-fa083bea]{background:#f7f7f7}",""])},9800:function(t,e,a){"use strict";var i=a("68fb"),o=a.n(i);o.a},"9bb6":function(t,e,a){"use strict";a.r(e);var i=a("df0f"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},a6e2:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[t.goods?[a("v-uni-view",{staticClass:"goods-head-box"},[a("app-goods-banner",{attrs:{"pic-list":t.goods.pic_url,share:t.goods.share,goods_id:t.lottery_id,sign:"lottery","video-url":t.goods.video_url}}),a("v-uni-view",{staticClass:"time main-center"},[null===t.user_log||t.user_log.status<=1?a("v-uni-view",{staticClass:"time-info dir-left-nowrap cross-center",style:{"background-color":t.getTheme.background_l}},[a("v-uni-icon",{staticClass:"icon",attrs:{type:!0}}),2==t.new_status?a("v-uni-view",[t._v("距活动开始：")]):a("v-uni-view",[t._v("距活动结束：")]),t.times.day>0||t.times.hour>0?a("v-uni-text",[t._v(t._s(t.times.day)+"天"+t._s(t.times.hour)+"小时")]):t._e(),0==t.times.day&&0==t.times.hour?a("v-uni-text",[t._v(t._s(t.times.minute)+"分"+t._s(t.times.second)+"秒")]):t._e()],1):a("v-uni-view",{staticClass:"time-info time-error dir-left-nowrap cross-center",style:{"background-color":t.getTheme.background_l}},[a("v-uni-icon",{staticClass:"icon",attrs:{type:!0}}),a("v-uni-view",[t._v("活动已结束")])],1)],1)],1),t.goods?a("v-uni-view",{staticClass:"goods"},[a("v-uni-view",{staticClass:"u-line-2 name"},[t._v(t._s(t.goods.name))]),t.goods.subtitle?a("v-uni-view",{staticClass:"goods-subtitle"},[a("v-uni-view",{staticClass:"t-omit-three"},[t._v(t._s(t.goods.subtitle))])],1):t._e(),a("v-uni-view",{staticClass:"dir-left-nowrap"},[a("v-uni-view",{staticClass:"detail box-grow-1"},[a("v-uni-view",{staticClass:"dir-left-nowrap box-grow-0"},[a("v-uni-text",[t._v("共")]),a("v-uni-text",{staticClass:"bold"},[t._v(t._s(t.lottery.stock))]),a("v-uni-text",[t._v("份")]),a("v-uni-view",{staticClass:"num"},[t._v(t._s(t.goods.num)+"人参与")])],1),a("v-uni-view",{staticClass:"price dir-left-nowrap box-grow-0"},[a("v-uni-view",{staticClass:"box-grow-0",style:{color:t.getTheme.color}},[t._v("免费")]),t.isUnderlinePrice?a("v-uni-view",{staticClass:"box-grow-0 del"},[t._v("售价￥"+t._s(t.goods.original_price))]):t._e()],1)],1),a("v-uni-view",{staticClass:"share dir-left-nowrap main-center cross-center",style:{"background-color":t.getTheme.background},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareClick.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"share-icon box-grow-0",attrs:{src:"/static/image/icon/icon-share-white.png"}}),a("v-uni-text",{staticClass:"share-text box-grow-0"},[t._v("分享")])],1),a("app-share-qr-code",{attrs:{url:t.poster+"&goods_id="+t.goods.id,"has-poster-nav":!0,"poster-config":t.poster_config+"&goods_id="+t.goods.id,"poster-generate":t.poster_generate+"&goods_id="+t.goods.id,goods:t.goods},on:{share:function(e){arguments[0]=e=t.$handleEvent(e),t.hShareAppMessage.apply(void 0,arguments)}},model:{value:t.shareShow,callback:function(e){t.shareShow=e},expression:"shareShow"}})],1)],1):t._e(),a("v-uni-view",{staticClass:"lottery-attr"},[a("v-uni-view",{staticClass:"box cross-center"},[a("v-uni-view",{staticClass:"border box-grow-0"},[t._v("商品信息")]),a("v-uni-view",{staticClass:"text dir-left-wrap t-omit"},[t._l(t.goods.attr_list,(function(e,i){return[a("v-uni-text",[t._v(t._s(e.attr_group_name)+"："+t._s(e.attr_name))])]}))],2)],1)],1),1===t.setting.cs_status&&t.setting.cs_prompt_pic?a("v-uni-view",{staticClass:"lottery-share",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.qrcode.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:t.setting.cs_prompt_pic,mode:"aspectFit","load-lazy":!0}})],1):t._e(),a("v-uni-view",{staticClass:"step cross-center dir-left-nowrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rule.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"box-grow-1"},[t._v("抽奖流程")]),a("v-uni-view",{staticClass:"cross-center"},[a("v-uni-icon",{staticClass:"icon-right box-grow-0",attrs:{type:!0}})],1)],1),a("v-uni-view",{staticClass:"step-info dir-left-nowrap"},[t._l(t.rule_list,(function(e,i){return[a("v-uni-view",{key:i+"_0",staticClass:"box-grow-1 dir-left-nowrap main-center cross-center"},[a("v-uni-view",{staticClass:"label"},[t._v(t._s(e.key))]),a("v-uni-text",{staticClass:"value"},[t._v(t._s(e.value))])],1)]}))],2),t.lucky_list?a("v-uni-view",{staticClass:"dir-top-nowrap lucky-all"},[a("v-uni-view",{staticClass:"box-grow-1"},[t._v("实时幸运码")]),a("v-uni-view",{staticClass:"box-grow-1 friend"},[t._v("邀请好友参与，额外获赠幸运码，提高中奖率哦！")]),t.lucky_list.length?a("v-uni-swiper",{staticClass:"swiper",class:[t.lucky_list.length>1?"":"swiper-one"],attrs:{"display-multiple-items":t.lucky_list.length>1?2:1,vertical:"true",autoplay:"true",interval:"2000",duration:"500",circular:"true"}},[t._l(t.lucky_list,(function(e,i){return[a("v-uni-swiper-item",{key:i+"_0",staticStyle:{height:"50%"},on:{touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.catchTouchMove.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"dir-left cross-center lucky-code"},[a("v-uni-image",{staticClass:"box-grow-0",attrs:{src:e.user.userInfo.avatar,"load-lazy":!0}}),a("v-uni-view",{staticClass:"box-grow-1 t-omit nickname"},[t._v(t._s(e.user.nickname))]),a("v-uni-view",{staticClass:"box-grow-0 font-normal"},[t._v(t._s(e.lucky_num)+"个幸运码")])],1)],1)]}))],2):t._e()],1):t._e(),a("v-uni-view",{staticClass:"goods-rule"},[t._v("商品详情")]),a("v-uni-view",{staticClass:"rule-info"},[a("app-rich-text",{attrs:{content:t.goods.detail}})],1),a("v-uni-view",{staticClass:"safe-area-inset-bottom"},[a("v-uni-view",{staticClass:"u-bottom-height"})],1),a("v-uni-view",{staticClass:"safe-area-inset-bottom u-bottom-fixed"},[a("v-uni-view",{staticClass:"bd-bottom main-center cross-center"},[a("v-uni-view",{staticClass:"bd-btn bd-bottom-first",style:{"background-color":t.getTheme.background_s,color:t.getTheme.secondary_text},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyNow.apply(void 0,arguments)}}},[t._v("直接购买")]),2==t.new_status?a("v-uni-view",{staticClass:"bd-btn  bd-btn-end bd-color"},[t._v("尚未开始")]):1==t.lottery.type?a("v-uni-view",{staticClass:"bd-btn bd-btn-end bd-color"},[t._v("已结束")]):0==t.lottery.status?a("v-uni-view",{staticClass:"bd-btn bd-btn-end bd-color"},[t._v("已关闭")]):null==t.user_log?a("v-uni-view",{staticClass:"bd-btn bd-color",style:{"background-color":t.getTheme.background,color:t.getTheme.main_text},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.validateIntegral.apply(void 0,arguments)}}},[t._v("立即抽奖")]):t.user_log.status<=1?a("v-uni-view",{staticClass:"bd-btn bd-btn-end bd-color"},[t._v("已参与")]):a("v-uni-view",{staticClass:"bd-btn bd-btn-end bd-color"},[t._v("已结束")])],1)],1),t.award_bg?a("v-uni-view",{staticClass:"animation-model main-center cross-center"},[a("u-mask",{attrs:{maskClickAble:!1,show:t.award_bg}}),a("v-uni-view",{staticClass:"main-center detaill",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.prize.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[a("v-uni-view",{staticClass:"ani_box",style:[t.limitUrl],attrs:{animation:t.animation_trans_lottery}},[a("v-uni-image",{attrs:{src:t.appImg.lottery_box}})],1)],1),a("v-uni-image",{staticClass:"boxbg",attrs:{src:t.appImg.lottery_boxbg},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}})],1):t._e(),a("app-quick-navigation")]:a("v-uni-view",{staticClass:"u-goods-detail"}),a("integral-model",{attrs:{show:t.showModel,text:t.lottery.deplete_integral_num+"积分"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.showModel=0},next:function(e){arguments[0]=e=t.$handleEvent(e),t.subscribe.apply(void 0,arguments)}}})],2)},n=[]},ade5:function(t,e,a){var i=a("e41e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("2c67b38e",i,!0,{sourceMap:!1,shadowMode:!1})},db8d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAWCAMAAADD5o0oAAAARVBMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkBVNYgAAAAFnRSTlMAgtiokR0V5s+9dmdhUklA8LW0nZx9Nlin2AAAAE9JREFUGNNlz0cOwDAIRFHXOInTy9z/qF7yJVjxJARMuGKwyqKKChT1Qasy1PVAmxZo1zyZDiXoVKqmquaAMS7gan+06+ajiPC6cC52+60f0acDStr+zywAAAAASUVORK5CYII="},df0f:function(t,e,a){"use strict";var i=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6");var o=i(a("bd86")),n=a("2f62");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var s={name:"integral-model",computed:c(c({},(0,n.mapGetters)("mallConfig",{getTheme:"getTheme"})),(0,n.mapState)({appImg:function(t){return t.mallConfig.__wxapp_img}})),props:{show:{type:Number,default:0},text:{type:String,default:"0积分"}},data:function(){return{modelStatus:0,params:null}},watch:{show:function(t){this.modelStatus=t}},methods:{next:function(){this.modelStatus=0,this.$emit("next",this.show)},closeModel:function(){this.modelStatus=0,this.$emit("close",this.modelStatus)}}};e.default=s},e097:function(t,e,a){"use strict";var i=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("28a5");var o=i(a("bd86")),n=a("2f62");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var s={name:"app-quick-navigation",props:{value:{type:Object,default:function(){return{closedPicUrl:"http://www.bangdian.net/web/uploads/mall51/20190724/3d3abd2944d5d32b9a9780fd3525bb50.jpg",customerService:{opened:!1,picUrl:"http://www.bangdian.net/web/uploads/mall51/20190724/3d3abd2944d5d32b9a9780fd3525bb50.jpg"},home:{opened:!1,picUrl:"http://www.bangdian.net/web/uploads/mall51/20190724/3d3abd2944d5d32b9a9780fd3525bb50.jpg"},mApp:{appId:"",opened:!1,page:"",picUrl:""},mapNav:{address:"南湖",latitude:"30.762457",location:"",longitude:"120.763779",opened:!1,picUrl:"http://www.bangdian.net/web/uploads/mall51/20190724/3d3abd2944d5d32b9a9780fd3525bb50.jpg"},navStyle:1,navSwitch:1,openedPicUrl:"http://www.bangdian.net/web/uploads/mall51/20190724/3d3abd2944d5d32b9a9780fd3525bb50.jpg",tel:{number:"1885813481",opened:!1,picUrl:"http://www.bangdian.net/web/uploads/mall51/20190724/3d3abd2944d5d32b9a9780fd3525bb50.jpg"},useMallConfig:!1,web:{opened:!0,picUrl:"http://www.bangdian.net/web/uploads/mall51/20190724/3d3abd2944d5d32b9a9780fd3525bb50.jpg",url:"www.baidu.com"},customize:{}}}},useMallConfig:{type:Boolean,default:function(){return!0}}},data:function(){return{collapse:!1,oldData:this.value}},computed:c(c({newData:function(){var t={};if(this.useMallConfig){var e=this.mall.setting;t={closedPicUrl:e.quick_navigation_closed_pic,openedPicUrl:e.quick_navigation_opened_pic,customerService:{opened:1==e.is_customer_services,picUrl:e.customer_services_pic,open_type:"contact"},home:{opened:1==e.is_quick_home&&this.oldData.home.opened,picUrl:e.quick_home_pic,open_type:"redirect",link_url:"/pages/index/index"},mApp:{appId:e.small_app_id,opened:1==e.is_small_app,page:e.small_app_url,picUrl:e.small_app_pic,open_type:"app"},mapNav:{opened:1==e.is_quick_map,address:e.quick_map_address,latitude:e.latitude,longitude:e.longitude,picUrl:e.quick_map_pic,open_type:"map"},tel:{opened:1==e.is_dial,number:e.contact_tel,picUrl:e.dial_pic,open_type:"tel"},web:{opened:1==e.is_web_service,url:"/pages/web/web?url="+e.web_service_url,picUrl:e.web_service_pic,open_type:"web"},customize:{opened:1==e.is_quick_customize,picUrl:e.quick_customize_pic,link_url:e.quick_customize_link_url,params:e.quick_customize_new_params,open_type:e.quick_customize_open_type},navStyle:e.quick_navigation_style,navSwitch:e.is_quick_navigation}}else for(var a in t={customerService:{open_type:"contact"},home:{open_type:"redirect",link_url:"/pages/index/index"},mApp:{open_type:"app"},mapNav:{open_type:"map"},tel:{open_type:"tel"},web:{open_type:"web"},customize:{open_type:""}},this.oldData)if("customerService"===a||"home"===a||"mApp"===a||"mapNav"===a||"tel"===a)t[a]=c(c({},t[a]),this.oldData[a]);else if("web"===a){var i="../web/web?url=".concat(this.oldData[a].url);t.web=c(c(c({},t.web),this.oldData[a]),{},{url:i})}else t[a]=this.oldData[a];if(t.customize&&(console.log(t),"app"===t.customize.open_type)){var o=function(t){return uni.upx2px(t)+"px"};t.customize.id=this.$utils.guid("app-quick-navigation");var n=this.$utils.getUrlParamApp(t.customize.link_url,"username"),r=this.$utils.getUrlParamApp(t.customize.link_url,"path"),s='<div style="width: '.concat(o(80),";height: ").concat(o(80),";border-radius: 50%;background-position: center;background-size: cover;background-repeat: no-repeat;background-image: url(").concat(t.customize.picUrl,')" type></div>');this.$utils.createWxOpenLaunchWeapp(t.customize.id,n,r,s)}return t}},(0,n.mapState)({mall:function(t){return t.mallConfig.mall},plugin:function(t){return t.mallConfig.plugin}})),(0,n.mapGetters)("iPhoneX",{getBoolEmpty:"getBoolEmpty"})),onLoad:function(){this.$jwx.config()},watch:{oldData:{handler:function(){var t=getCurrentPages(),e=null;if(t.length&&(e=t[t.length-1]),this.currentRoute="/".concat(e.route.split("?")[0]),"/pages/index/index"===this.currentRoute&&getCurrentPages().length<=1){if(1==t.length&&t[0]&&t[0].$mp&&t[0].$mp.query){t[0].$mp.query;if(t[0].$mp.query.page_id!=t[0].page_id)return void(this.oldData.home.opened=!0)}this.oldData.home.opened=!1}else this.oldData.home.opened=!0},immediate:!0}},methods:{webService:function(){var t=this;function e(t){uni.navigateTo({url:t})}"undefined"===typeof this.plugin.dianqilai?e(this.newData.web.url):this.$subscribe(this.plugin.dianqilai.template_message_captain).then((function(a){e(t.newData.web.url)})).catch((function(a){e(t.newData.web.url)}))}}};e.default=s},e41e:function(t,e,a){e=t.exports=a("24fb")(!1);var i=a("b605"),o=i(a("3d5b")),n=i(a("db8d"));e.push([t.i,'.text-center[data-v-5c8921cc]{text-align:center}.font-weight[data-v-5c8921cc]{font-weight:700}.page-width[data-v-5c8921cc]{width:100%}.goods-hover-class[data-v-5c8921cc]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-5c8921cc]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-5c8921cc]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-5c8921cc]{width:100%}.u-hover-class[data-v-5c8921cc]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-5c8921cc]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.lottery-attr[data-v-5c8921cc]{background:#fff;width:%?702?%;margin:0 %?24?% %?24?% %?24?%;border-radius:0 0 %?15?% %?15?%}.lottery-attr .box[data-v-5c8921cc]{border-top:1px solid #e2e2e2;padding:%?28?% %?20?%}.lottery-attr .border[data-v-5c8921cc]{border:1px solid #666;border-radius:%?20?%;font-size:%?24?%;line-height:1;padding:%?8?% %?16?%;color:#666}.lottery-attr .text[data-v-5c8921cc]{margin-left:%?24?%;color:#353535;font-size:%?26?%;max-width:%?520?%}.lottery-attr .text uni-text[data-v-5c8921cc]:after{content:"，"}.lottery-attr .text uni-text[data-v-5c8921cc]:last-child:after{content:""}.lottery-share[data-v-5c8921cc]{margin:%?20?% 0}.lottery-share uni-image[data-v-5c8921cc]{height:%?140?%;margin:0 auto;width:%?702?%;display:block}.t1[data-v-5c8921cc]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.25)}.goods-head-box[data-v-5c8921cc]{position:relative}.time[data-v-5c8921cc]{position:absolute;bottom:%?120?%;width:100%}.time .time-info[data-v-5c8921cc]{height:%?56?%;padding:0 %?24?%;border-radius:%?28?%;font-size:%?28?%;color:#fff}.time .time-info .icon[data-v-5c8921cc]{height:%?24?%;width:%?24?%;background-repeat:no-repeat;background-size:100% 100%;background-image:url('+o+")}.time .time-info uni-view[data-v-5c8921cc]{margin-left:%?24?%}.time .time-error[data-v-5c8921cc]{background:#000}.goods[data-v-5c8921cc]{background:#fff;padding:%?20?% %?20?% %?20?% %?20?%;width:%?702?%;margin:%?24?% %?24?% 0 %?24?%;border-radius:%?15?% %?15?% 0 0}.goods .name[data-v-5c8921cc]{color:#353535;font-size:%?32?%;line-height:%?42?%}.goods .goods-subtitle[data-v-5c8921cc]{margin-top:%?25?%;font-size:%?24?%;line-height:%?34?%;color:#999}.goods .detail[data-v-5c8921cc]{margin-top:%?24?%}.goods .detail .bold[data-v-5c8921cc]{font-weight:700;font-size:%?36?%;color:#ff4544}.goods .detail .num[data-v-5c8921cc]{margin-right:%?16?%;margin-left:%?12?%}.goods .detail .price[data-v-5c8921cc]{padding-top:%?32?%}.goods .detail .del[data-v-5c8921cc]{color:#999;margin-left:%?12?%;text-decoration:line-through}.goods .share[data-v-5c8921cc]{height:%?48?%;border-radius:%?40?% 0 0 %?40?%;padding:0 %?14?%;width:%?103?%;margin-right:%?-20?%;margin-top:%?44?%}.goods .share .share-icon[data-v-5c8921cc]{width:%?22?%;height:%?22?%}.goods .share .share-text[data-v-5c8921cc]{font-size:%?22?%;color:#fff;margin-left:%?10?%}.step[data-v-5c8921cc]{width:%?702?%;margin:%?24?% %?24?% 0 %?24?%;padding:%?20?% %?20?% 0 %?20?%;background:#fff;border-radius:%?15?% %?15?% 0 0}.step uni-view[data-v-5c8921cc]{font-size:%?32?%;color:#353535}.step .icon-right[data-v-5c8921cc]{background-repeat:no-repeat;background-size:100% 100%;height:%?22?%;width:%?12?%;margin-left:%?16?%;background-image:url("+n+")}.step-info[data-v-5c8921cc]{padding:%?40?% 0;background:#fff;width:%?702?%;margin:0 %?24?% %?24?% %?24?%;border-radius:0 0 %?15?% %?15?%}.step-info .label[data-v-5c8921cc]{font-size:%?52?%;font-weight:700;color:#ddd;margin-right:%?20?%}.step-info .value[data-v-5c8921cc]{color:#666}.code[data-v-5c8921cc]{margin-top:%?20?%}.lucky-all[data-v-5c8921cc]{width:%?702?%;overflow-y:hidden;padding:%?20?%;background:#fff;color:#353535;margin:%?24?% %?24?% 0 %?24?%;border-radius:%?15?%}.lucky-all .friend[data-v-5c8921cc]{margin-top:%?16?%;font-size:%?24?%;margin-bottom:%?24?%;color:#999}.lucky-all .swiper[data-v-5c8921cc]{height:%?184?%}.lucky-all .swiper .lucky-code[data-v-5c8921cc]{height:%?88?%;background:#fff5f5;padding:0 %?24?%;margin-bottom:%?8?%}.lucky-all .swiper .lucky-code uni-image[data-v-5c8921cc]{margin-right:%?32?%;height:%?64?%;width:%?64?%;border-radius:50%}.lucky-all .swiper .lucky-code .nickname[data-v-5c8921cc]{color:#353535}.lucky-all .swiper .lucky-code .font-normal[data-v-5c8921cc]{color:#666}.lucky-all .swiper-one[data-v-5c8921cc]{height:%?92?%}.goods-rule[data-v-5c8921cc]{border-bottom:1px solid #e2e2e2;color:#353535;background:#fff;font-size:%?32?%;line-height:%?80?%;padding-left:%?24?%;width:%?702?%;margin:%?24?% %?24?% 0 %?24?%;border-radius:%?15?% %?15?% 0 0}.rule-info[data-v-5c8921cc]{width:%?702?%;margin:0 %?24?% %?24?% %?24?%;border-radius:0 0 %?15?% %?15?%;background:#fff;padding:%?20?%}.bd-bottom[data-v-5c8921cc]{width:%?750?%;height:%?110?%;padding:%?20?% %?24?%}.bd-btn[data-v-5c8921cc]{border-radius:%?35?%;text-align:center;line-height:%?70?%;font-size:%?28?%;width:50%}.bd-bottom-first[data-v-5c8921cc]{margin-right:%?20?%}.bd-color[data-v-5c8921cc]{color:#fff}.bd-btn-end[data-v-5c8921cc]{background:#cdcdcd}.animation-model[data-v-5c8921cc]{position:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:1999}.animation-model .boxbg[data-v-5c8921cc]{height:%?840?%;width:100%;z-index:1001}.animation-model .detaill[data-v-5c8921cc]{width:100%;position:absolute;top:50% - %?157?%;z-index:1002}.animation-model .detaill .ani_box[data-v-5c8921cc]{height:0;width:0}.animation-model .detaill .ani_box uni-image[data-v-5c8921cc]{opacity:1;height:100%;width:100%;z-index:20}.animation-model .image[data-v-5c8921cc]{width:100%;height:%?840?%;position:absolute;top:%?140?%;left:0}.u-bottom-height[data-v-5c8921cc]{height:%?100?%}.u-bottom-fixed[data-v-5c8921cc]{position:fixed;bottom:0;left:0;width:100%;z-index:1602;background-color:#fff}body.?%PAGE?%[data-v-5c8921cc]{background:#f7f7f7}",""])}}]);