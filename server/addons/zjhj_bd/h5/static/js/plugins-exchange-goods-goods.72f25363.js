(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-exchange-goods-goods"],{"030e":function(t,e,o){"use strict";var i=o("2130"),a=o.n(i);a.a},1639:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={onLoad:function(){console.log("--商品混入--")},computed:{remindParams:function(){return{sell_time:this.sell_time,goods_id:this.goods?this.goods.id:0,template_message_list:this.template_message_list,buy_text:"立即购买"}},rightRemindText:function(){return this.remindParams.sell_time>300?"开售提醒我":this.remindParams.sell_time>0?"即将开售":this.remindParams.buy_text}},methods:{rightTip:function(){this.remindParams.sell_time<300?console.log("小于5分钟不进行开售提醒"):this.$goodsRemind(this.remindParams.template_message_list,this.remindParams.goods_id)}}};e.default=i},1941:function(t,e,o){var i=o("cad4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=o("4f06").default;a("9d4dfbe6",i,!0,{sourceMap:!1,shadowMode:!1})},2130:function(t,e,o){var i=o("6fec");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=o("4f06").default;a("149c49d4",i,!0,{sourceMap:!1,shadowMode:!1})},"571a":function(t,e,o){"use strict";o.r(e);var i=o("d908"),a=o("9fde");for(var s in a)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(s);o("030e");var n,r=o("f0c5"),d=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"fa28fc68",null,!1,i["a"],n);e["default"]=d.exports},"5fff":function(t,e,o){"use strict";var i=o("4ea4");o("8e6e"),o("ac6a"),o("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("96cf");var a=i(o("3b8d"));o("7f7f");var s=i(o("bd86")),n=o("2f62"),r=i(o("12b6")),d=i(o("6132")),c=i(o("f0dd")),u=i(o("0e01")),l=i(o("11b2")),g=i(o("8639")),f=i(o("4c29")),p=i(o("de37")),h=i(o("3e70")),_=i(o("9470")),m=i(o("571a")),b=i(o("1639")),v=i(o("4d92"));function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function y(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(Object(o),!0).forEach((function(e){(0,s.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var x={name:"goods",mixins:[b.default],data:function(){return{showClose:!1,is_open:!1,goods:{id:"",name:"",cover_pic:"",price:""},posterConfig:this.$api.exchange.poster_config,posterGenerate:this.$api.exchange.poster_generate,url:"",is_vip:!1,is_vip_card_user:0,show:!1,list:[],goods_id:-1,loading:!1,first:!0,discount:null,flash_sale:null,full_reduce:null,disable:"disable"}},onLoad:function(t){var e=this;this.$commonLoad.onload(t),this.goods_id=+t.goods_id,this.posterConfig=this.posterConfig+"&goods_id="+this.goods_id,this.posterGenerate=this.posterGenerate+"&goods_id="+this.goods_id,this.$showLoading({type:"global",text:"加载中..."}),this.request({url:this.$api.exchange.detail,data:{id:this.goods_id}}).then((function(t){if(t){e.first=!1;var o=t.goods;e.goods=o,e.loading=!0,e.url="".concat(e.$api.goods.poster,"&goods_id=").concat(e.goods.id),e.goods.vip_card_appoint.discount&&(e.is_vip=!0,e.discount=e.goods.vip_card_appoint.discount),e.full_reduce=o.goods_activity.full_reduce,e.flash_sale=e.goods.plugin_extra.flash_sale,e.is_vip_card_user=e.goods.vip_card_appoint.is_vip_card_user,e.hShareAppMessage(),e.$hideLoading()}}))},onShow:function(){var t=this;if(this.showClose=!1,setTimeout((function(){t.showClose=!0})),this.first)return!1;this.$showLoading(),this.$nextTick((function(){t.request({url:t.$api.exchange.detail,data:{id:t.goods_id}}).then((function(e){var o=e.goods;t.goods=o,t.loading=!0,t.full_reduce=o.goods_activity.full_reduce,t.url="".concat(t.$api.goods.poster,"&goods_id=").concat(t.goods.id),t.goods.vip_card_appoint.discount&&(t.is_vip=!0,t.discount=t.goods.vip_card_appoint.discount),t.flash_sale=t.goods.plugin_extra.flash_sale,t.is_vip_card_user=t.goods.vip_card_appoint.is_vip_card_user,t.$hideLoading()}))}))},computed:y(y(y(y({},(0,n.mapState)("gConfig",{iphone:function(t){return t.iphone},iphoneHeight:function(t){return t.iphoneHeight}})),(0,n.mapGetters)("mallConfig",{getTheme:"getTheme"})),(0,n.mapState)({buy_goods_auth_link:function(t){return t.mallConfig.mall.setting.buy_goods_auth_link},buy_goods_auth_text:function(t){return t.mallConfig.mall.setting.buy_goods_auth_text},mall:function(t){return t.mallConfig.mall},userInfo:function(t){return t.user.info},isTip:function(t){return t.mallConfig.mall.setting.is_remind_sell_time}})),{},{themeObject:function(){return{back:this.getTheme+"-m-back "+this.getTheme,backO:this.getTheme+"-m-back-o "+this.getTheme,theme:this.getTheme,color:this.getTheme+"-m-text "+this.getTheme,sBack:this.getTheme+"-s-back "+this.getTheme}},buyBtn:function(){return!this.goods||this.goods.buy_goods_auth?this.getTheme+"-m-gradient-o "+this.getTheme:this.disable+"-m-back "+this.disable},uBottomHeight:function(){return this.full_reduce&&this.goods.sell_time>0?"u-bottom-height-2":this.full_reduce||this.goods.sell_time>0?"u-bottom-height-1":"u-bottom-height-0"},leftTip:function(){var t="";return t=0==this.isTip&&this.goods.sell_time>0?"box-grow-1":"bd-btn-left bd-btn-half",this.goods&&"goods"===this.goods.type?t:""},disableBtn:function(){return this.goods.is_finish_sell||this.goods.sell_time>0?"btn-finish-sell":"bd-oversell-btn"},disableBtnText:function(){return this.goods.is_finish_sell?"商品已下架":this.goods.sell_time>0?"商品未开售":"已售罄"},remindParams:function(){return{sell_time:this.goods.sell_time,goods_id:this.goods.id,template_message_list:this.goods.template_message_list,buy_text:"立即购买"}}}),methods:{hShareAppMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$shareAppMessage({path:"/plugins/exchange/goods/goods",title:this.goods.app_share_title?this.goods.app_share_title:this.goods.name,imageUrl:this.goods.app_share_pic?this.goods.app_share_pic:this.goods.pic_url[0].pic_url,desc:this.goods.subtitle,params:{goods_id:this.goods.id}},t)},getMall:function(t){this.is_open=1==t.is_open},toExchange:function(){if(this.goods.buy_goods_auth)if(this.goods.sell_time>0)this.rightTip();else{if("undefined"!==typeof this.goods.limit_buy&&1==this.goods.limit_buy.status&&this.goods.limit_buy.rest_number<1)return this.$tips.showToast({title:this.goods.limit_buy.text,icon:"none"}),!1;var t=[];for(var e in this.goods.attr[0].attr_list)t.push({attr_id:this.goods.attr[0].attr_list[e].attr_id,attr_group_id:this.goods.attr[0].attr_list[e].attr_group_id});var o=[{mch_id:0,goods_list:[{id:this.goods.id,attr:t,num:1,cat_id:0,goods_attr_id:this.goods.attr[0].id}]}],i="/pages/order-submit/order-submit?mch_list=".concat(JSON.stringify(o));i+="&preview_url=".concat(encodeURIComponent(this.$api.exchange.order_preview),"&submit_url=").concat(encodeURIComponent(this.$api.exchange.order_submit),"&plugin=exchange"),uni.navigateTo({url:i})}else this.$tips.showToast({title:"您暂无权限购买该商品",icon:"none"})},request:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){var o,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.url,i=e.data,t.next=3,this.$request({url:o,data:i});case 3:if(a=t.sent,0!==a.code){t.next=8;break}return t.abrupt("return",a.data);case 8:uni.showModal({title:"提示",content:a.msg,showCancel:!1,success:function(t){uni.navigateBack()}});case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setCoupon:function(t){this.$set(this.goods.goods_coupon_center[t],"is_receive",1)},changeTime:function(t){this.goods.sell_time=t}},components:{"app-banner":r.default,appClose:c.default,appGoodsFullReduce:d.default,bdInfo:u.default,bdCoupon:l.default,bdXbc:g.default,bdKb:f.default,bdHc:p.default,bdDetail:h.default,bdComments:_.default,appSellTip:m.default,"app-quick-navigation":v.default}};e.default=x},"6d14":function(t,e,o){"use strict";var i=o("1941"),a=o.n(i);a.a},"6fec":function(t,e,o){e=t.exports=o("24fb")(!1),e.push([t.i,".text-center[data-v-fa28fc68]{text-align:center}.font-weight[data-v-fa28fc68]{font-weight:700}.page-width[data-v-fa28fc68]{width:100%}.goods-hover-class[data-v-fa28fc68]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-fa28fc68]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-fa28fc68]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-fa28fc68]{width:100%}.u-hover-class[data-v-fa28fc68]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-fa28fc68]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.sell-tip[data-v-fa28fc68]{width:100%;height:%?80?%;padding:0 %?32?%;background-color:#f2f2f2;border-radius:%?16?%;font-size:%?24?%}.content[data-v-fa28fc68]{font-weight:700;font-size:%?26?%}.u-time-box[data-v-fa28fc68]{margin-left:%?23?%}.u-symbol[data-v-fa28fc68]{width:%?16?%;height:%?42?%}.u-time[data-v-fa28fc68]{width:%?42?%;height:%?42?%;color:#fff;border-radius:%?8?%;background-color:#353535}body.?%PAGE?%[data-v-fa28fc68]{background:#f7f7f7}",""])},"99ad":function(t,e,o){"use strict";o.r(e);var i=o("5fff"),a=o.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},"9cab":function(t,e,o){"use strict";var i=o("4ea4");o("8e6e"),o("ac6a"),o("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(o("bd86"));o("c5f6");var s=o("2f62");function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function r(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){(0,a.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={name:"app-sell-tip",components:{},props:{time:{type:Number,default:function(){return 0}}},data:function(){return{timer:null,timeLog:0}},watch:{time:{handler:function(){var t=this,e=this.time;if(!(e<=0)){var o=parseInt(e/60/60/24),i=parseInt(e/60/60%24),a=parseInt(e/60%60),s=parseInt(e%60);this.timer={day:o,hour:i<10?"0"+i:i,min:a<10?"0"+a:a,sec:s<10?"0"+s:s},setTimeout((function(){e-=1,t.$emit("changeTime",e)}),1e3)}},immediate:!0}},computed:r(r({},(0,s.mapState)({isTip:function(t){return t.mallConfig.mall.setting.is_remind_sell_time}})),{},{content:function(){var t="即将开售";return 1==this.isTip&&(t+="，记得设置提醒"),t}})};e.default=d},"9fde":function(t,e,o){"use strict";o.r(e);var i=o("9cab"),a=o.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},a976:function(t,e,o){"use strict";o.r(e);var i=o("c0964"),a=o("99ad");for(var s in a)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(s);o("6d14");var n,r=o("f0c5"),d=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"2e2bf174",null,!1,i["a"],n);e["default"]=d.exports},c0964:function(t,e,o){"use strict";var i;o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("app-layout",[t.goods?t._e():o("v-uni-view",{staticClass:"u-goods-detail"}),t.goods?o("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"app-goods"},[o("app-banner",{attrs:{videoUrl:t.goods.video_url,share:t.goods.share,picList:t.goods.pic_url,goods_id:t.goods_id,isCart:!1,sign:"exchange"}}),o("bd-info",{attrs:{theme:t.getTheme,name:t.goods.name,"is-negotiable":t.goods.is_negotiable,subtitle:t.goods.subtitle,"level-show":t.goods.level_show,price:t.goods.price,"original-price":t.goods.original_price,"price-max":t.goods.price_max,"price-min":t.goods.price_min,"price-member-max":t.goods.price_member_max,"price-member-min":t.goods.price_member_min,discount:t.discount,"is-vip-card-user":t.is_vip_card_user,sales:t.goods.sales,unit:t.goods.unit,"is-sales":t.goods.is_sales,"is-vip":t.is_vip,"flash-sale":t.flash_sale,"goods-id":t.goods.id,"extra-quick-share":t.goods.extra_quick_share,"app-share-pic":t.goods.app_share_pic,"app-share-title":t.goods.app_share_title,"poster-config":t.posterConfig,"poster-generate":t.posterGenerate,"has-poster-nav":!0,goods:t.goods,"share-url":t.url,"has-underline-price":!1,"min-number":0,"limit-buy":t.goods.limit_buy},on:{share:function(e){arguments[0]=e=t.$handleEvent(e),t.hShareAppMessage.apply(void 0,arguments)}}}),t.goods.goods_coupon_center?o("bd-coupon",{attrs:{theme:t.getTheme,coupons:t.goods.goods_coupon_center},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.setCoupon.apply(void 0,arguments)}}}):t._e(),t.goods?o("bd-xbc",{attrs:{coAttr:!1,"guarantee-title":t.goods.guarantee_title,"guarantee-pic":t.goods.guarantee_pic,param_content:t.goods.param_content,param_name:t.goods.param_name,services:t.goods.services}}):t._e(),t.goods.goods_marketing_award?o("bd-hc",{attrs:{integral:t.goods.goods_marketing_award.integral,coupon:t.goods.goods_marketing_award.coupon,card:t.goods.goods_marketing_award.card,balance:t.goods.goods_marketing_award.balance,theme:t.getTheme}}):t._e(),t.goods_id>0?o("bd-comments",{attrs:{"goods-id":t.goods_id}}):t._e(),o("bd-detail",{attrs:{detail:t.goods.detail}}),o("v-uni-view",{staticClass:"safe-area-inset-bottom"},[o("v-uni-view",{class:[t.uBottomHeight]})],1),t.is_open?o("v-uni-view",{staticClass:"safe-area-inset-bottom u-bottom-fixed"},[t.full_reduce?o("v-uni-view",[o("app-goods-full-reduce",{attrs:{theme:t.getTheme,full_reduce:t.full_reduce}})],1):t._e(),t.goods.sell_time>0?o("v-uni-view",[o("app-sell-tip",{attrs:{time:t.goods.sell_time},on:{changeTime:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTime.apply(void 0,arguments)}}})],1):t._e(),o("app-jump-button",{attrs:{form:!0}},[o("v-uni-view",{staticClass:"buttons dir-left-nowrap"},[o("v-uni-view",{staticClass:"app-button main-center cross-center"},[t.goods.buy_goods_auth?t.goods.goods_num>0&&!t.goods.is_finish_sell?o("v-uni-view",{staticClass:"app-exhange",style:{background:!t.goods||t.goods.buy_goods_auth?t.getTheme.background_gradient_btn:"#999999"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toExchange.apply(void 0,arguments)}}},[t._v(t._s(t.rightRemindText))]):o("v-uni-view",{staticClass:"app-over",class:[t.disableBtn]},[t._v(t._s(t.disableBtnText))]):o("v-uni-view",{staticClass:"app-over",style:{background:t.getTheme.background_gradient_btn,color:t.getTheme.main_text,opacity:"0.5"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toExchange.apply(void 0,arguments)}}},[o("app-jump-button",{attrs:{open_type:t.buy_goods_auth_link.open_type,url:t.buy_goods_auth_link.new_link_url,params:t.buy_goods_auth_link.params}},[t._v(t._s(t.buy_goods_auth_text))])],1)],1)],1)],1)],1):t._e(),o("app-quick-navigation")],1):t._e(),t.showClose?o("app-close",{attrs:{modal:!1},on:{update:function(e){arguments[0]=e=t.$handleEvent(e),t.getMall.apply(void 0,arguments)}}}):t._e()],1)},s=[]},cad4:function(t,e,o){e=t.exports=o("24fb")(!1),e.push([t.i,".text-center[data-v-2e2bf174]{text-align:center}.font-weight[data-v-2e2bf174]{font-weight:700}.page-width[data-v-2e2bf174]{width:100%}.goods-hover-class[data-v-2e2bf174]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-2e2bf174]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-2e2bf174]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-2e2bf174]{width:100%}.u-hover-class[data-v-2e2bf174]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-2e2bf174]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.buttons[data-v-2e2bf174]{width:%?750?%;height:%?110?%;border-top:%?1?% solid #e2e2e2}.buttons .app-button[data-v-2e2bf174]{width:100%;height:%?110?%;text-align:center;line-height:%?110?%;background-color:#fff}.buttons .app-button .app-exhange[data-v-2e2bf174]{width:%?702?%;color:#fff;border-radius:%?41?%;height:%?82?%;line-height:%?82?%;font-size:%?28?%}.buttons .app-button .app-over[data-v-2e2bf174]{width:%?702?%;border-radius:%?41?%;height:%?82?%;line-height:%?82?%;font-size:%?28?%}.buttons .app-button .bd-oversell-btn[data-v-2e2bf174]{background:#e9e9e9;color:#999}.buttons .app-button .btn-finish-sell[data-v-2e2bf174]{background:-webkit-gradient(linear,left top,right top,from(#999),to(hsla(0,0%,60%,.7)));background:-o-linear-gradient(left,#999,hsla(0,0%,60%,.7));background:linear-gradient(90deg,#999,hsla(0,0%,60%,.7));color:#fff}.u-bottom-height-0[data-v-2e2bf174]{height:%?110?%}.u-bottom-height-1[data-v-2e2bf174]{height:%?190?%}.u-bottom-fixed[data-v-2e2bf174]{position:fixed;bottom:0;left:0;width:100%;z-index:1602;background-color:#fff}.u-bottom-height-2[data-v-2e2bf174]{height:%?270?%}body.?%PAGE?%[data-v-2e2bf174]{background:#f7f7f7}",""])},d908:function(t,e,o){"use strict";var i;o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.time>0?o("v-uni-view",{staticClass:"app-sell-tip"},[o("v-uni-view",{staticClass:"dir-left-norwap cross-center sell-tip"},[o("v-uni-view",{staticClass:"content box-grow-1"},[t._v(t._s(t.content))]),o("v-uni-view",{staticClass:"box-grow-0"},[t._v("距开始")]),t.timer?o("v-uni-view",{staticClass:"box-grow-0 dir-left-nowrap u-time-box"},[t.timer.day>0?o("v-uni-view",{staticClass:"main-center cross-center u-time"},[t._v(t._s(t.timer.day))]):t._e(),t.timer.day>0?o("v-uni-view",{staticClass:"main-center cross-center u-symbol"},[t._v(":")]):t._e(),o("v-uni-view",{staticClass:"main-center cross-center u-time"},[t._v(t._s(t.timer.hour))]),o("v-uni-view",{staticClass:"main-center cross-center u-symbol"},[t._v(":")]),o("v-uni-view",{staticClass:"main-center cross-center u-time"},[t._v(t._s(t.timer.min))]),o("v-uni-view",{staticClass:"main-center cross-center u-symbol"},[t._v(":")]),o("v-uni-view",{staticClass:"main-center cross-center u-time"},[t._v(t._s(t.timer.sec))])],1):t._e()],1)],1):t._e()},s=[]}}]);