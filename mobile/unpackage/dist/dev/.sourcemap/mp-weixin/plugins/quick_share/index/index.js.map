{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/quick_share/index/index.vue?7c15","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/quick_share/index/index.vue?1407","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/quick_share/index/index.vue?4a5a","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/quick_share/index/index.vue?a558","uni-app:///plugins/quick_share/index/index.vue","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/quick_share/index/index.vue?8f79","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/quick_share/index/index.vue?d40f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"plugins/quick_share/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './plugins/quick_share/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7bd788c6&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7bd788c6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bd788c6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/quick_share/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7bd788c6&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.list, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = _vm.allTextList.indexOf(index)\n    var g1 = item.is_all_btn ? _vm.allTextList.indexOf(index) : null\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.posterShow = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n    <app-layout>\n        <view class=\"bg\">\n\n\n        <cover-view v-if=\"friendModel\" class=\"friend-box\">\n            <cover-view class=\"info main-center cross-center dir-top-nowrap\">\n                <cover-view class=\"dir-left-nowrap cross-center\">\n                    <cover-image src=\"../../../static/image/icon/friend-v.png\" class=\"icon\"></cover-image>\n                    <cover-view class=\"text\">文本已复制到剪贴板</cover-view>\n                </cover-view>\n                <cover-view class=\"dir-left-nowrap cross-center\" style=\"margin-top: 30rpx\">\n                    <cover-image src=\"../../../static/image/icon/friend-v.png\" class=\"icon\"></cover-image>\n                    <cover-view v-if=\"is_video\" class=\"text\">视频已保存到相册</cover-view>\n                    <cover-view v-else class=\"text\">图片已保存到相册</cover-view>\n                </cover-view>\n            </cover-view>\n        </cover-view>\n        <view>\n            <text id=\"opacity-hide\" class=\"opacity-hide\">\n                第一行\n                第二行\n                第三行\n                第四行\n                第五行\n            </text>\n            <view class=\"fixed\">\n                <view class=\"share-head-margin\">\n                    <view class=\"share-head dir-left-nowrap\">\n                        <view class=\"box-grow-1 main-center cross-center\"\n                              :class=\"[`goods`, tab===`goods`? `${tab}-active`: '']\"\n                              @click=\"tabChange(`goods`)\">商品\n                        </view>\n                        <view class=\"box-grow-1 main-center cross-center\"\n                              :class=\"[`dynamic`, tab===`dynamic`? `${tab}-active`: '']\"\n                              @click=\"tabChange(`dynamic`)\">动态\n                        </view>\n                    </view>\n                </view>\n                <view class=\"share-center dir-left-nowrap\" v-if=\"tab === `goods`\">\n                    <view class=\"dir-left-nowrap cross-center value\">\n                        <view @click=\"sortChange(sort===1?2:1)\" :class=\"[sort===1 || sort===2 ? `active`: ``]\">最新商品\n                        </view>\n                        <icon v-if=\"sort === 1\" class=\"sort-plus\" type></icon>\n                        <icon v-else-if=\"sort === 2\" class=\"sort-less\" type></icon>\n                        <icon v-else class=\"sort-default\" type></icon>\n                    </view>\n                    <view class=\"dir-left-nowrap cross-center value\">\n                        <view @click=\"sortChange(sort===3?4:3)\" :class=\"[sort===3 || sort===4 ? `active`: ``]\">最新素材\n                        </view>\n                        <icon v-if=\"sort === 3\" class=\"sort-plus\" type></icon>\n                        <icon v-else-if=\"sort === 4\" class=\"sort-less\" type></icon>\n                        <icon v-else class=\"sort-default\" type></icon>\n                    </view>\n                    <view class=\"dir-left-nowrap cross-center value\">\n                        <view @click=\"sortChange(sort===5?6:5)\" :class=\"[sort===5 || sort===6 ? `active`: ``]\">销量\n                        </view>\n                        <icon v-if=\"sort === 5\" class=\"sort-plus\" type></icon>\n                        <icon v-else-if=\"sort === 6\" class=\"sort-less\" type></icon>\n                        <icon v-else class=\"sort-default\" type></icon>\n                    </view>\n                </view>\n            </view>\n            <view :class=\"tab + `-margin`\">\n                <view class=\"share-goods\" v-for=\"(item,index) in list\" :key=\"index\">\n                    <view v-if=\"item.is_top\" class=\"goods-top dir-left-nowrap\">\n                        <icon class=\"top box-grow-0\" type></icon>\n                        <view>置顶</view>\n                    </view>\n\n                    <view class=\"goods-head dir-left-nowrap\">\n                        <view class=\"dir-top-nowrap\">\n                            <view class=\"t-omit goods-name\">{{item.mall_name}}</view>\n                            <view class=\"goods-time\">{{item.format_time}}</view>\n                        </view>\n                        <view v-if=\"tab === `goods`\" @click=\"navDetail(item)\"\n                              class=\"goods-detail main-center box-grow-0 cross-center\">商品详情\n                        </view>\n                    </view>\n                    <view class=\"goods-text\">\n                        <text class=\"opacity-hide\" space=\"nbsp\" :id=\"`all_hide_text_` + index\"\n                              v-text=\"item.share_text\"></text>\n                        <text class=\"share-text\" :class=\"{'limit': allTextList.indexOf(index) === -1}\"\n                              space=\"nbsp\" v-text=\"item.share_text\"></text>\n                        <view v-if=\"item.is_all_btn\" class=\"all\" @click=\"showText(index)\">\n                            <block v-if=\"allTextList.indexOf(index) === -1\">全文</block>\n                            <block v-else>收起</block>\n                        </view>\n                    </view>\n                    <view v-if=\"item.goods_id ===0 && item.material_video_url\" class=\"goods-video\">\n                        <video :src=\"item.material_video_url\" show-mute-btn\n                               :poster=\"item.material_cover_url\"></video>\n                    </view>\n                    <view v-else class=\"goods-image dir-left-wrap\">\n                        <view v-for=\"(item1,index1) in item.share_pic\" :key=\"index1\">\n                            <image @click=\"previewImage(item.share_pic, index1)\" :src=\"item1.pic_url\" lazy-load></image>\n                        </view>\n                    </view>\n                    <view class=\"goods-set cross-center dir-left-nowrap\">\n                        <view class=\"box-grow-1 main-center\">\n                            <!--  #ifdef MP-BAIDU || MP-ALIPAY -->\n                            <view class=\"box-grow-1 main-center\"  @click=\"copyText(item)\">复制文本</view>\n                            <!--  #endif -->\n                            <!--  #ifndef MP-BAIDU || MP-ALIPAY -->\n                            <view class=\"box-grow-1 main-center\" @click=\"copyText(item)\">复制文本</view>\n                            <!--  #endif -->\n                            <!--  #ifdef MP-WEIXIN -->\n                            <view class=\"box-grow-1 main-center\" @click=\"saveImage(item)\"\n                                  v-if=\"item.goods_id ===0 && item.material_video_url\">下载视频\n                            </view>\n                            <view class=\"box-grow-1 main-center\" v-else @click=\"saveImage(item)\">保存图片</view>\n                            <!--  #endif -->\n                            <!--  #ifndef MP-WEIXIN -->\n                            <view class=\"box-grow-1 main-center\" v-if=\"item.goods_id !==0 || !item.material_video_url\" @click=\"saveImage(item)\">保存图片</view>\n                            <!--  #endif -->\n                            <!--  #ifndef MP-BAIDU -->\n                            <view class=\"box-grow-1 main-center\" @click=\"setPoster(item)\">生成海报</view>\n                            <!--  #endif -->\n                        </view>\n                        <view class=\"line\"></view>\n                        <view class=\"box-grow-0\">分享到</view>\n                        <image @click=\"batchCopy(item)\" class=\"friend box-grow-0\"></image>\n                        <view style=\"width: 50rpx\">\n                            <app-jump-button open_type=\"share\">\n                                <image @click=\"shareCard(item)\" class=\"card\"></image>\n                            </app-jump-button>\n                        </view>\n                        <!-- #ifdef MP_WEIXIN || H5 -->\n                        <image v-if=\"item.is_video_number && tab==='goods'\" @click=\"videoNumber(item)\" class=\"video-number box-grow-0\"></image>\n                        <!-- #endif -->\n                    </view>\n                </view>\n            </view>\n\n            <view class=\"box\" :class=\"{'app-show-hidden': posterShow}\">\n                <app-goods-preview-poster\n                        v-model=\"posterShow\" @close=\"posterShow = false\" :url=\"posterUrl\"\n                ></app-goods-preview-poster>\n            </view>\n\n            <!-- 视频号弹框 -->\n        <app-share-video-number :goods-id=\"currentGoods.goods_id\" :is-show=\"isShowVideoNumber\" @close=\"closeVideoNumber\"></app-share-video-number>\n        </view>\n        </view>\n    </app-layout>\n</template>\n\n<script>\n    import appGoodsPreviewPoster from '../../../components/page-component/goods/app-goods-preview-poster';\n    import appShareVideoNumber from '../../../components/page-component/app-share-video-number/app-share-video-number.vue';\n\n    export default {\n        name: \"index\",\n        components: {\n            appGoodsPreviewPoster,\n            appShareVideoNumber\n        },\n        data() {\n            return {\n                friendModel: false,\n                is_video: false,\n\n                tab: 'goods',\n                sort: 1,\n                page: 1,\n                args: false,\n                load: false,\n\n                list: [],\n                allTextList: [],\n                shareData: {},\n\n                posterShow: false,\n                posterUrl: '',\n                isShowVideoNumber: false,\n                currentGoods: {}\n            }\n        },\n\n        onReachBottom: function () {\n            const self = this;\n            if (self.args || self.load)\n                return;\n            self.load = true;\n            let page = self.page + 1;\n            self.$request({\n                url: self.$api.quick_share.goods,\n                data: {\n                    type: self.tab,\n                    sort: self.sort,\n                    page,\n                }\n            }).then(info => {\n                if (info.code === 0) {\n                    //todo\n                    info.data.list.forEach(v => {\n                        v.is_all_btn = false;\n                    });\n                    [self.page, self.args, self.list] = [page, info.data.list.length === 0, self.list.concat(info.data.list)];\n                    self.formatList();\n                }\n                self.load = false;\n            });\n        },\n\n        onLoad() { this.$commonLoad.onload();\n            this.loadData();\n        },\n        // #ifdef MP\n        onShareAppMessage(params) {\n            if (params.from === 'button') {\n                return this.$shareAppMessage(this.shareData);\n            }\n        },\n        // #endif\n        methods: {\n            navDetail(column) {\n                uni.navigateTo({url: `/pages/goods/goods?id=` + column.goods_id});\n            },\n            previewImage(list, index) {\n                const urls = list.map(item => {\n                    return item.pic_url;\n                });\n                uni.previewImage({\n                    urls: urls,\n                    current: index,\n                });\n            },\n\n            showText(index) {\n                let key = this.allTextList.indexOf(index);\n                if (key === -1) {\n                    this.allTextList.splice(-1, 0, index);\n                } else {\n                    this.allTextList.splice(key, 1);\n                }\n            },\n            sortChange(sort) {\n                [this.list, this.allTextList] = [[], []];\n                [this.page, this.args, this.sort] = [1, false, sort];\n                this.loadData();\n            },\n            tabChange(tab) {\n                [this.list, this.allTextList] = [[], []];\n                [this.page, this.args, this.tab] = [1, false, tab];\n                this.loadData();\n            },\n            loadData() {\n                const self = this;\n                self.$showLoading({text: '加载中'});\n                self.$request({\n                    url: self.$api.quick_share.goods,\n                    data: {\n                        page: 1,\n                        type: self.tab,\n                        sort: self.sort,\n                    }\n                }).then(info => {\n                    self.$hideLoading();\n                    if (info.code === 0) {\n                        info.data.list.forEach(v => {\n                            v.is_all_btn = false;\n                        })\n                        self.list = info.data.list;\n                        self.formatList();\n                    }\n                }).catch(info => {\n                    self.$hideLoading();\n                })\n            },\n\n            formatList() {\n                const self = this;\n                setTimeout(() => {\n                    let list = JSON.parse(JSON.stringify(self.list));\n                    const query = uni.createSelectorQuery().in(this);\n                    query.select('#opacity-hide').boundingClientRect(item => {\n                        list.forEach((v, k) => {\n                            let key = uni.createSelectorQuery().in(self);\n                            key.select(`#all_hide_text_` + k).boundingClientRect(item1 => {\n                                v.is_all_btn = item1.height + 1 >= item.height;\n                            }).exec();\n                        });\n                        self.list = list;\n                    }).exec();\n                })\n            },\n\n            saveImage(column, customize_success = false) {\n                let self = this;\n                self.is_video = column.goods_id === 0 && column.material_video_url;\n                const customize_a = function () {\n                    uni.showToast({title: '保存成功'});\n                };\n                const customize_b = function () {\n                    self.friendModel = true;\n                    setTimeout(() => {\n                        self.friendModel = false;\n                    }, 1500)\n                };\n\n                if (self.is_video) {\n                    const share_video = column.material_video_url;\n                    self.$utils.batchSave(share_video, 'video').then(result => {\n                        customize_success ? customize_b() : customize_a();\n                    });\n                } else {\n                    uni.showLoading({title: `图片保存中`});\n                    self.$request({\n                        url: self.$api.quick_share.poster_list,\n                        data: {\n                            id: column.id,\n                        }\n                    }).then(info => {\n                        if (info.code === 0) {\n                            let urls = column.share_pic.map(item => {\n                                return item.pic_url;\n                            })\n                            urls.splice(-1, 1, info.data.pic_url);\n                            self.$utils.batchSave(urls, 'image').then(result => {\n                                customize_success ? customize_b() : customize_a();\n                            });\n                        }\n                    }).catch(e => {\n                        uni.hideLoading();\n                    })\n                }\n            },\n\n            setPoster(column) {\n                if(this.tab === 'dynamic') {\n                    this.posterUrl = this.$api.quick_share.poster + `&id=` + column.id;\n                    this.posterShow = true;\n                } else {\n                    const posterConfig = this.$api.quick_share.poster_config + '&id=' + column.id;\n                    const posterGenerate = this.$api.quick_share.poster_generate + '&id=' + column.id;\n                    uni.navigateTo({\n                        // #ifdef MP\n                        url : `/pages/poster/goods?poster_config=${escape(posterConfig)}&poster_generate=${escape(posterGenerate)}`\n                        // #endif\n                        // #ifdef H5\n                        url : `/pages/poster/goods?poster_config=${btoa(posterConfig)}&poster_generate=${btoa(posterGenerate)}`\n                        // #endif\n                    });\n                }\n            },\n            copyText(column) {\n                this.$utils.uniCopy({\n                    data: column.share_text,\n                    success() {\n                        //#ifndef MP-WEIXIN\n                        uni.showToast({title: '复制成功'});\n                        // #endif\n                    }\n                });\n            },\n            batchCopy(column) {\n                const self = this;\n                this.copyText(column);\n                //#ifdef H5\n                if (column.goods_id === 0 && column.material_video_url) {\n                    this.$request({\n                        url: this.$api.quick_share.poster + `&id=` + column.id,\n                    }).then(response => {\n                        if (response.code === 0) {\n                            let shareImage = response.data.pic_url;\n                            self.$utils.batchSave(shareImage).then(result => {\n                                self.friendModel = true;\n                                setTimeout(() => {\n                                    self.friendModel = false;\n                                }, 1500)\n                            });\n                        } else {\n                            uni.showModal({\n                                content: response.msg,\n                                showCancel: false\n                            });\n                        }\n                    });\n                    return;\n                }\n                // #endif\n                this.saveImage(column, true);\n            },\n            shareCard(column) {\n                this.shareShow = true;\n                const title = column.app_share_title ? column.app_share_title : column.share_text;\n                let imageUrl = '';\n                if (column.share_pic[0].pic_url) {\n                    imageUrl = column.share_pic[0].pic_url;\n                }\n                if (column.app_share_pic) {\n                    imageUrl = column.app_share_pic;\n                }\n\n                this.shareData = {\n                    title: title,\n                    imageUrl: imageUrl,\n                    path: column.goods_id === 0 ? '/pages/index/index' : '/pages/goods/goods',\n                    params: column.goods_id === 0 ? {} : {id: column.goods_id},\n                }\n                // #ifdef H5\n                this.$shareAppMessage(this.shareData, true);\n                // #endif\n            },\n            closeVideoNumber() {\n                this.isShowVideoNumber = false;\n            },\n            videoNumber(goods) {\n                this.currentGoods = goods;\n                this.isShowVideoNumber = true;\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    .bg {\n        background: #FFFFFF;\n    }\n    .friend-box {\n        position: fixed;\n        top: #{563rpx};\n        width: 100%;\n        left: 0;\n        z-index: 88;\n\n        .info > cover-view:first-child {\n            margin-bottom: #{30rpx};\n        }\n\n        .info {\n            width: #{413rpx};\n            height: #{209rpx};\n            color: #ffffff;\n            font-size: #{28rpx};\n            border-radius: #{16rpx};\n            margin: 0 auto;\n            background: rgba(0, 0, 0, 0.8);\n\n            cover-view {\n                background: rgba(0, 0, 0, 0);\n            }\n\n            .text {\n                padding-left: #{13rpx};\n            }\n\n            .icon {\n                display: block;\n                height: #{28rpx};\n                width: #{28rpx};\n            }\n        }\n    }\n    .opacity-hide {\n        position: fixed;\n        top: 0;\n        z-index: -10;\n        opacity: 0;\n        word-break: break-all;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n        white-space: normal !important;\n        -webkit-line-clamp: 5;\n    }\n\n    .fixed {\n        position: fixed;\n        top: 0;\n        width: 100%;\n        z-index: 10;\n\n        .share-head-margin {\n            padding: #{23rpx} 0;\n            background: #ffffff;\n\n            .share-head {\n                text-align: center;\n                width: #{323rpx};\n                margin: 0 auto;\n                font-size: #{28rpx};\n                height: #{56rpx};\n                color: #666666;\n\n                .goods {\n                    border-top-left-radius: #{30rpx};\n                    border-bottom-left-radius: #{30rpx};\n                    border-top: 1px solid #446dfd;\n                    border-bottom: 1px solid #446dfd;\n                    border-left: 1px solid #446dfd;\n                }\n\n                .dynamic {\n                    border-top-right-radius: #{30rpx};\n                    border-bottom-right-radius: #{30rpx};\n                    border-top: 1px solid #446dfd;\n                    border-bottom: 1px solid #446dfd;\n                    border-right: 1px solid #446dfd;\n                }\n\n                .dynamic-active, .goods-active {\n                    background: #446dfd;\n                    color: #ffffff;\n                }\n            }\n        }\n\n        .share-center {\n            padding: 0 #{60rpx};\n            height: #{96rpx};\n            font-size: #{28rpx};\n            background: #FFFFFF;\n            justify-content: space-between;\n\n            .value > view {\n                margin-right: #{9rpx};\n            }\n\n            .active {\n                color: #446dfd;\n            }\n\n            icon {\n                background-repeat: no-repeat;\n                background-size: 100% 100%;\n                width: #{16upx};\n                height: #{26upx};\n            }\n\n            .sort-default {\n                background-image: url(\"../image/sort-blue-default.png\");\n            }\n\n            .sort-less {\n                background-image: url(\"../image/sort-blue-less.png\");\n            }\n\n            .sort-plus {\n                background-image: url(\"../image/sort-blue-plus.png\");\n            }\n        }\n    }\n\n    .goods-margin {\n        margin-top: #{196rpx};\n    }\n\n    .dynamic-margin {\n        margin-top: #{100rpx};\n    }\n\n    .box {\n        position: fixed;\n        z-index: 1700;\n        left: 0;\n        bottom: 0;\n        width: #{750rpx};\n        opacity: 0;\n        visibility: hidden;\n        height: 100%;\n        background-color: rgba(153, 153, 153, 0.5);\n    }\n\n    .app-show-hidden {\n        opacity: 1;\n        visibility: visible;\n    }\n\n\n    .share-goods {\n        background: #FFFFFF;\n        margin-bottom: #{15rpx};\n\n        .goods-top {\n            background: #FFFFFF;\n            padding: #{14rpx} #{24rpx};\n            font-size: #{26rpx};\n            color: #ff4544;\n\n            .top {\n                background-repeat: no-repeat;\n                background-size: 100% 100%;\n                background-image: url(\"../image/goods-top.png\");\n                height: #{32rpx};\n                width: #{28rpx};\n                display: block;\n                margin-right: #{12rpx};\n            }\n        }\n\n        .goods-head {\n            padding: #{40rpx} #{24rpx} 0 #{24rpx};\n\n            .goods-name {\n                color: #212121;\n                font-size: #{34rpx};\n                max-width: #{540rpx};\n                line-height: 1;\n            }\n\n            .goods-time {\n                margin-top: #{20rpx};\n                color: #a0a0a0;\n                font-size: #{24rpx};\n                line-height: 1;\n            }\n\n            .goods-detail {\n                color: #446dfd;\n                font-size: #{26rpx};\n                border: 1px solid #446dfd;\n                border-radius: #{6rpx};\n                height: #{50rpx};\n                width: #{135rpx};\n                margin-left: auto;\n            }\n        }\n\n        .goods-text {\n            padding: 0 #{24rpx};\n            font-size: #{32rpx};\n            color: #212121;\n            margin-top: #{40rpx};\n\n            .share-text {\n                word-break: break-all;\n                text-overflow: ellipsis;\n                display: -webkit-box;\n                -webkit-box-orient: vertical;\n                overflow: hidden;\n                white-space: normal !important;\n            }\n\n            .share-text.limit {\n                -webkit-line-clamp: 4;\n            }\n\n            .all {\n                padding-top: #{10rpx};\n                color: #5b6a91;\n            }\n        }\n\n        .goods-video {\n            padding-top: #{15rpx};\n            padding-bottom: #{30rpx};\n\n            video {\n                width: 100%;\n                height: #{422rpx};\n            }\n        }\n\n        .goods-image {\n            padding: #{10rpx} #{18rpx} #{30rpx} #{18rpx};\n\n            view {\n                height: #{226rpx};\n                width: #{226rpx};\n                margin: #{6rpx};\n            }\n\n            image {\n                height: 100%;\n                width: 100%;\n                display: block;\n            }\n        }\n\n        .goods-set {\n            color: #a0a0a0;\n            font-size: #{28rpx};\n            border-top: #{1rpx} solid #e2e2e2;\n            padding: #{15rpx} #{24rpx} #{15rpx} 0;\n\n            .margin {\n                margin: 0 auto;\n            }\n\n            .line {\n                height: #{60rpx};\n                width: #{1px};\n                margin-right: #{26rpx};\n                background: #dcdfe6;\n            }\n\n            image {\n                background-repeat: no-repeat;\n                background-size: 100% 100%;\n                height: #{50rpx};\n                width: #{50rpx};\n            }\n\n            .friend {\n                margin-right: #{15rpx};\n                margin-left: #{20rpx};\n                background-image: url(\"../image/friend.png\");\n            }\n\n            .video-number {\n                margin-left: #{20rpx};\n                background-image: url(\"../../../static/image/icon/video-number-2.png\");\n            }\n\n            .card {\n                background-image: url(\"../image/wechat.png\");\n            }\n        }\n    }\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=7bd788c6&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=7bd788c6&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658389816955\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}