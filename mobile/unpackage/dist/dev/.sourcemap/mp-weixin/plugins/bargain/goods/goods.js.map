{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/bargain/goods/goods.vue?3e77","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/bargain/goods/goods.vue?7141","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/bargain/goods/goods.vue?1977","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/bargain/goods/goods.vue?8e9c","uni-app:///plugins/bargain/goods/goods.vue","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/bargain/goods/goods.vue?3cff","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/bargain/goods/goods.vue?4283"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"plugins/bargain/goods/goods.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './plugins/bargain/goods/goods.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=2eeb055a&scoped=true&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&id=2eeb055a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2eeb055a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/bargain/goods/goods.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=2eeb055a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\n    <app-layout>\n        <view v-if=\"!bargain\" class=\"u-goods-detail\"></view>\n        <template v-if=\"bargain\">\n            <app-goods-banner :pic-list=\"bargain.pic_url\" :share=\"bargain.share\"\n                              :goods_id=\"bargain.goods_id\"\n                              sign=\"bargain\"\n                              :video-url=\"bargain.video_url\"></app-goods-banner>\n            <view v-if=\"begin_list || end_list\" class=\"main-center cross-center time-bg\">\n                <app-plugin-time-bar\n                    :theme=\"getTheme\"\n                    :day=\"begin_list ? begin_list.d : end_list.d\"\n                    :hour=\"begin_list ? begin_list.h : end_list.h\"\n                    :minute=\"begin_list ? begin_list.m : end_list.m\"\n                    :second=\"begin_list ? begin_list.s : end_list.s\"\n                    :start_begin=\"begin_list ? '距活动开始' : '距活动结束'\"\n                >\n                </app-plugin-time-bar>\n            </view>\n            <view class=\"goods\" v-if=\"bargain\">\n                <view class=\"t-omit-three name\">{{bargain.name}}</view>\n                <view v-if=\"bargain.subtitle\" class=\"goods-subtitle\">\n                    <view class=\"t-omit-three\">{{bargain.subtitle}}</view>\n                </view>\n                <view class=\"dir-left-nowrap cross-center\">\n                    <view class=\"detail box-grow-1 dir-top-nowrap\">\n                        <view class=\"box-grow-0 dir-left-nowrap cross-bottom end\">\n                            <view>最低</view>\n                            <view :style=\"{'color': getTheme.color}\">￥</view>\n                            <view class=\"price\" :style=\"{'color': getTheme.color}\">{{bargain.min_price}}</view>\n                            <view class=\"del\" v-if=\"isUnderlinePirce == 1\">原价{{bargain.price}}</view>\n                        </view>\n                        <view class=\"box-grow-0 num dir-left-nowrap\">\n                            <view>库存:{{bargain.stock}}{{bargain.unit}}</view>\n                            <view>已有{{bargain.join_num}}人参与砍价</view>\n                        </view>\n                    </view>\n                    <view @click=\"shareClick\" :style=\"{'background-color': getTheme.background}\" class=\"share dir-left-nowrap main-center cross-center box-grow-0\">\n                        <image class=\"bd-icon box-grow-0\" src=\"/static/image/icon/icon-share-white.png\"></image>\n                        <view class=\"box-grow-0\">分享</view>\n                    </view>\n                    <view>\n                        <app-share-qr-code :url=\"poster + `&goods_id=` + goods_id\"\n                                           v-model=\"shareShow\"\n                                           :has-poster-nav=\"true\"\n                                           :poster-config=\"poster_config + `&goods_id=` + goods_id\"\n                                           :poster-generate=\"poster_generate + `&goods_id=` + goods_id\"\n                                           :goods=\"bargain\"\n                                           @share=\"shareMessage\"\n                        ></app-share-qr-code>\n                    </view>\n                </view>\n\t\t\t\t<view>\n\t\t\t\t\t<bd-info-extra :theme=\"getTheme\" :goods=\"bargain\" :unit=\"bargain.unit\" :min-number=\"0\" :limit-buy=\"bargain.limit_buy\"></bd-info-extra>\n\t\t\t\t</view>\n            </view>\n            <view class=\"attr-box\">\n                <view class=\"attr dir-left-nowrap\">\n                    <view class=\"box-grow-0 left cross-center dir-top-nowrap\">\n                        <view>商品信息</view>\n                    </view>\n                    <view class=\"box-grow-1 right dir-left-wrap\">\n                        <view class=\"attr-item\" v-for=\"(item, index) in bargain.select_attr_group\" :key=\"index\">\n                            {{item.attr_group_name + ':' + item.attr_name}}\n                        </view>\n                    </view>\n                </view>\n            </view>\n            <bd-coupon @change=\"setCoupon\" :theme=\"getTheme\" :coupons=\"bargain.goods_coupon_center\"></bd-coupon>\n            <bd-xbc\n                :guarantee-title=\"bargain.guarantee_title\"\n                :guarantee-pic=\"bargain.guarantee_pic\"\n                :param_content=\"bargain.param_content\"\n                :param_name=\"bargain.param_name\"\n                :services=\"bargain.service\"\n            ></bd-xbc>\n            <bd-hc\n                :integral=\"bargain.goods_marketing_award.integral\"\n                :coupon=\"bargain.goods_marketing_award.coupon\"\n                :card=\"bargain.goods_marketing_award.card\"\n                :balance=\"bargain.goods_marketing_award.balance\"\n                :theme=\"getTheme\"\n            ></bd-hc>\n            <bd-kb\n                :limit=\"bargain.goods_marketing.limit\"\n                :express=\"bargain.express\"\n                :shipping=\"bargain.goods_marketing.shipping\"\n                :pickup=\"bargain.goods_marketing.pickup\"\n            ></bd-kb>\n            <view class=\"activity goods-margin\" v-if=\"bargain.bargain_info\">\n                <view class=\"dir-left-nowrap cross-center\">\n                    <image class=\"box-grow-0 user-img\" :src=\"userInfo.avatar\" load-lazy></image>\n                    <view class=\"dir-top-nowrap\">\n                        <view class=\"dir-left-nowrap\">\n                            <view>距本次砍价结束仅剩</view>\n                            <view class=\"yellow\">\n                                <block v-if=\"finish_list\">\n                                    {{finish_list.d}}天{{finish_list.h}}：{{finish_list.m}}：{{finish_list.s}}\n                                </block>\n                                <block v-else>0天0：0：0</block>\n                            </view>\n                        </view>\n\n                        <view v-if=\"bargain.bargain_info.now_price == bargain.bargain_info.min_price\"\n                              class=\"yellow\">已砍至最低价，赶快优惠购买吧！\n                        </view>\n                        <view class=\"yellow\" v-else>快让你的好友助你一臂之力！</view>\n                    </view>\n                </view>\n                <view class=\"main-center\">\n                    <view class=\"current\">当前价￥{{bargain.bargain_info.now_price}}</view>\n                </view>\n                <view class='progress-box'>\n                    <view class='progress-view' :style=\"{width:bargain.bargain_info.bargain_price_per+'%'}\"></view>\n                </view>\n                <view class='dir-left-nowrap price'>\n                    <view class='box-grow-1'>原价￥{{bargain.bargain_info.price}}</view>\n                    <view class='box-grow-0'>底价￥{{bargain.bargain_info.min_price}}</view>\n                </view>\n                <view class='info'>\n                    <scroll-view class=\"user-scroll\" scroll-y scroll-into-view=\"user\"\n                                 scroll-with-animation=\"true\">\n                        <block v-for=\"(v,k) in bargain.bargain_info.list\" :key=\"k\">\n                            <view class=\"item dir-left-nowrap cross-center\">\n                                <image class='box-grow-0' :src=\"v.avatar\" load-lazy></image>\n                                <view class=\"box-grow-1 dir-left-nowrap cross-center\">\n                                    <view class=\"nickname\">{{v.nickname}}</view>\n                                    <view> 小刀一挥帮忙砍了</view>\n                                    <view class=\"red\">{{v.price}}</view>\n                                    <view>元</view>\n                                </view>\n                            </view>\n                        </block>\n                    </scroll-view>\n                </view>\n            </view>\n            <view class=\"circuit-label goods-margin dir-left-nowrap cross-center\">\n                <icon class=\"icon-circuit\" type></icon>\n                <view>砍价流程</view>\n            </view>\n            <view class=\"circuit-value dir-left-nowrap main-center\">\n                <block v-for=\"(v,k) in circuit\" :key=\"k\">\n                    <view class=\"cross-center dir-top-nowrap\">\n                        <image :src=\"v.url\" :class=\"v.name ? 'icon-circuit-i' : 'icon-circuit-j'\"></image>\n                        <view class=\"box-grow-0 name\">{{v.name}}</view>\n                    </view>\n                </block>\n            </view>\n            <view class=\"circuit-label goods-margin dir-left-nowrap cross-center\">\n                <icon class=\"icon-circuit\" type></icon>\n                <view>活动说明</view>\n            </view>\n            <view class=\"activity-time\">\n                <view>本活动开始时间{{bargain.begin_time}}</view>\n                <view>本活动结束时间{{bargain.end_time}}</view>\n            </view>\n            <view class=\"circuit-label goods-margin dir-left-nowrap cross-center\">\n                <icon class=\"icon-circuit\" type></icon>\n                <view>商品详情</view>\n            </view>\n            <view class=\"bd-detail\">\n                <app-rich-text :content=\"bargain.detail\"></app-rich-text>\n            </view>\n            <!-- 底部空格 -->\n            <view class=\"safe-area-inset-bottom\">\n                <view class=\"u-bottom-height\"></view>\n            </view>\n            <!-- 底部按钮 -->\n            <view v-if=\"is_open\" class=\"safe-area-inset-bottom u-bottom-fixed\">\n                <view class=\"bargain-goods-bottom main-center cross-center\">\n                    <block v-if=\"bargain.bargain_info\">\n                        <block v-if=\"bargain.bargain_info.min_price < bargain.bargain_info.now_price\">\n                            <view @click=\"submit\" class=\"btn shop\" :style=\"{'background-color': getTheme.background_s,'color': getTheme.secondary_text}\">立即购买</view>\n                            <view @click=\"bargainFriend\" class=\"btn friend\" :class=\"getTheme.key === 'a' ? 'default-friend' : ''\"\n                                  :style=\"{'background-color': getTheme.key != 'a' ? getTheme.background : '','color': getTheme.key != 'a' ? getTheme.secondary_text : '#ffffff'}\">找人帮砍</view>\n                        </block>\n                        <view v-else @click=\"submit\" class=\"btn\" :class=\"getTheme.key === 'a' ? 'default-btn' : ''\" :style=\"{'background-color': getTheme.key != 'a' ? getTheme.background : '','color': getTheme.main_text}\">立即购买</view>\n                    </block>\n                    <block v-else>\n                        <view v-if=\"bargain.stock == 0\" class=\"btn\" style=\"background: #CDCDCD;color: #fff;\">已售罄</view>\n                        <view v-else-if=\"compareTime === 'no-start'\" class=\"btn\" style=\"background: #CDCDCD;color: #fff;\">未开始\n                        </view>\n                        <view v-else-if=\"compareTime === 'end'\" class=\"btn\" style=\"background: #CDCDCD;color: #fff;\">已结束</view>\n                        <view v-else @click=\"subscribe\" class=\"btn\" :class=\"getTheme.key === 'a' ? 'default-btn' : ''\" :style=\"{'background-color': getTheme.key != 'a' ? getTheme.background : '','color': getTheme.main_text}\">立即砍价\n                        </view>\n                    </block>\n                </view>\n            </view>\n        </template>\n        <app-close v-if=\"showClose\" :modal=\"false\" @update=\"getMall\"></app-close>\n    </app-layout>\n</template>\n\n<script>\n\nimport {mapGetters, mapState} from 'vuex';\nimport appQuickNavigation from \"../../../components/page-component/app-quick-navigation/app-quick-navigation\";\nimport appRichText from \"../../../components/basic-component/app-rich/parse.vue\";\nimport appGoodsBanner from \"../../../components/page-component/goods/app-goods-banner.vue\";\nimport appShareQrCode from '../../../components/page-component/app-share-qr-code-poster/app-share-qr-code-poster.vue';\nimport appPluginTimeBar from '../components/app-plugin-time-bar.vue';\nimport bdCoupon from '@/components/page-component/goods/bd-coupon.vue';\nimport bdXbc from '@/components/page-component/goods/bd-xbc.vue';\nimport bdKb from '@/components/page-component/goods/bd-kb.vue';\nimport bdHc from '@/components/page-component/goods/bd-hc.vue';\nimport bdComments from '@/components/page-component/goods/bd-comments.vue';\nimport appClose from '@/components/basic-component/app-close/app-close.vue';\nimport bdInfoExtra from '@/components/page-component/goods/bd-info-extra.vue';\n\nexport default {\n    name: \"goods\",\n    components: {\n        appQuickNavigation,\n        appRichText,\n        appGoodsBanner,\n        appShareQrCode,\n        appPluginTimeBar,\n        appClose,\n        bdCoupon,\n        bdXbc,\n        bdKb,\n        bdHc,\n        bdComments,\n\t\tbdInfoExtra\n    },\n    computed: {\n        ...mapState({\n            appImg: state => state.mallConfig.plugin.bargain.app_image,\n            userInfo: state => state.user.info,\n            isUnderlinePrice: state => state.mallConfig.mall.setting.is_underline_price,\n        }),\n        ...mapState('gConfig', {\n            iphone: (data) => {\n                return data.iphone;\n            },\n            iphoneHeight: (state) => {\n                return state.iphoneHeight;\n            },\n        }),\n        ...mapGetters('mallConfig', {\n            getTheme: 'getTheme',\n        }),\n        compareTime() {\n            if (this.bargain) {\n                let {begin_time, end_time} = this.bargain;\n\n                function getStamp(time = '') {\n                    if (time) {\n                        time = time.trim().substring(0, 19);\n                        time = time.replace(/-/g, '/');\n                        return new Date(time).getTime();\n                    }\n                    return new Date().getTime();\n                }\n\n                let begin_time_stamp = getStamp(begin_time)\n                let end_time_stamp = getStamp(end_time)\n                let time_stamp = getStamp();\n                if (begin_time_stamp <= time_stamp && time_stamp < end_time_stamp) {\n                    return '';\n                }\n                if (time_stamp >= end_time_stamp) {\n                    return 'end';\n                }\n                if (time_stamp < begin_time_stamp) {\n                    return 'no-start';\n                }\n            }\n            return '';\n        },\n    },\n\n    data() {\n        return {\n            showClose: false,\n            is_open: false,\n            timeIntegral: null,\n            goods_id: '',\n            bargain: null,\n            finish_list: null,\n            begin_list: null,\n            end_list: null,\n\n            shareShow: false,\n            title: '砍价',\n            page: 1,\n\n            circuit: [{\n                name: '点击砍价',\n                url: './../image/bargain-click.png',\n            }, {\n                name: '',\n                url: './../image/bargain-jiantou.png',\n            }, {\n                name: '找人砍价',\n                url: './../image/bargain-help.png',\n            }, {\n                name: '',\n                url: './../image/bargain-jiantou.png',\n            }, {\n                name: '价格合适',\n                url: './../image/bargain-price.png',\n            }, {\n                name: '',\n                url: './../image/bargain-jiantou.png',\n            }, {\n                name: '优惠购买',\n                url: './../image/bargain-buy.png'\n            }],\n            goods: {},\n            poster: this.$api.bargain.poster,\n            isUnderlinePirce: 0,\n            poster_config: this.$api.bargain.poster_config,\n            poster_generate: this.$api.bargain.poster_generate,\n        }\n        },\n    onLoad(options) { this.$commonLoad.onload(options);\n        // #ifdef MP-WEIXIN\n        wx.showShareMenu({\n            menus: ['shareAppMessage', 'shareTimeline']\n        })\n        // #endif\n        const self = this;\n        this.$store.dispatch('user/info');\n        this.goods_id = options.goods_id;\n\n        this.$showLoading();\n        this.$request({\n            url: this.$api.bargain.goods_detail,\n            data: {\n                goods_id: this.goods_id,\n            }\n        }).then(info => {\n            self.$hideLoading();\n            if (info.code === 0) {\n                self.bargain = info.data.bargain;\n                self.goods = self.bargain.goods\n                // #ifdef H5\n                this.shareMessage();\n                // #endif\n                //定时器\n                let func = function () {\n                    self.begin_list = self.setTimeStart(self.bargain.begin_time);\n                    self.end_list = self.setTimeStart(self.bargain.end_time);\n                    if (self.bargain.bargain_info) {\n                        self.finish_list = self.setTimeStart(self.bargain.bargain_info.finish_at);\n                    }\n                };\n                func();\n                self.timeIntegral = setInterval(() => {\n                    func();\n                }, 1000);\n            } else {\n                uni.showToast({icon: 'none', title: info.msg});\n                uni.navigateBack();\n            }\n        }).catch(() => {\n            self.$hideLoading();\n        });\n    },\n\n    onShow() {\n        this.showClose = false;\n        setTimeout(()=>{\n            this.showClose = true;\n        })\n    },\n    onUnload() {\n        clearInterval(this.timeIntegral);\n    },\n    // #ifdef MP\n    onShareAppMessage() {\n        return this.shareMessage();\n    },\n    // #endif\n    // #ifdef MP-WEIXIN\n    onShareTimeline() {\n        return this.$shareTimeline({\n            title: this.bargain.goods.app_share_title ? this.bargain.goods.app_share_title : this.bargain.name,\n            query: {\n                goods_id: this.bargain.goods_id\n            }\n        });\n    },\n    // #endif\n    methods: {\n        shareMessage(s = false){\n            return this.$shareAppMessage({\n                title: this.bargain.goods.app_share_title ? this.bargain.goods.app_share_title : this.bargain.name,\n                path: '/plugins/bargain/goods/goods',\n                imageUrl: this.bargain.goods.app_share_pic ? this.bargain.goods.app_share_pic : this.bargain.cover_pic,\n                desc: this.bargain.subtitle,\n                params: {\n                    goods_id: this.bargain.goods_id\n                }\n            }, s);\n        },\n        getMall(e) {\n            this.is_open = e.is_open == 1 ? true : false;\n        },\n        bargainFriend() {\n            uni.navigateTo({url: '/plugins/bargain/activity/activity?id=' + this.bargain.bargain_info.bargain_order_id});\n        },\n        setTimeStart: function (e) {\n            let time = e.replace(/-/g, '/');\n            let diff_time = parseInt((new Date(time).getTime() - new Date().getTime()) / 1000)\n            let day = 0, hour = 0, minute = 0, second = 0;\n\n            if (diff_time > 0) {\n                day = Math.floor(diff_time / (60 * 60 * 24));\n                hour = Math.floor(diff_time / (60 * 60)) - (day * 24);\n                minute = Math.floor(diff_time / 60) - (day * 24 * 60) - (hour * 60);\n                second = Math.floor(diff_time) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);\n            } else {\n                return null;\n            }\n            return {\n                d: day.toString(),\n                h: hour < 10 ? ('0' + hour) : hour.toString(),\n                m: minute < 10 ? ('0' + minute) : minute.toString(),\n                s: second < 10 ? ('0' + second) : second.toString(),\n            };\n        },\n\n        subscribe: function () {\n            const self = this;\n\t\t\tif (typeof this.bargain.limit_buy !== 'undefined' && this.bargain.limit_buy.status == 1 && this.bargain.limit_buy.rest_number < 1) {\n\t\t\t\tthis.$tips.showToast({\n\t\t\t\t\ttitle: this.bargain.limit_buy.text,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n            this.$subscribe(this.bargain.template_message).then(res => {\n                self.save();\n            }).catch(() => {\n                self.save();\n            });\n        },\n\n        save: function () {\n            const self = this;\n            self.$showLoading();\n            self.$request({\n                url: self.$api.bargain.bargain_submit,\n                data: {\n                    goods_id: self.bargain.goods_id\n                },\n            }).then(info => {\n                self.$hideLoading();\n                if (info.code == 0) {\n                    self.bargainResult(info);\n                } else {\n                    uni.showToast({icon: 'none', title: info.msg});\n                }\n            }).catch(e => {\n                self.$hideLoading();\n            });\n        },\n\n        bargainResult(data) {\n            const self = this;\n            self.$showLoading();\n            self.$request({\n                url: self.$api.bargain.bargain_result,\n                data: {\n                    queueId: data.data.queueId,\n                    token: data.data.token,\n                },\n            }).then(info => {\n                if (info.code === 0) {\n                    if (info.data.retry) {\n                        setTimeout(() => {\n                            self.bargainResult(data);\n                        }, 1000);\n                        return;\n                    }\n                    self.$hideLoading();\n                    uni.redirectTo({\n                        url: '/plugins/bargain/activity/activity?order_id=' + info.data.bargain_order_id,\n                    })\n                } else {\n                    self.$hideLoading();\n                    uni.showToast({icon: 'none', title: info.msg});\n                }\n            }).catch(e => {\n                self.$hideLoading();\n            });\n        },\n\n        submit: function () {\n            const bargain = this.bargain;\n            const mchList = [{\n                \"mch_id\": 0,\n                \"bargain_order_id\": bargain.bargain_info.bargain_order_id,\n                \"goods_list\": [{\n                    \"id\": bargain.goods_id,\n                    \"attr\": [],\n                    \"num\": 1,\n                    \"cart_id\": 0,\n                    \"goods_attr_id\": bargain.goods_attr_id\n                }]\n            }];\n            uni.navigateTo({\n                url: '/pages/order-submit/order-submit?mch_list=' +\n                    JSON.stringify(mchList) +\n                    '&preview_url=' + encodeURIComponent(this.$api.bargain.order_preview) +\n                    '&submit_url=' + encodeURIComponent(this.$api.bargain.order_submit)\n            });\n        },\n\n        shareClick() {\n            this.shareShow = true;\n        },\n\n        setCoupon(index) {\n            this.$set(this.bargain.goods_coupon_center[index], 'is_receive', 1);\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n    .time-bg {\n        width: 100%;\n        height: #{88rpx};\n        .icon-time {\n            position: relative;\n            height: 100%;\n            width: #{710rpx};\n            background-repeat: no-repeat;\n            background-size: 100% auto;\n        }\n\n        .time-desc {\n            position: absolute;\n            font-size: #{26rpx};\n            left: 0;\n            right: 0;\n            margin: 0 auto;\n            color: #353535;\n        }\n\n        .time-box {\n            height: #{42rpx};\n            color: #fff;\n            width: #{46rpx};\n            line-height: #{42rpx};\n            text-align: center;\n            background-color: #666;\n            border-radius: #{4rpx};\n            margin: 0 #{10rpx};\n        }\n    }\n\n    .activity {\n        font-size: #{28rpx};\n        color: #353535;\n        padding: #{24rpx};\n        background: #FFFFFF;\n        width: 702upx;\n        border-radius: 15upx 15upx 0 0;\n        margin: 24upx 24upx 0 24upx;\n        .user-img {\n            height: #{96rpx};\n            width: #{96rpx};\n            display: block;\n            margin-right: #{34rpx};\n        }\n\n        .yellow {\n            color: #ff8c40;\n        }\n\n        .current {\n            margin-top: #{20rpx};\n            font-size: #{38rpx};\n            color: #ff4544;\n        }\n\n        .progress-box {\n            width: 100%;\n            height: #{40rpx};\n            border-radius: #{20rpx};\n            border: #{1px} solid #ff5c5c;\n            overflow: hidden;\n            margin-top: #{28rpx};\n            margin-bottom: #{16rpx};\n        }\n\n        .progress-view {\n            width: 50%;\n            height: 100%;\n            border-radius: #{20rpx};\n            background-color: #ff9f9f;\n        }\n\n        .price {\n            font-size: #{26rpx};\n            color: #666666;\n            padding-bottom: #{20rpx};\n        }\n    }\n\n    .goods {\n        width: 702upx;\n        border-radius: 15upx 15upx 0 0;\n        margin: 24upx 24upx 0 24upx;\n        background: #FFFFFF;\n        padding: #{32rpx} #{24rpx} #{40rpx};\n        color: #999999;\n\n        .name {\n            color: #353535;\n            margin-bottom:#{32rpx};\n            font-size: #{32rpx};\n        }\n        .goods-subtitle {\n            font-size: 24rpx;\n            background-color: #ffffff;\n            color: #999999;\n            margin-bottom:#{24rpx};\n        }\n\n        .detail {\n            color: #999999;\n            font-size: #{28rpx};\n\n            .end {\n                line-height: 1;\n            }\n\n            .red {\n                color: #ff4544;\n            }\n\n            .price {\n                font-size: #{46rpx};\n            }\n\n            .del {\n                margin-left: #{16rpx};\n                text-decoration: line-through;\n            }\n\n            .num {\n                margin-top: #{32rpx};\n            }\n\n            .num view:first-child {\n                margin-right: #{32rpx};\n            }\n        }\n\n        .share {\n            margin-right: #{-24rpx};\n            height: #{48rpx};\n            border-radius: #{40rpx} 0 0 #{40rpx};\n            padding: 0 #{14rpx};\n            width: #{103rpx};\n\n            .bd-icon {\n                height: #{22rpx};\n                width: #{22rpx};\n            }\n\n            view {\n                font-size: #{22rpx};\n                color: #ffffff;\n                margin-left: #{10rpx};\n            }\n        }\n    }\n\n    .circuit-label {\n        height: #{88rpx};\n        color: #ff4544;\n        width: 702upx;\n        margin: 24upx 24upx 0 24upx;\n        font-size: #{32rpx};\n        background: #FFFFFF;\n        border-bottom: #{1px} solid #e2e2e2;\n\n        .icon-circuit {\n            height: #{34}rpx;\n            width: #{34rpx};\n            background-image: url(\"./../image/bargain-flow.png\");\n            background-repeat: no-repeat;\n            background-size: 100% auto;\n            margin: 0 #{16rpx};\n        }\n    }\n\n    .user-scroll {\n        max-height: #{264rpx};\n    }\n\n    .info {\n        width: 100%;\n        border-radius: #{16rpx};\n        background-color: #fff7f7;\n        padding: #{32rpx} #{24rpx};\n\n        .nickname {\n            max-width: #{200rpx};\n            word-break: break-all;\n            text-overflow: ellipsis;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 1;\n            overflow: hidden;\n        }\n\n        .red {\n            color: #ff4544;\n        }\n\n        image {\n            width: #{64rpx};\n            height: #{64rpx};\n            margin-right: #{24rpx};\n        }\n\n\n        .item {\n            margin-bottom: #{32rpx};\n        }\n\n        .item:last-child {\n            margin-bottom: 0;\n        }\n    }\n\n    .circuit-value {\n        padding-top: #{20rpx};\n        background: #FFFFFF;\n        padding-bottom: #{30rpx};\n        width: 702upx;\n        border-radius: 0 0 15upx 15upx;\n        margin: 0 24upx;\n        .icon-circuit-i {\n            height: #{72rpx};\n            width: #{72rpx};\n        }\n\n        .name {\n            font-size: #{24rpx};\n            color: #999999;\n            margin-top: #{20rpx};\n        }\n\n        .icon-circuit-j {\n            margin-top: #{19rpx};\n            height: #{34rpx};\n            width: #{52rpx};\n        }\n\n        > view {\n            margin: 0 #{10rpx}\n        }\n    }\n\n    .activity-time {\n        padding-bottom: #{40rpx};\n        background: #FFFFFF;\n        padding-left: #{20rpx};\n        width: 702upx;\n        border-radius: 0 0 15upx 15upx;\n        margin: 0 24upx;\n        view {\n            padding-top: #{28rpx};\n            font-size: #{28rpx};\n            color: #666666;\n        }\n\n        view:before {\n            content: '●';\n            margin-right: #{20rpx};\n        }\n    }\n\n    .bargain-goods-bottom {\n        height: #{120rpx};\n        width: 100%;\n        background: #FFFFFF;\n        .btn {\n            font-size: #{32rpx};\n            height: #{80rpx};\n            line-height: #{80rpx};\n            text-align: center;\n            width: #{702rpx};\n            border-radius: #{40rpx};\n        }\n\n        .default-btn {\n            background: linear-gradient(#ff9292, #fc6969);\n        }\n\n        .btn.shop {\n            width: #{346rpx};\n        }\n\n        .btn.friend {\n            width: #{346rpx};\n            margin-left: #{12rpx};\n        }\n        .default-friend {\n            background: linear-gradient(#ffc46b, #ffa13c);\n            color: #ffffff;\n        }\n    }\n    .attr-box {\n        width: 702upx;\n        margin: 0 24upx 0 24upx;\n        border-radius: 0 0 15upx 15upx;\n        padding: #{0 24rpx};\n        background: #ffffff;\n        .attr {\n            padding: #{28rpx 0};\n            border-top: #{1rpx solid #eeeeee};\n\n            .left {\n                color: #666666;\n                margin-right: #{24rpx};\n                font-size: $uni-font-size-weak-one;\n\n                view {\n                    border: #{1rpx solid #666666};\n                    padding: #{8rpx 16px};\n                    -webkit-border-radius: #{30rpx};\n                    -moz-border-radius: #{30rpx};\n                    border-radius: #{30rpx};\n                }\n            }\n\n            .right {\n                font-size: $uni-font-size-general-two;\n                margin-top: #{10rpx};\n\n                .attr-item {\n                    margin-right: #{10rpx};\n                }\n            }\n        }\n    }\n\n    .text {\n        color: #ffffff;\n    }\n\n    .goods-margin {\n        margin-top: 20upx;\n    }\n    .u-bottom-fixed {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        z-index: 999;\n        background-color: #ffffff;\n    }\n    .u-bottom-height {\n        height: 110upx;\n    }\n\n    .bd-detail {\n        width: 702upx;\n        background-color: #ffffff;\n        padding: 20upx 0;\n        margin: 0 24upx;\n        border-radius: 0 0 15upx 15upx;\n    }\n\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&id=2eeb055a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&id=2eeb055a&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658389808292\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}