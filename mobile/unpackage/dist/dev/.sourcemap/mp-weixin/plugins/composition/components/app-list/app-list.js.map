{"version":3,"sources":["webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/composition/components/app-list/app-list.vue?7423","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/composition/components/app-list/app-list.vue?573f","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/composition/components/app-list/app-list.vue?b252","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/composition/components/app-list/app-list.vue?34cf","uni-app:///plugins/composition/components/app-list/app-list.vue","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/composition/components/app-list/app-list.vue?e429","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/composition/components/app-list/app-list.vue?40e9"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACyN;AACzN,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAm3B,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoGv4B,gD;;;;AAIA;AACA,mBADA;AAEA;AACA;AACA,iBADA,EADA;;AAIA;AACA,kBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAJA;;AAUA;AACA,mBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAVA;;AAgBA;AACA,mBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAhBA;;AAsBA;AACA,mBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAtBA;;AA4BA,iBA5BA,EAFA;;AAgCA,MAhCA,kBAgCA;AACA;AACA,iBADA;AAEA,iBAFA;AAGA,qBAHA;AAIA,mBAJA;AAKA,0BALA;AAMA,oBANA;AAOA,mBAPA;AAQA,cARA;;AAUA,GA3CA;AA4CA;AACA;AACA,8EADA;AAEA,kFAFA,GADA,CA5CA;;;AAkDA;AACA,mBADA,EAlDA;;AAqDA;AACA;AACA,SAFA,uBAEA;AACA;AACA,KAJA;AAKA,YALA,oBAKA,EALA,EAKA;AACA;AACA,0CADA;;AAGA,KATA;AAUA,YAVA,sBAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAxBA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAxBA;AAyBA;AACA;AACA,KAjEA;AAkEA,cAlEA,sBAkEA,KAlEA,EAkEA,KAlEA,EAkEA,IAlEA,EAkEA;AACA;AACA;AACA;AACA;AACA,KAvEA;AAwEA,UAxEA,kBAwEA,KAxEA,EAwEA,IAxEA,EAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApFA;AAqFA,eArFA,uBAqFA,GArFA,EAqFA,KArFA,EAqFA,IArFA,EAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApGA;AAqGA,SArGA,mBAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,OA9BA,MA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,SAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,uCAFA;;AAIA;AACA,KAvLA,EArDA;;;AA+OA,SA/OA,qBA+OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KALA,EAKA,GALA;AAMA,GAvPA,E;;;;;;;;;;;;;ACxGA;AAAA;AAAA;AAAA;AAA8oD,CAAgB,67CAAG,EAAC,C;;;;;;;;;;;ACAlqD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/composition/components/app-list/app-list.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./app-list.vue?vue&type=template&id=7cdc5018&scoped=true&\"\nvar renderjs\nimport script from \"./app-list.vue?vue&type=script&lang=js&\"\nexport * from \"./app-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-list.vue?vue&type=style&index=0&id=7cdc5018&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cdc5018\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/composition/components/app-list/app-list.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-list.vue?vue&type=template&id=7cdc5018&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-list.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <view class=\"app-list\" :style=\"{'margin-top': `${top}rpx`}\">\n            <view class=\"app-item\" v-for=\"(item,index) in list\" :key=\"item.id\">\n                <view class=\"dir-left-nowrap cross-center app-item-title\">\n                    <view class=\"check-icon\" @click=\"choose(index,item)\">\n                        <image src=\"/static/image/icon/icon-uncheck.png\" v-if=\"!item.choose\"></image>\n                        <image :style=\"{'background-color': theme.background,'opacity': `${item.type == 1 ? '0.3' : '1'}`}\"  src=\"/static/image/icon/icon-checkbox-checked.png\" v-else></image>\n                    </view>\n                    <view :style=\"{'color': theme.color}\" class=\"item-type\">{{item.type_text}}</view>\n                    <view class=\"item-name\">{{item.name}}</view>\n                </view>\n                <view class=\"item-goods dir-left-nowrap\" v-for=\"goods in item.host_list\" :key=\"goods.id\">\n                    <view class=\"check-icon\">\n                        <image :style=\"{'background-color': theme.background,'opacity': `${goods.opacity}`}\" src=\"/static/image/icon/icon-checkbox-checked.png\"></image>\n                    </view>\n                    <image @click=\"toDetail(goods.goods_id)\" class=\"goods-img\" :src=\"goods.cover_pic\"></image>\n                    <view v-if=\"goods.stock == 0 || item.stock == 0\" class=\"out-dialog\">\n                        <image :src=\"appSetting.is_use_stock == '1' ? appImg.plugins_out : appSetting.sell_out_pic\"></image>\n                    </view>\n                    <view class=\"dir-top-nowrap goods-info\">\n                        <view class=\"item-good-name\">{{goods.name}}</view>\n                        <view class=\"item-good-num\">x1</view>\n                        <view class=\"item-good-attr\" v-if=\"!goods.choose_attr\" @click=\"chooseAttr(goods,index)\">\n                            <view class=\"item-good-attr-text t-omit-two\">未选择</view>\n                            <image class=\"item-good-attr-arrow\" src=\"/static/image/icon/bottom.png\"></image>\n                        </view>\n                        <view class=\"item-good-attr\" v-else @click=\"chooseAttr(goods,index)\">\n                            <view class=\"item-good-attr-text t-omit-two\">\n                                <text v-for=\"attr in goods.choose_attr.attr_list\" :key=\"attr.attr_id\">{{attr.attr_group_name}}:{{attr.attr_name}}</text>\n                            </view>\n                            <image class=\"item-good-attr-arrow\" src=\"/static/image/icon/bottom.png\"></image>\n                        </view>\n                        <view v-if=\"item.type == 2 && goods.choose_attr\" :style=\"{'color': theme.color}\" class=\"choose_price\">￥{{goods.total_price}}</view>\n                    </view>\n                </view>                    \n                <view class=\"item-goods dir-left-nowrap\" v-for=\"(goods,idx) in item.goods_list\" :key=\"goods.id\">\n                    <view class=\"check-icon\" v-if=\"item.type == 2\" @click=\"chooseGoods(idx,index,goods)\">\n                        <image src=\"/static/image/icon/icon-uncheck.png\" v-if=\"!goods.choose_goods\"></image>\n                        <image :style=\"{'background-color': theme.background}\" src=\"/static/image/icon/icon-checkbox-checked.png\" v-else></image>\n                    </view>\n                    <image @click=\"toDetail(goods.goods_id)\" class=\"goods-img\" :src=\"goods.cover_pic\"></image>\n                    <view v-if=\"goods.stock == 0 || item.stock == 0\" class=\"out-dialog\">\n                        <image :src=\"appSetting.is_use_stock == '1' ? appImg.plugins_out : appSetting.sell_out_pic\"></image>\n                    </view>\n                    <view class=\"dir-top-nowrap goods-info\">\n                        <view class=\"item-good-name\">{{goods.name}}</view>\n                        <view class=\"item-good-num\">x1</view>\n                        <view class=\"item-good-attr\" v-if=\"!goods.choose_attr\" @click=\"chooseAttr(goods,index)\">\n                            <view class=\"item-good-attr-text t-omit-two\">未选择</view>\n                            <image class=\"item-good-attr-arrow\" src=\"/static/image/icon/bottom.png\"></image>\n                        </view>\n                        <view class=\"item-good-attr\" v-else @click=\"chooseAttr(goods,index)\">\n                            <view class=\"item-good-attr-text t-omit-two\">\n                                <text v-for=\"(attr,idx) in goods.choose_attr.attr_list\" :key=\"attr.attr_id\">\n                                    <text v-if=\"idx > 0\">,</text>\n                                    <text>{{attr.attr_group_name}}:{{attr.attr_name}}</text>\n                                </text>\n                            </view>\n                            <image class=\"item-good-attr-arrow\" src=\"/static/image/icon/bottom.png\"></image>\n                        </view>\n                        <view v-if=\"item.type == 2 && goods.choose_attr\"  :style=\"{'color': theme.color}\" class=\"choose_price\">￥{{goods.total_price}}</view>\n                    </view>\n                </view>\n                <view class=\"app-price\">\n                    <template v-if=\"item.total_price && hidden\">\n                        <text>套餐价</text>\n                        <text :style=\"{'color': theme.color}\">￥{{item.total_price > -0.01 ? item.total_price : '0.00'}}</text>\n                    </template>\n                </view>\n            </view>\n        </view>\n        <u-attr\n            v-if=\"goods\"\n            v-model=\"attrShow\"\n            :goods=\"goods\"\n            rightText=\"确定\"\n            :is_show_left=\"cartShow\"\n            :is_choose_number=\"cartShow\"\n            :theme=\"theme\"\n            :checked=\"checked\"\n            @check=\"check\"\n            :again=\"attrShow\"\n            :right-func=\"true\"\n            @rightFunc=\"buyClick\"\n        ></u-attr>\n<!--         <app-attr v-if=\"goods\" :goodsId=\"goods.goods_id\"\n                  :goods=\"goods.detail\"\n                  :attrGroupList=\"goods.attr_groups\"\n                  :cartShow=\"cartShow\"\n                  :chooseNumber=\"cartShow\"\n                  buyText=\"确定\"\n                  :buyClick=\"buyBool\"\n                  :show=\"attrShow\"\n                  :theme=\"theme\"\n                  @buyClick=\"buyClick\"></app-attr> -->\n    </view>\n</template>\n\n<script>\n    import { mapState } from \"vuex\";\n    // import appAttr from \"../../../../components/page-component/app-attr/app-attr.vue\";\n    import uAttr from \"../../../../components/page-component/goods/u-attr.vue\";\n\n    export default {\n        name: 'app-index',\n        props: {\n            list: {\n                type: Array\n            },\n            top: {\n                type: Number,\n                default() {\n                    return 388\n                }\n            },\n            search: {\n                type: Boolean,\n                default() {\n                    return false;\n                }\n            },\n            allCount: {\n                type: Boolean,\n                default() {\n                    return false;\n                }\n            },\n            hidden: {\n                type: Boolean,\n                default() {\n                    return true;\n                }\n            },\n            theme: Object\n        },\n        data() {\n            return {\n                attrShow: 0,\n                goods: null,\n                cartShow: false,\n                buyBool: true,\n                max_discount: '0.00',\n                noAttrList: [],\n                checked: null,\n                total: 0,\n            }\n        },\n        computed: {\n            ...mapState({\n                appImg: state => state.mallConfig.__wxapp_img.mall,\n                appSetting: state => state.mallConfig.mall.setting,\n            })\n        },\n        components: {\n            'u-attr': uAttr,\n        },\n        methods: {\n            // 规格选择\n            check({item}) {\n                this.checked = item;\n            },\n            toDetail(id) {\n                uni.navigateTo({\n                    url: '/pages/goods/goods?id=' + id\n                });\n            },\n            buyClick() {\n                let that = this;\n                let selectAttr = this.checked\n                that.list[that.index].goods_list.forEach(v => {\n                    if(v.id == that.goods.id) {\n                        v.choose_attr = selectAttr;\n                        v.detail.selectAttr = selectAttr;\n                        for(let i in selectAttr.attr_list) {\n                            for(let j in v.attr_groups) {\n                                if(v.attr_groups[j].attr_group_id == selectAttr.attr_list[i].attr_group_id) {\n                                    for(let z in v.attr_groups[j].attr_list) {\n                                        v.attr_groups[j].attr_list[z].checked = false;\n                                        if(v.attr_groups[j].attr_list[z].attr_id == selectAttr.attr_list[i].attr_id && v.attr_groups[j].attr_list[z].attr_name == selectAttr.attr_list[i].attr_name) {\n                                            v.attr_groups[j].attr_list[z].checked = true;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        if(that.list[that.index].type == 2) {\n                            v.choose_goods = true;\n                            that.list[that.index].host_list[0].choose_goods = true\n                            that.list[that.index].host_list[0].opacity = 0.3\n                        }\n                        that.count();\n                        that.$forceUpdate();\n                    }\n                })\n                that.list[that.index].host_list.forEach(v => {\n                    if(v.id == that.goods.id) {\n                        for(let i in selectAttr.attr_list) {\n                            for(let j in v.attr_groups) {\n                                if(v.attr_groups[j].attr_group_id == selectAttr.attr_list[i].attr_group_id) {\n                                    for(let z in v.attr_groups[j].attr_list) {\n                                        v.attr_groups[j].attr_list[z].checked = false;\n                                        if(v.attr_groups[j].attr_list[z].attr_id == selectAttr.attr_list[i].attr_id && v.attr_groups[j].attr_list[z].attr_name == selectAttr.attr_list[i].attr_name) {\n                                            v.attr_groups[j].attr_list[z].checked = true;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        v.choose_attr = selectAttr;\n                        v.detail.selectAttr = selectAttr;\n                        v.choose_goods = true;\n                        that.count();\n                        that.$forceUpdate();\n                        if (that.search) {\n                            that.$emit('search', v, 1);\n                            return false;\n                        }\n                    }\n                })\n                that.goods = null;\n                that.checked = null;\n            },\n            chooseAttr(goods,index, type) {\n                console.log(goods)\n                this.goods = goods;\n                this.index = index;\n                this.attrShow = Math.random();\n            },\n            choose(index,item) {\n                if(this.list[index].type == 2) {\n                    this.list[index].choose = !this.list[index].choose;\n                    for(let i in this.list[index].goods_list) {\n                        this.list[index].goods_list[i].choose_goods = this.list[index].choose\n                    }\n                    this.count();\n                    this.$forceUpdate();\n                    if (this.search) {\n                        this.$emit('search', item);\n                    }\n                }\n            },\n            chooseGoods(idx,index,item) {\n                this.list[index].goods_list[idx].choose_goods = !this.list[index].goods_list[idx].choose_goods;\n                let all = true;\n                for(let i in this.list[index].goods_list) {\n                    if(!this.list[index].goods_list[i].choose_goods) {\n                        all = false;\n                    }\n                }\n                this.list[index].choose = all;\n                this.$forceUpdate();\n                this.$emit(\"updateList\",this.list);\n                this.count();\n                if (this.search) {\n                    this.$emit('search', item, 1);\n                }\n            },\n            count() {\n                let that = this;\n                that.total = 0;\n                that.noAttrList = [];\n                that.max_discount = 0;\n                let i = 0;\n                if(that.list[i].type == 1) {\n                    that.list[i].total_price = 0;\n                    let allchoose = true;\n                    for(let x in that.list[i].goods_list) {\n                        if(that.list[i].goods_list[x].choose_attr) {\n                            if(that.list[i].goods_list[x].choose_attr.price > 0) {\n                                that.list[i].total_price += +that.list[i].goods_list[x].choose_attr.price;\n                            }\n                        }else {\n                            allchoose = false;\n                        }\n                        if(that.list[i].choose && that.list[i].goods_list[x].choose_attr == null ) {\n                            that.noAttrList.push(that.list[i].goods_list[x])\n                        }\n                    }\n                    if(that.list[i].total_price < 0) {\n                        that.list[i].total_price = 0\n                    }\n                    that.list[i].total_price = (+that.list[i].total_price - +that.list[i].price);\n                    if(that.list[i].total_price < 0) {\n                        that.list[i].total_price = 0\n                    }\n                    if(that.list[i].choose) {\n                        that.list[i].total_price = that.list[i].total_price.toFixed(2)\n                    }else {\n                        delete that.list[i].total_price\n                    }\n                    if(that.list[i].choose && allchoose) {\n                        that.total += +that.list[i].total_price\n                    }\n                }else if(that.list[i].type == 2) {\n                    that.list[i].total_price = 0;\n                    if(that.list[i].host_list[0].choose_attr) {\n                        that.list[i].total_price = +that.list[i].host_list[0].choose_attr.price - +that.list[i].host_list[0].price\n                        that.list[i].host_list[0].total_price = +that.list[i].host_list[0].choose_attr.price - +that.list[i].host_list[0].price\n                        that.max_discount += +that.list[i].host_list[0].price\n                        if(that.list[i].host_list[0].total_price < 0) {\n                            that.list[i].host_list[0].total_price = 0\n                        }else {\n                            that.list[i].host_list[0].total_price = +that.list[i].host_list[0].total_price.toFixed(2);\n                        }\n                        that.total += +that.list[i].host_list[0].total_price\n                    }else {\n                        that.noAttrList.push(that.list[i].host_list[0])\n                    }\n                    for(let x in that.list[i].goods_list) {\n                        if(that.list[i].goods_list[x].choose_goods && that.list[i].goods_list[x].choose_attr) {\n                            that.list[i].goods_list[x].total_price = +that.list[i].goods_list[x].choose_attr.price - +that.list[i].goods_list[x].price\n                            that.max_discount += +that.list[i].goods_list[x].price\n                            if(that.list[i].goods_list[x].total_price < 0) {\n                                that.list[i].goods_list[x].total_price = 0\n                            }else {\n                                that.list[i].goods_list[x].total_price = +that.list[i].goods_list[x].total_price.toFixed(2);\n                            }\n                            that.total += +that.list[i].goods_list[x].total_price\n                            if(that.list[i].total_price > 0) {\n                                that.list[i].total_price += +that.list[i].goods_list[x].total_price\n                            }\n                        }\n                        if(that.list[i].goods_list[x].choose_goods && that.list[i].goods_list[x].choose_attr == null ) {\n                            that.noAttrList.push(that.list[i].goods_list[x])\n                        }\n                    }\n                    if(that.list[i].total_price < 0) {\n                        that.list[i].total_price = 0\n                    }\n                    that.list[i].total_price = +that.list[i].total_price.toFixed(2);\n                    that.max_discount = +that.max_discount.toFixed(2);\n                }\n                that.total = that.total.toFixed(2);\n                that.$emit(\"updateList\",that.list);\n                that.$emit(\"change\",{\n                    total:that.total,\n                    max_discount:that.max_discount\n                });\n                that.$emit(\"update\",that.noAttrList);\n            },\n        },\n\n        mounted() {\n            let that = this;\n            let get = setInterval(function(){\n                if(that.list.length > 0) {\n                    clearInterval(get)\n                    that.count();\n                }\n            },500)\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    .app-list {\n        .app-item {\n            background-color: #fff;\n            margin: #{10rpx} #{24rpx};\n            border-radius: #{16rpx};\n            padding: #{24rpx};\n            padding-top: 0;\n            padding-left: 0;\n            .app-price {\n                line-height: #{74rpx};\n                height: #{74rpx};\n                text-align: right;\n                color: #353535;\n                font-size: #{28rpx};\n\n                .max-discount {\n                    font-size: #{24rpx};\n                    color: #f39800;\n                    margin-left: #{16rpx};\n                }\n            }\n            .app-item-title {\n                padding-right: #{24rpx};\n                height: #{64rpx};\n                font-size: #{28rpx};\n                color: #353535;\n                font-weight: bold;\n                .check-icon {\n                    padding: #{28rpx} #{20rpx} 0 #{24rpx};\n                    width: #{72rpx};\n                    height: #{64rpx};\n                    image {\n                        height: #{32rpx};\n                        width: #{32rpx};\n                        border-radius: #{16rpx};\n                        display: block;\n                    }\n                }\n                .item-type {\n                    margin-top: #{24rpx};\n                    flex-shrink: 0;\n                    height: #{40rpx};\n                    line-height: #{38rpx};\n                    padding: 0 #{12rpx};\n                    border-radius: #{20rpx};\n                    margin-right: #{16rpx};\n                    border: #{2rpx} solid;\n                    font-weight: 400;\n                }\n                .item-name {\n                    margin-top: #{24rpx};\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                    white-space: nowrap;\n                    word-break: break-all;\n                }\n            }\n            .item-goods {\n                margin-top: #{28rpx};\n                margin-left: #{76rpx};\n                padding-bottom: #{28rpx};\n                border-bottom: #{2rpx} solid #e2e2e2;\n                position: relative;\n                .out-dialog {\n                    width: #{180rpx};\n                    height: #{180rpx};\n                    border-radius: #{16rpx};\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    z-index: 10;\n                    background-color: rgba(0,0,0,.5);\n                    image {\n                        width: #{180rpx};\n                        height: #{180rpx};\n                        border-radius: #{16rpx};\n                    }\n                }\n                .check-icon {\n                    position: absolute;\n                    left: #{-76rpx};\n                    top: 50%;\n                    margin-top: #{-52rpx};\n                    padding: #{24rpx};\n                    width: #{80rpx};\n                    height: #{80rpx};\n                    image {\n                        height: #{32rpx};\n                        width: #{32rpx};\n                        border-radius: #{16rpx};\n                        display: block;\n                    }\n                }\n                .goods-img {\n                    height: #{180rpx};\n                    width: #{180rpx};\n                    border-radius: #{8rpx};\n                    margin-right: #{24rpx};\n                    position: relative;\n                }\n                .goods-info {\n                    font-size: #{28rpx};\n                    color: #353535;\n                    position: relative;\n                    .item-good-name {\n                        width: #{336rpx};\n                        max-height: #{90rpx};\n                        line-height: #{42rpx};\n                        word-break: break-all;\n                        overflow: hidden;\n                        text-overflow: ellipsis;\n                        white-space: nowrap;\n                    }\n                    .item-good-num {\n                        position: absolute;\n                        right: 0;\n                        top: 0;\n                    }\n                    .choose_price {\n                        font-size: #{28rpx};\n                        margin-top: #{20rpx};\n                    }\n                    .item-good-attr {\n                        margin-top: #{20rpx};\n                        background-color: #f7f7f7;\n                        width: #{398rpx};\n                        display: inline-block;\n                        padding: #{8rpx} #{16rpx};\n                        border-radius: #{8rpx};\n                        position: relative;\n                        .item-good-attr-text {\n                            width: #{314rpx};\n                            line-height: #{32rpx};\n                            max-height: #{62rpx};\n                            color: #999;\n                        }\n                        .item-good-attr-arrow {\n                            position: absolute;\n                            right: #{16rpx};\n                            top: 50%;\n                            margin-top: #{-6rpx};\n                            height: #{12rpx};\n                            width: #{22rpx};\n                        }\n                    }\n                }\n            }\n            .item-goods:last-of-type {\n                border-bottom: 0\n            }\n        }\n    }\n</style>","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-list.vue?vue&type=style&index=0&id=7cdc5018&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-list.vue?vue&type=style&index=0&id=7cdc5018&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658389818214\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}