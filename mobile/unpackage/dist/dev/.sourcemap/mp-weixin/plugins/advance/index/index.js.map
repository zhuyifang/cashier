{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/advance/index/index.vue?c846","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/advance/index/index.vue?3bf6","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/advance/index/index.vue?3425","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/advance/index/index.vue?c9b1","uni-app:///plugins/advance/index/index.vue","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/advance/index/index.vue?39d8","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/advance/index/index.vue?0527"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,wG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAi2B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoBr3B,gD;;AAEA;AACA,eADA;AAEA,MAFA,kBAEA;AACA;AACA,sBADA;AAEA,sBAFA;AAGA,mBAHA;AAIA,oBAJA;AAKA,aALA;;AAOA,GAVA;AAWA,QAXA,oBAWA;AACA;AACA,GAbA;AAcA,UAdA,sBAcA;AACA;AACA,GAhBA;AAiBA,QAjBA,oBAiBA;AACA;AACA;AACA,KAFA;;AAIA;AACA,iDADA;;;AAIA,GA1BA;AA2BA;AACA,cADA,sBACA,YADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OApBA;AAqBA,KAxBA;;AA0BA,gBA1BA,0BA0BA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAhCA;;AAkCA,eAlCA,yBAkCA;AACA;AACA,kDADA;AAEA,iCAFA;AAGA;AACA,uCADA,EAHA,GADA,SACA,GADA;;;AAQA;AACA;AACA;AACA;AACA,iBAZA;AAaA,KA/CA;;AAiDA,iBAjDA,2BAiDA;AACA;AACA,iDADA;AAEA,+BAFA;AAGA,oBAHA,CAGA;AACA;AACA;AACA;AACA,iBAPA,EADA;AASA,KA1DA,EA3BA;;;AAwFA;AACA,+BADA;AAEA,6BAFA;AAGA,oCAHA,EAxFA;;;AA8FA,mBA9FA,+BA8FA;AACA;AACA,0CADA;AAEA,iDAFA;;AAIA,GAnGA;;;AAsGA,iBAtGA,6BAsGA;AACA;AACA;AACA,iDADA;AAEA;AACA;AAHA;AAKA,GA7GA;;AA+GA;AACA;AACA,wBADA,GADA,CA/GA;;;AAoHA,eApHA,2BAoHA;AACA;AACA;AACA;AACA;AACA,GAzHA,E;;;;;;;;;;;;ACtBA;AAAA;AAAA;AAAA;AAAgnD,CAAgB,07CAAG,EAAC,C;;;;;;;;;;;ACApoD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/advance/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './plugins/advance/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=1435cc8a&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1435cc8a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1435cc8a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/advance/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=1435cc8a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<app-layout>\n\t\t<view class=\"index\">\n\t\t\t<view class=\"search-input\">\n\t\t\t\t<search-input :theme=\"getTheme\"></search-input>\n\t\t\t</view>\n\t\t\t<view class=\"index-swipe\" v-if=\"picture_list.length > 0\">\n\t\t\t\t<index-swipe :pictures=\"picture_list\"></index-swipe>\n\t\t\t</view>\n\t\t\t<view class=\"index-product-list\">\n\t\t\t\t<product-list  :theme=\"getTheme\" :product=\"product_list\" ></product-list>\n\t\t\t</view>\n\t\t</view>\n\t</app-layout>\n</template>\n\n<script>\n\timport searchInput from '../components/search-input.vue';\n\timport indexSwipe from '../components/index-swipe.vue';\n\timport indexProductList from '../components/index-product-list.vue';\n\timport {mapGetters} from \"vuex\";\n\n    export default {\n        name: 'index',\n\t    data() {\n            return {\n                product_list: [],\n                picture_list: [],\n                page_count: 1,\n                interval: null,\n\t            page: 1,\n            }\n\t    },\n\t    onHide() {\n            clearInterval(this.interval);\n\t    },\n        onUnload() {\n            clearInterval(this.interval);\n        },\n\t    onLoad() { this.$commonLoad.onload();\n            this.requestBanner().then(() => {\n                this.requestList();\n            });\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\twx.showShareMenu({\n\t\t\t\tmenus: ['shareAppMessage', 'shareTimeline']\n\t\t\t})\n\t\t\t// #endif\n\t    },\n\t    methods: {\n            cutoffTime(product_list) {\n                let now = (new Date()).getTime();\n                product_list.map((item, index) => {\n                    let end_time = new Date(item.advanceGoods.end_prepayment_at.replace(/-/g, '/')).getTime();\n                    let timing = end_time - now;\n                    if (timing > 0) {\n                        let day = parseInt(timing/1000/60/60/24);\n                        let hou = parseInt((timing/1000/60/60)%24);\n                        let min = parseInt((timing/1000/60)%60);\n                        let sec = parseInt((timing/1000)%60);\n                        if (day > 0) {\n                            this.$set(product_list[index], 'html', `${day}天${hou}:${(min<10?\"0\"+min:min)}:${(sec<10?\"0\"+sec:sec)}`);\n                        } else {\n                            this.$set(product_list[index], 'html', `${hou}:${(min<10?\"0\"+min:min)}:${(sec<10?\"0\"+sec:sec)}`);\n                        }\n                    } else {\n                        this.$delete(product_list, index);\n                        if (this.product_list.length < 10 && this.page_count > 1) {\n                            this.product_list = [];\n                            this.requestList();\n                        }\n                    }\n                })\n            },\n\n            set_interval() {\n                clearInterval(this.interval);\n                this.cutoffTime(this.product_list);\n                this.interval = setInterval(() => {\n                    this.cutoffTime(this.product_list);\n                }, 1000);\n            },\n\n\t\t    async requestList() {\n                const res = await this.$request({\n                    url: this.$api.advance.goods,\n                    method: 'get',\n                    data: {\n                        page: this.page,\n                    }\n                });\n                if (res.code === 0) {\n                    this.product_list.push(...res.data.list);\n                    this.page_count = res.data.pagination.page_count;\n                    this.set_interval();\n                }\n\t\t    },\n\n\t\t    async requestBanner() {\n                this.$request({\n                    url: this.$api.advance.banner,\n                    method: 'get',\n                }).then(res => {\n                    if (res.code === 0) {\n                        this.picture_list = res.data.list;\n                    }\n                })\n\t\t    }\n\t    },\n\n        components: {\n            'search-input': searchInput,\n            'index-swipe' : indexSwipe,\n\t        'product-list': indexProductList,\n        },\n        // #ifdef MP\n        onShareAppMessage() {\n            return this.$shareAppMessage({\n                path: '/plugins/advance/index/index',\n                title: this.$children[0].navigationBarTitle,\n            });\n        },\n        // #endif\n\t\t// #ifdef MP-WEIXIN\n\t\tonShareTimeline() {\n\t\t\t// 分享朋友圈beta\n\t\t\treturn this.$shareTimeline({\n\t\t\t\ttitle: this.$children[0].navigationBarTitle,\n\t\t\t\tquery: {\n\t\t\t\t} // 此处填写页面的参数\n\t\t\t});\n\t\t},\n\t\t// #endif\n\t\tcomputed: {\n\t\t\t...mapGetters('mallConfig', {\n\t\t\t\tgetTheme: 'getTheme',\n\t\t\t})\n\t\t},\n        onReachBottom() {\n            if (this.page < this.page_count) {\n                this.page++;\n                this.requestList();\n            }\n        },\n    }\n</script>\n\n<style scoped lang=\"scss\">\n\t.index {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: #f7f7f7;\n\t\tpadding-top: #{88upx};\n\t}\n\t.index-product-list {\n\t\tmargin-top: #{20rpx};\n\t}\n\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=1435cc8a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=1435cc8a&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658389816929\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}