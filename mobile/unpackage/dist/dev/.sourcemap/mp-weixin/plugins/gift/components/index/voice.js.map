{"version":3,"sources":["webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/gift/components/index/voice.vue?e696","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/gift/components/index/voice.vue?dd21","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/gift/components/index/voice.vue?9c36","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/gift/components/index/voice.vue?1896","uni-app:///plugins/gift/components/index/voice.vue","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/gift/components/index/voice.vue?7d0e","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/gift/components/index/voice.vue?a56d"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACyN;AACzN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2Bp4B;;AAEA,eAFA;;AAIA,iDAJA;;AAMA,MANA,kBAMA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,4BAHA;AAIA,mBAJA;AAKA,uBALA;;AAOA,GAdA;;AAgBA;AACA;AACA,aADA,mBACA,IADA,EACA;AACA;AACA;AACA;AACA,OALA,EADA,EAhBA;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;;AAGA;AACA;AACA,KAVA;AAWA;AACA;AACA,mBADA;;AAGA;AACA;AACA,KAjBA;AAkBA;AACA;AACA;AACA,mBADA;;AAGA;AACA;AACA;AACA,mBADA;;AAGA;AACA;AACA;AACA;AACA,KAhCA;AAiCA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KA1CA;AA2CA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA;AACA;AACA;AACA;AACA,OAJA,EAIA,GAJA;AAKA,KArDA;AAsDA,SAtDA,mBAsDA;AACA;AACA;AACA,KAzDA;AA0DA,OA1DA,iBA0DA;AACA;AACA;AACA;AACA,KA9DA;AA+DA,aA/DA,uBA+DA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KArEA;AAsEA,QAtEA,kBAsEA;AACA;;AAEA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA,mCADA;AAEA,qBAFA,qBAEA;AACA;AACA;AACA,eALA;AAMA,kBANA,gBAMA,CANA,EAMA;AACA;AACA,6BADA;AAEA,2CAFA;AAGA,kCAHA;AAIA,mCAJA;AAKA,yCALA;AAMA,yBANA,qBAMA;AACA;AACA;AACA;;AAEA,yBAFA,MAEA;AACA;AACA;AACA;AACA,uBARA;AASA,0BATA,gBASA,CATA,EASA;AACA,uBAVA;;AAYA,mBAnBA;;AAqBA,eA5BA;;AA8BA,WA/BA,MA+BA;AACA;AACA;AACA;AACA,SArCA;AAsCA,YAtCA,gBAsCA,CAtCA,EAsCA;AACA,SAvCA;;;;;;AA6CA,KAtHA;AAuHA,SAvHA,mBAuHA;AACA;AACA;AACA,KA1HA,EA1BA;;;AAuJA;AACA,UADA,kBACA,IADA,EACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAPA,EAvJA,E;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAA2oD,CAAgB,07CAAG,EAAC,C;;;;;;;;;;;ACA/pD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/gift/components/index/voice.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./voice.vue?vue&type=template&id=1b8e35ee&scoped=true&\"\nvar renderjs\nimport script from \"./voice.vue?vue&type=script&lang=js&\"\nexport * from \"./voice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./voice.vue?vue&type=style&index=0&id=1b8e35ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b8e35ee\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/gift/components/index/voice.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./voice.vue?vue&type=template&id=1b8e35ee&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = Object.keys(_vm.audio)\n  var f0 = _vm.start_tran ? _vm._f(\"second\")(_vm.voice_i) : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.start_tran = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        f0: f0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./voice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./voice.vue?vue&type=script&lang=js&\"","<template>\n    <view class=\"voice\">\n        <button class=\"adjunction dir-left-nowrap cross-center\" @click=\"open()\" v-if=\"Object.keys(audio).length === 0\">\n            <view class=\"recording\"></view>\n            <view class=\"text\">添加语音祝福</view>\n        </button>\n        <view class=\"audio dir-left-nowrap cross-center\" v-else>\n            <view class=\"btn\" @click=\"playaudio\" :class=\"[is_play ? 'btn-pause' : 'btn-play']\"></view>\n            <view class=\"duration\">{{voice_i}}″</view>\n            <view class=\"close\" @click=\"close()\"></view>\n        </view>\n        <view class=\"black\" v-if=\"start_tran\" @click.stop=\"start_tran = false\">\n            <view class=\"mouldboard dir-top-nowrap cross-center\"  @click.stop>\n                <view class=\"voice-num\">{{voice_i | second}}</view>\n                <view class=\"transcription\" :class=\"[`${theme}-background`]\" @touchstart=\"start\" @touchend=\"end\">\n                    <image :src=\"animationStatus ? '../../image/transcriptioning.png' : '../../image/transcription.png'\" class=\"image\"/>\n                    <view class=\"ripple\" :class=\"[`${theme}-border`]\" :animation=\"animationData1\"></view>\n                    <view class=\"ripple\" :class=\"[`${theme}-border`]\" :animation=\"animationData2\"></view>\n                </view>\n                <view class=\"active-text\">{{animationStatus ? '松开停止录音' : '长按开始录音'}}</view>\n            </view>\n        </view>\n    </view>\n</template>\n\n<script>\n\n    export default {\n\n        name: 'voice',\n\t    \n\t\tprops: [`theme`, `is_play`, `audio`, `voice_i`],\n\n\t\tdata() {\n            return {\n                animationData1: '',\n                animationData2: '',\n                animationStatus: false,\n                manager: null,\n                start_tran: false,\n            }\n\t\t},\n\t\t\n\t\twatch: {\n            voice_i: {\n                handler(data) {\n                    if (data >= 30) {\n                        this.end();\n                    }\n                },\n            }\n        },\n\t\t\n\t    methods: {\n            animationFun:function(animationData){\n                if(!this.animationStatus){\n                    return;\n                }\n                var animation = uni.createAnimation({\n                    duration: 1000\n                })\n                animation.opacity(0).scale(1.5,1.5).step(); \n                this[animationData] = animation.export();\n            },\n            animationEnd: function (animationData) {\n                var animation = uni.createAnimation({\n                    duration: 0\n                })\n                animation.opacity(1).scale(1, 1).step(); \n                this[animationData] = animation.export()\n            },\n            recodeEnd: function() {\n                //动画1结束\n                var animation1 = uni.createAnimation({\n                    duration: 0\n                })\n                animation1.opacity(1).scale(1, 1).step(); \n                //动画2结束\n                var animation2 = uni.createAnimation({\n                    duration: 0\n                })\n                animation2.opacity(1).scale(1, 1).step(); \n                this.animationData1 = animation1.export();\n                this.animationData2 = animation2.export();\n                this.animationStatus = false;\n            },\n            recodeClick: function() {\n                this.animationStatus = true;\n                this.animationFun('animationData1');\n                setTimeout(()=>{\n                    this.animationFun('animationData2');\n                },500)\n                setTimeout(() => {\n                    this.animationRest();\n                }, 1000)\n            },\n            animationRest: function() {\n                this.animationEnd('animationData1');\n                setTimeout(()=>{\n                    this.animationEnd('animationData2');\n                },500);\n                setTimeout(() => {\n                    if (this.animationStatus) {\n                        this.recodeClick();\n                    }\n                }, 100);\n            },\n            start() {\n                this.recodeClick();\n                this.$emit('recorder', true);\n            },\n            end() {\n                this.recodeEnd();\n                this.$emit('recorder', false);\n                this.start_tran = false;\n            },\n            playaudio() {\n                if (this.is_play) {\n                    this.$emit('play', false);\n                } else {\n                    this.$emit('play', true);\n                }\n            },\n            open() {\n                let self = this;\n                // #ifdef MP\n                wx.getSetting({\n                    success(res) {\n                        if (!res.authSetting['scope.record']) {\n                            wx.authorize({\n                                scope: 'scope.record',\n                                success () {\n                                    self.start_tran = true;\n                                    self.$emit('click');\n                                },\n                                fail(e) {\n                                    wx.showModal({\n                                        title: '提示',\n                                        content: '您未授权录音，功能将无法使用',\n                                        showCancel: true,\n                                        confirmText: \"授权\",\n                                        confirmColor: \"#52a2d8\",\n                                        success() {\n                                            wx.openSetting({\n                                                success: (res) => {\n                                                    if (!res.authSetting['scope.record']) {\n                                                        \n                                                    } else {\n                                                        self.start_tran = true;\n                                                        self.$emit('click');\n                                                    }\n                                                },\n                                                fail(e) {\n                                                }\n                                            })\n                                        }\n                                    })\n                                }\n                            })\n                        } else {\n                            self.start_tran = true;\n                            self.$emit('click');\n                        }\n                    },\n                    fail(e) {\n                    }\n                });\n                // #endif\n                // #ifdef H5\n                self.start_tran = true;\n                // #endif\n            },\n            close() {\n                this.audio = {}\n                this.$emit('close');\n            }\n        },\n\n        filters: {\n            second(data) {\n                if (data < 10) {\n                    return '00:0' + data;\n                } else {\n                    return '00:' + data;\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    @import '../../css/gift.scss';\n    .audio {\n        height: #{80upx};\n        width: #{376upx};\n        border-radius: #{40upx};\n        margin-left: #{24upx};\n        padding: 0;\n        background-color: #49c265;\n    }\n    .btn {\n        width: #{96upx};\n        height: #{80upx};\n        padding: #{16upx 32upx 16upx 16upx};\n        background-repeat: no-repeat;\n        background-size: 52% 60%;\n        background-position: center #{16upx};\n    }\n    .btn-play {\n        background-image: url('../../image/play.png');\n    }\n    .btn-pause {\n        background-image: url('../../image/pause.png');\n    }\n    .duration {\n        width: #{210upx};\n        text-align: right;\n        font-size: #{30upx};\n        color: #ffffff;\n        padding-right: #{28upx};\n        border-right: #{1upx} solid #ffffff;\n        height: #{30upx};\n        line-height: #{30upx};\n    }\n    .close {\n        width: #{48upx};\n        height: #{80upx};\n        padding: #{30upx 28upx 30upx 28upx};\n        background-image: url('../../image/close.png');\n        background-repeat: no-repeat;\n        background-position: center;\n        background-size: 41.6% 25%;\n    }\n    .adjunction {\n        height: #{80upx};\n        width: #{278upx};\n        line-height: #{80upx};\n        background-color: #ffffff;\n        border-radius: #{40upx};\n        margin-left: #{24upx};\n        margin-bottom: #{56upx};\n        padding: 0;\n    }\n\n    .text {\n        font-size: #{28upx};\n        color: #666666;\n        margin-left: #{8upx};\n    }\n\n    .recording {\n        width: #{32upx};\n        height: #{32upx};\n        margin-left: #{32upx};\n        background-repeat: no-repeat;\n        background-image: url('../../image/recording.png');\n        background-size: 100% 100%;\n    }\n   \n    .black {\n        position: fixed;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 1600;\n        background-color: rgba(0,0,0,.5);\n    }\n    .mouldboard {\n        width: #{750upx};\n        height: #{480upx};\n        background-color: #ffffff;\n        position: absolute;\n        bottom: 0;\n        border-top-right-radius: #{16upx};\n        border-top-left-radius: #{16upx};\n    }\n    .transcription {\n        width: #{200upx};\n        height: #{200upx};\n        border-radius: 50%;\n        margin-top: #{50upx};\n        position: relative;\n    }\n    .active-text {\n        margin-top: #{48upx};\n        font-size: #{28upx};\n        color: #999999;\n    }\n    .image {\n        width: #{110upx};\n        height: #{110upx};\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n    .ripple{\n        position: absolute;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        border-radius: 50%;\n    }\n    \n    .voice-num {\n        font-size: #{30upx};\n        margin-top: #{50upx};\n        color: #353535;\n        font-family: 'DIN';\n    }\n</style>","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./voice.vue?vue&type=style&index=0&id=1b8e35ee&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./voice.vue?vue&type=style&index=0&id=1b8e35ee&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658389817989\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}