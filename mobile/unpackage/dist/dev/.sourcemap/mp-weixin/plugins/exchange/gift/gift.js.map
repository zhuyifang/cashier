{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/exchange/gift/gift.vue?0615","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/exchange/gift/gift.vue?3ae1","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/exchange/gift/gift.vue?ab38","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/exchange/gift/gift.vue?fef1","uni-app:///plugins/exchange/gift/gift.vue","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/exchange/gift/gift.vue?52c8","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/exchange/gift/gift.vue?41b4"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"plugins/exchange/gift/gift.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './plugins/exchange/gift/gift.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./gift.vue?vue&type=template&id=f17688c0&scoped=true&\"\nvar renderjs\nimport script from \"./gift.vue?vue&type=script&lang=js&\"\nexport * from \"./gift.vue?vue&type=script&lang=js&\"\nimport style0 from \"./gift.vue?vue&type=style&index=0&id=f17688c0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f17688c0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/exchange/gift/gift.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gift.vue?vue&type=template&id=f17688c0&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.shareShow = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gift.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gift.vue?vue&type=script&lang=js&\"","<template>\n    <app-layout>\n        <scroll-view scroll-y :style=\"{'height':`${windowHeight}px`}\">\n            <view class=\"app-goods\" v-show=\"loading\">\n                <view class=\"banner\">\n                    <app-banner\n                        :videoUrl=\"goods.video_url\"\n                        :picList=\"goods.pic_list\"\n                        :goods_id=\"goods.id\"\n                        :isCart=\"false\"\n                        sign=\"exchange\"\n                    ></app-banner>\n                </view>\n                <view class=\"other-info\">\n                    <view class=\"t-omit-two goods-name\">{{goods.name}}</view>\n                    <view class=\"code\" :style=\"{'color': status == 'unused' ? getTheme.color : '#999999','background-color': status == 'unused' ? getTheme.background_o : '#f5f5f5'}\">{{code}}</view>\n                    <view v-if=\"status == 'unused'\" class=\"app-share\">\n                        <app-form-id @click=\"shareShow = true\">\n                            <image class=\"app-icon\" src=\"../../../static/image/icon/icon-share.png\"></image>\n                            <text class=\"app-text\">赠送</text>\n                        </app-form-id>\n                    </view>\n                </view>\n                <app-share-qr-code v-model=\"shareShow\"\n                                   :url=\"url\"\n                                   title=\"生成赠送海报\"\n                                   :goods=\"goods\"\n                                   @share=\"hShareAppMessage\"\n                                   :theme=\"getTheme\"\n                                   :has-poster-nav=\"false\"\n                ></app-share-qr-code>\n                <!-- 商品详情 -->\n                <bd-detail :detail=\"goods.detail\"></bd-detail>\n                <!-- 底部空格 -->\n                <view class=\"safe-area-inset-bottom\">\n                    <view class=\"u-bottom-height\"></view>\n                </view>\n                <!-- 底部按钮 -->\n                <view class=\"safe-area-inset-bottom u-bottom-fixed\">\n                    <view class=\"buttons dir-left-nowrap\">\n                        <view class=\"app-button main-center cross-center\">\n                            <view @click=\"copy\" v-if=\"status == 'unused'\" class=\"app-exhange\" :style=\"{'background': getTheme.background_s_gradient_o,'color': getTheme.secondary_text}\">\n                                复制兑换码\n                            </view>\n                            <view @click=\"toExchange\" v-if=\"status == 'unused'\" class=\"app-exhange\" :style=\"{'background': getTheme.background_gradient_o,'color': getTheme.main_text}\">\n                                立即兑换\n                            </view>\n                            <view class=\"app-over\" v-if=\"status != 'unused'\">\n                                {{status == 'used' ? '已兑换': '已失效'}}\n                            </view>\n                        </view>\n                    </view>\n                </view>\n            </view>\n        </scroll-view>\n    </app-layout>\n</template>\n\n<script>\n    import {mapGetters, mapState} from 'vuex';\n    import appBanner from '../../../components/page-component/goods/app-goods-banner.vue';\n    import appShareQrCode from '../../../components/page-component/app-share-qr-code-poster/app-share-qr-code-poster.vue';\n    import bdDetail from '@/components/page-component/goods/bd-detail.vue';\n\n    export default {\n        name: 'goods',\n        data() {\n            return {\n                shareShow: false,\n                goods: {},\n                url: this.$api.exchange.qrcode,\n                show: false,\n                list: [],\n                code: null,\n                id: null,\n                status: '',\n                windowHeight: 667,\n                loading: false,\n                first: true,\n            }\n        },\n        onLoad(options) { this.$commonLoad.onload(options);\n            let that = this;\n            that.code = options.code;\n            that.windowHeight = uni.getSystemInfoSync().windowHeight;\n            that.$showLoading({\n                type: 'global',\n                text: '加载中...'\n            });\n            that.request({\n                url: that.$api.exchange.me_detail,\n                data: {\n                    code: that.code,\n                }\n            }).then(response => {\n                if(response) {\n                    that.first = false;\n                    let { goods_attr, code,status } = response;\n                    that.url = that.url + '&code=' + code;\n                    that.goods = goods_attr;\n                    that.code = code;\n                    that.status = status;\n                    that.loading = true;\n                    that.$hideLoading();\n                }\n            });\n        },\n        onShow() {\n            if(this.first) {\n                return false\n            }\n            this.$showLoading();\n            this.$nextTick(() => {\n                let that = this;\n                that.request({\n                    url: that.$api.exchange.me_detail,\n                    data: {\n                        code: that.code,\n                    }\n                }).then(response => {\n                    let { goods_attr, code,status } = response;\n                    that.goods = goods_attr;\n                    that.code = code;\n                    that.status = status;\n                    that.loading = true;\n                    that.$hideLoading();\n                });\n            })\n        },\n        computed: {\n            ...mapState('gConfig',{\n                iphone: (data) => {\n                    return data.iphone;\n                },\n                iphoneHeight: (state) =>{\n                    return  state.iphoneHeight;\n                },\n            }),\n            ...mapGetters('mallConfig', {\n                getTheme: 'getTheme',\n            }),\n            ...mapState({\n                mall: state => state.mallConfig.mall,\n                userInfo: state => state.user.info\n            })\n        },\n        // #ifdef MP\n        onShareAppMessage() {\n            return this.hShareAppMessage();\n        },\n        // #endif\n        methods: {\n            hShareAppMessage(s = false) {\n                return this.$shareAppMessage({\n                    path: '/plugins/exchange/gift/gift',\n                    title: this.goods.app_share_title ? this.goods.app_share_title : this.goods.name,\n                    imageUrl: this.goods.app_share_pic ? this.goods.app_share_pic : '',\n                    params: {\n                        code: this.code,\n                    }\n                }, s);\n            },\n            copy() {\n                this.$utils.uniCopy({\n                    data: this.code,\n                    success() {\n                        //#ifndef MP-WEIXIN\n                        uni.showToast({title: '复制成功'});\n                        // #endif\n                    },\n                });\n            },\n            toExchange() {\n                uni.navigateTo({\n                    url: '/plugins/exchange/detail/detail?code=' + this.code\n                })\n            },\n            async request({url, data}) {\n                const response = await this.$request({\n                    url: url,\n                    data: data,\n                });\n                if (response.code === 0) {\n                    return response.data;\n                }else {\n                    uni.showModal({\n                        title: '提示',\n                        content: response.msg,\n                        showCancel: false,\n                        success: function (res) {\n                            uni.navigateBack();\n                        }\n                    });\n                }\n            }\n        },\n        components: {\n            'app-banner': appBanner,\n            'app-share-qr-code': appShareQrCode,\n            bdDetail\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    .other-info {\n        background-color: #fff;\n        padding-top: 24rpx;\n        padding-bottom: 24rpx;\n        margin-bottom: 24rpx;\n        position: relative;\n        .goods-name {\n            font-size: #{32rpx};\n            color: #353535;\n            margin: 0 #{24rpx} #{50rpx};\n        }\n        .code {\n            margin-left: 24rpx;\n            display: inline-block;\n            padding: 16rpx 46rpx;\n            border-radius: 40rpx;\n            font-size: 32rpx;\n            font-weight: 600;\n            &.default {\n                background-color: #F5F5F5;\n                color: #999999;\n            }\n        }\n        .app-share {\n            width: #{40rpx};\n            height: #{102rpx};\n            position: absolute;\n            right: #{24rpx};\n            bottom: #{26rpx};\n            .app-icon {\n                width: #{40rpx};\n                height: #{40rpx};\n            }\n            .app-text {\n                color: #666666;\n                font-size: #{20rpx};\n                position: absolute;\n                top: #{50rpx};\n                left: 0;\n            }\n        }\n    }\n\n    .app-goods {\n        background-color: #f7f7f7;\n    }\n    .buttons {\n        width: #{750rpx};\n        height: #{110rpx};\n        border-top: #{1rpx} solid #e2e2e2;\n        .app-button {\n            width: 100%;\n            height: #{110rpx};\n            text-align: center;\n            line-height: #{110rpx};\n            background-color: #fff;\n            .app-over {\n                background: #e9e9e9;\n                width: #{702rpx};\n                border-radius: #{41rpx};\n                color: #999999;\n                height: #{82rpx};\n                line-height: #{82rpx};\n                font-size: #{28rpx};\n            }\n            .app-exhange {\n                margin: 0 10rpx;\n                width: 340rpx;\n                border-radius: 41rpx;\n                height: 82rpx;\n                line-height: 82rpx;\n                font-size: 28rpx;\n            }\n        }\n    }\n    .u-bottom-fixed {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        z-index: 1602;\n        background-color: #ffffff;\n    }\n    .u-bottom-height {\n        height: 110upx;\n    }\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gift.vue?vue&type=style&index=0&id=f17688c0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gift.vue?vue&type=style&index=0&id=f17688c0&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658389809764\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}