{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/clerk/order/order.vue?2fc3","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/clerk/order/order.vue?7035","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/clerk/order/order.vue?f06c","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/clerk/order/order.vue?5337","uni-app:///plugins/clerk/order/order.vue","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/clerk/order/order.vue?2b8a","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/plugins/clerk/order/order.vue?e89c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,qG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAi2B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0Hr3B,gD;;AAEA;AACA,eADA;AAEA;AACA,4BADA,EAFA;;AAKA,MALA,kBAKA;AACA;AACA,kBADA;AAEA;AACA,4BADA;AAEA,4BAFA;AAGA,4BAHA;AAIA,2BAJA,CAFA;;AAQA;AACA,4BADA;AAEA,4BAFA;AAGA,2BAHA,CARA;;AAaA,iBAbA;AAcA,mBAdA;AAeA,eAfA;AAgBA,sBAhBA;AAiBA,iBAjBA;AAkBA,sBAlBA;AAmBA,oBAnBA;AAoBA,qBApBA;AAqBA,yBArBA;AAsBA,kBAtBA;AAuBA,iBAvBA;AAwBA,cAxBA;;AA0BA,GAhCA;AAiCA;AACA;AACA,mFADA;AAEA,8DAFA,GADA,CAjCA;;;AAuCA,QAvCA,kBAuCA,OAvCA,EAuCA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,oBAFA;;AAIA;AACA,+BADA;AAEA,QAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA,SANA,MAMA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA,OApBA,MAoBA;AACA;AACA,+CADA;;AAGA;AACA,KA5BA;AA6BA,GA7EA;AA8EA;AACA;AACA;AACA;AACA,GAlFA;AAmFA,QAnFA,kBAmFA,OAnFA,EAmFA;AACA;AACA;AACA;AACA,iCADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;;AAGA,WALA,MAKA;AACA;AACA;AACA,yBADA;;AAGA;AACA,SAhBA,MAgBA;AACA;AACA,iDADA;;AAGA;AACA,OAxBA;AAyBA;;AAEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,GAxHA;AAyHA;AACA,WADA,qBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;;AAGA,SALA,MAKA;AACA;AACA;AACA,kCADA;AAEA,wBAFA;AAGA,iCAHA;;AAKA,SAPA,MAOA;AACA;AACA;AACA,2BADA;AAEA,oCAFA;;AAIA;AACA,OApBA,MAoBA;AACA;AACA;AACA;AACA,2BADA;;AAGA,SALA,MAKA;AACA;AACA;AACA,2BADA;AAEA,oCAFA;;AAIA;AACA;AACA;AACA,gBADA;AAEA,kBAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAPA;AAQA,SAfA,MAeA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OA5BA,EA4BA,KA5BA,CA4BA;AACA;AACA;AACA,OA/BA;AAgCA,KA3EA;;AA6EA,WA7EA,mBA6EA,EA7EA,EA6EA;AACA;AACA,gDADA;;AAGA,KAjFA;AAkFA,eAlFA,uBAkFA,EAlFA,EAkFA;AACA;AACA,mDADA;;AAGA,KAtFA;AAuFA,YAvFA,oBAuFA,EAvFA,EAuFA;AACA;AACA,oDADA;;AAGA,KA3FA;AA4FA,gBA5FA,wBA4FA,EA5FA,EA4FA;AACA;AACA,yDADA;;AAGA,KAhGA;AAiGA,iBAjGA,yBAiGA,CAjGA,EAiGA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAzGA;AA0GA,YA1GA,sBA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBADA;;AAGA,KArHA;AAsHA,iBAtHA,2BAsHA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;;AAGA,OALA,MAKA;AACA;AACA;AACA,qBADA;;AAGA;AACA,KApIA;AAqIA,UArIA,oBAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KA9JA;AA+JA;AACA,SAhKA,mBAgKA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAvKA;AAwKA,aAxKA,qBAwKA,CAxKA,EAwKA;AACA;AACA;AACA;AACA;AACA;AACA,kBADA;AAEA,uBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAzLA;AA0LA,OA1LA,eA0LA,CA1LA,EA0LA;AACA;AACA;AACA;AACA;AACA;AACA,kBADA;AAEA,uBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KA9MA;AA+MA,WA/MA,qBA+MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,+BAFA;;AAIA,OANA,MAMA;AACA;AACA;AACA,gCADA;AAEA,sBAFA;AAGA,+BAHA;;AAKA,OAPA,MAOA;AACA;AACA;AACA,kCADA;AAEA,sBAFA;AAGA,+BAHA;;AAKA;AACA;AACA,gBADA;AAEA,kBAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAPA;AAQA,SAjBA,MAiBA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OA/BA,EA+BA,KA/BA,CA+BA;AACA;AACA;AACA;AACA,OAnCA;AAoCA,KAhRA;AAiRA,WAjRA,qBAiRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;;AAGA,OALA,MAKA;AACA;AACA;AACA,kCADA;AAEA,+BAFA;;AAIA;AACA;AACA,gBADA;AAEA,kBAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OAtBA,EAsBA,KAtBA,CAsBA;AACA;AACA;AACA;AACA,OA1BA;AA2BA,KAhUA,EAzHA,E;;;;;;;;;;;;;AC5HA;AAAA;AAAA;AAAA;AAAgnD,CAAgB,07CAAG,EAAC,C;;;;;;;;;;;ACApoD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/clerk/order/order.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './plugins/clerk/order/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=2ca19246&scoped=true&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&id=2ca19246&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ca19246\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/clerk/order/order.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=template&id=2ca19246&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"","<template>\n    <app-layout>\n        <view v-if=\"!toSearch\" style=\"z-index: 50\">\n            <view class='status' v-if=\"is_mall\">\n                <view class='status-list main-between'>\n                    <view @click='tab(1)' :class=\"[`${status==1?'active':''}`,`left-status`]\">订单</view>\n                    <view @click='tab(2)' :class=\"[`${status==2?'active':''}`,`right-status`]\">卡券</view>\n                </view>\n            </view>\n            <view :class=\"[`search`, `${is_mall?'':'no-mall'}`]\">\n                <view @click='beSearch' class=\"main-center search-content cross-center\">\n                    <image src=\"/static/image/icon/icon-search.png\"></image>\n                    <text>搜索</text>\n                </view>\n            </view>\n            <app-tab-nav :setTop=\"setTop\" :placeHeight=\"placeHeight\" :setHeight=\"96\" :tabList=\"tabList\" :padding=\"0\"\n                         :activeItem=\"activeTab\" @click=\"tabStatus\"></app-tab-nav>\n        </view>\n        <view v-if=\"toSearch\" class=\"search-item main-between cross-center\">\n            <view class=\"search-input\">\n                <image src='/static/image/icon/icon-search.png'></image>\n                <input v-if=\"status == 1 && toSearch\" focus @confirm='search' confirm-type='search' v-model='keyword'\n                       placeholder-style='color:#999999;font-size:13px;' placeholder='输入订单号/商品名称/店铺名称搜索'/>\n                <input v-if=\"status == 2 && toSearch\" focus @confirm='search' confirm-type='search' v-model='keyword'\n                       placeholder-style='color:#999999;font-size:13px;' placeholder='输入卡券名称/用户昵称搜索'/>\n            </view>\n            <view @click=\"cancelSeacrch\">取消</view>\n        </view>\n        <view v-if=\"!searchResult && toSearch\" :class=\"[`search-history`,`${list.length == 0 ? '' : 'go-out'}`]\">\n            <view v-if=\"candidate.length != 0\" class='main-between search-title'>\n                <view>历史搜索</view>\n                <view @click=\"clear\">\n                    <image class=\"history-img\" src=\"/static/image/icon/delete.png\"></image>\n                </view>\n            </view>\n            <view class='flex-wrap history-list'>\n                <view @click=\"keywordSearch(item)\" class=\"keyword-item box-grow-0\" v-for=\"item in candidate\"\n                      :key=\"item\">\n                    <text class=\"t-omit\">{{item}}</text>\n                </view>\n            </view>\n        </view>\n        <view v-if=\"toSearch\" class=\"search-place\"></view>\n\n        <template v-if=\"status == 1\">\n            <view v-for=\"(item, index) in list\" :key=\"item.id\" class=\"item\">\n                <view class='main-between item-top'>\n                    <view class='shop t-omit'>\n                        <image src='./../image/shop.png'></image>\n                        <text>{{item.store.name}}</text>\n                    </view>\n                    <view class=\"item-status\" v-if=\"item.clerk_id > 0\">已核销</view>\n                    <view class=\"item-status\" v-else-if=\"item.cancel_status == 1\">已退款</view>\n                    <view class=\"item-status\" v-else>未核销</view>\n                </view>\n                <view @click=\"toDetail(item.id)\">\n                    <view class=\"goods\" :style=\"{'margin-top':`${index == 0 ?'0':'12'}px`}\" v-for=\"goods in item.detail\"\n                          :key=\"goods.id\">\n                        <image :src='goods.goods.goodsWarehouse.cover_pic'></image>\n                        <view class='goods-info'>\n                            <view class='goods-name t-omit-two'>{{goods.goods.goodsWarehouse.name}}</view>\n                            <view class=\"goods-attr  t-omit-two\">\n                                <text v-for=\"attr in goods.attr_list\" :key=\"attr.id\">\n                                    {{attr.attr_group_name}}:{{attr.attr_name}}\n                                </text>\n                            </view>\n                            <view>x{{goods.num}}</view>\n                        </view>\n                        <view class='goods-price'>￥ {{goods.total_price}}</view>\n                    </view>\n                </view>\n                <view class='total'>合计\n                    <text>￥{{item.total_pay_price}}</text>\n                    (含运费￥{{item.express_price}})\n                </view>\n                <view class='dir-right-nowrap' v-if=\"item.clerk_id == 0 && item.cancel_status != 1\">\n                    <view class=\"refund-text\" v-if=\"item.refund\">{{item.refund}}</view>\n                    <view v-else class=\"clerk-btn dir-right-nowrap\" @click=\"toClerk(item.id)\">\n                        <button>核销</button>\n                    </view>\n                </view>\n            </view>\n        </template>\n\n        <template v-if=\"status == 2\">\n            <view v-for=\"item in list\" :key=\"item.id\" class=\"item card-item\">\n                <image class='card-img' :src='item.pic_url'></image>\n                <view @click=\"toCardDetail(item.id)\">\n                    <view class='t-omit-two card-name'>{{item.name}}</view>\n                    <view class=\"surplus-number\">剩余{{item.number - item.use_number}}次</view>\n                    <view class='dir-left-nowrap platform cross-center'>\n                        <image class='platform-img' :src=\"item.platform_icon\"></image>\n<!--                        <image class='platform-img' v-if=\"item.platform == 'aliapp'\" src='./../image/ali.png'></image>-->\n                        <view>{{item.nickname}}</view>\n                    </view>\n                </view>\n                <view class='cross-center card-clerk'>\n                    <view v-if=\"item.is_use == 0 && item.receive_id == 0\" class=\"clerk-btn dir-right-nowrap\" @click=\"toClerkCard(item.id)\">\n                        <button>核销</button>\n                    </view>\n                    <view v-else-if=\"item.is_use == 0 && item.receive_id > 0\" class=\"clerk-btn-1\">\n                        已转赠\n                    </view>\n                    <image v-else class='clerked-img' src='./../image/clerked.png'></image>\n                </view>\n            </view>\n        </template>\n\n        <view class='no-tip' v-if=\"list.length == 0 && status == 1\">\n            <image :src='clerkImg.order'></image>\n            <view>没有任何订单哦~</view>\n        </view>\n        <view class='no-tip' v-if=\"list.length == 0 && status == 2\">\n            <image :src='clerkImg.card'></image>\n            <view>没有任何卡券哦~</view>\n        </view>\n    </app-layout>\n</template>\n\n<script>\n    import appTabNav from \"../../../components/basic-component/app-tab-nav/app-tab-nav.vue\";\n\n    import {mapState} from \"vuex\";\n\n    export default {\n        name: \"about\",\n        components: {\n            \"app-tab-nav\": appTabNav,\n        },\n        data() {\n            return {\n                activeTab: 2,\n                order_list: [\n                    {id: 2, name: '未核销'},\n                    {id: 1, name: '已核销'},\n                    {id: 5, name: '已退款'},\n                    {id: 3, name: '我的'},\n                ],\n                card_list: [\n                    {id: 2, name: '未核销'},\n                    {id: 1, name: '已核销'},\n                    {id: 3, name: '我的'},\n                ],\n                tabList: [],\n                candidate: [],\n                status: 1,\n                placeHeight: 312,\n                setTop: 190,\n                more_list: false,\n                is_mall: false,\n                toSearch: false,\n                searchResult: false,\n                first: false,\n                keyword: '',\n                list: []\n            };\n        },\n        computed: {\n            ...mapState({\n                clerkImg: state => state.mallConfig.__wxapp_img.clerk,\n                mall: state => state.mallConfig.mall\n            }),\n        },\n        onLoad(options) { this.$commonLoad.onload(options);\n            this.status = options.status\n            if (options.type > 0) {\n                this.activeTab = options.type\n            }\n            this.$showLoading({\n                type: 'global',\n                text: '加载中...'\n            });\n            this.$request({\n                url: this.$api.clerk.info\n            }).then(response => {\n                if (response.code == 0) {\n                    this.is_mall = response.data.is_mall;\n                    if (!response.data.is_mall) {\n                        this.placeHeight = 210;\n                        this.setTop = 88;\n                    }\n                    this.list = [];\n                    if (this.status == 1) {\n                        this.tabList = this.order_list;\n                        this.getList();\n                        uni.setNavigationBarTitle({\n                            title: \"订单\",\n                        })\n                    } else if (this.status == 2) {\n                        this.tabList = this.card_list;\n                        this.getCard();\n                        uni.setNavigationBarTitle({\n                            title: \"卡券\",\n                        })\n                    }\n                } else {\n                    uni.redirectTo({\n                        url: '/pages/user-center/user-center'\n                    })\n                }\n            })\n        },\n        onReachBottom: function () {\n            if (this.more_list) {\n                this.getMore();\n            }\n        },\n        onShow(options) {\n            let that = this;\n            if (that.first) {\n                that.$request({\n                    url: that.$api.clerk.info\n                }).then(response => {\n                    if (response.code == 0) {\n                        that.is_mall = response.data.is_mall;\n                        if (!response.data.is_mall) {\n                            this.placeHeight = 210\n                        }\n                        if (that.status == 1) {\n                            that.getList();\n                            uni.setNavigationBarTitle({\n                                title: \"订单\",\n                            })\n                        } else if (that.status == 2) {\n                            that.getCard();\n                            uni.setNavigationBarTitle({\n                                title: \"卡券\",\n                            })\n                        }\n                    } else {\n                        uni.redirectTo({\n                            url: '/pages/user-center/user-center'\n                        })\n                    }\n                })\n            }\n\n            if (!that.first) {\n                if (that.status == 1) {\n                    that.getList();\n                } else if (that.status == 2) {\n                    that.getCard();\n                }\n            }\n        },\n        methods: {\n            getMore() {\n                let that = this;\n                let url;\n                let para;\n                if (that.load) {\n                    return false\n                }\n                that.load = true;\n                if (that.status == 1) {\n                    if (that.activeTab == 3) {\n                        url = that.$api.clerk.my;\n                        para = {\n                            page: that.page,\n                        }\n                    } else if (that.activeTab == 5) {\n                        url = that.$api.clerk.order;\n                        para = {\n                            status: that.activeTab,\n                            keyword_1: 8,\n                            keyword: that.keyword\n                        }\n                    } else {\n                        url = that.$api.clerk.order;\n                        para = {\n                            page: that.page,\n                            is_clerk: that.activeTab,\n                        }\n                    }\n                } else {\n                    if (that.activeTab == 3) {\n                        url = that.$api.clerk.my_card;\n                        para = {\n                            page: that.page,\n                        }\n                    } else {\n                        url = that.$api.clerk.card;\n                        para = {\n                            page: that.page,\n                            is_clerk: that.activeTab,\n                        }\n                    }\n                }\n                that.$request({\n                    url: url,\n                    data: para,\n                }).then(response => {\n                    that.$hideLoading();\n                    that.load = false;\n                    if (response.code == 0) {\n                        that.list = that.list.concat(response.data.list);\n                        that.page++;\n                        that.more_list = false;\n                        if (response.data.list.length == response.data.pagination.pageSize) {\n                            that.more_list = true;\n                        }\n                        that.list.forEach(function (row) {\n                            row.refund = null;\n                            if (row.cancel_status == 2) {\n                                row.refund = '申请取消中'\n                            } else if (row.is_pay == 0) {\n                                row.refund = '订单未支付'\n                            }\n                        })\n                    } else {\n                        uni.showToast({\n                            title: response.msg,\n                            icon: 'none',\n                            duration: 1000\n                        });\n                    }\n                }).catch(response => {\n                    that.load = false;\n                    that.$hideLoading();\n                });\n            },\n\n            toClerk(id) {\n                uni.navigateTo({\n                    url: '/pages/order/clerk/clerk?id=' + id\n                });\n            },\n            toClerkCard(id) {\n                uni.navigateTo({\n                    url: '/pages/card/clerk/clerk?cardId=' + id\n                });\n            },\n            toDetail(id) {\n                uni.navigateTo({\n                    url: '/plugins/clerk/detail/detail?id=' + id\n                });\n            },\n            toCardDetail(id) {\n                uni.navigateTo({\n                    url: '/plugins/clerk/detail/detail?card_id=' + id\n                });\n            },\n            keywordSearch(e) {\n                this.keyword = e;\n                this.searchResult = true;\n                if (this.status == 1) {\n                    this.getList();\n                } else {\n                    this.getCard();\n                }\n            },\n            beSearch() {\n                this.candidate = this.$storage.getStorageSync('clerk_keyword') ? this.$storage.getStorageSync('clerk_keyword') : [];\n                if (this.status == 2) {\n                    this.candidate = this.$storage.getStorageSync('clerk_card_keyword') ? this.$storage.getStorageSync('clerk_card_keyword') : [];\n                }\n                this.toSearch = !this.toSearch;\n                this.list = [];\n                this.searchResult = false;\n                uni.setNavigationBarTitle({\n                    title: \"搜索\",\n                })\n            },\n            cancelSeacrch() {\n                this.toSearch = !this.toSearch;\n                this.keyword = '';\n                if (this.status == 1) {\n                    this.getList();\n                    uni.setNavigationBarTitle({\n                        title: \"订单\",\n                    })\n                } else {\n                    this.getCard();\n                    uni.setNavigationBarTitle({\n                        title: \"卡券\",\n                    })\n                }\n            },\n            search() {\n                let value = this.$storage.getStorageSync('clerk_keyword') ? this.$storage.getStorageSync('clerk_keyword') : [];\n                if (this.status == 2) {\n                    value = this.$storage.getStorageSync('clerk_card_keyword') ? this.$storage.getStorageSync('clerk_card_keyword') : [];\n                }\n                if (this.keyword.length == 0 || this.keyword.trim().length == 0) {\n                    this.keyword = ''\n                    return\n                } else if (value.length > 0) {\n                    value.unshift(this.keyword)\n                } else {\n                    value = [this.keyword]\n                }\n                value.forEach(function (row, index) {\n                    if (value[0] == value[index] && index > 0) {\n                        value.splice(index, 1)\n                    }\n                })\n                if (this.status == 1) {\n                    this.$storage.setStorageSync('clerk_keyword', value);\n                    this.getList();\n                } else {\n                    this.$storage.setStorageSync('clerk_card_keyword', value);\n                    this.getCard();\n                }\n            },\n            // 清除搜索记录\n            clear() {\n                let that = this;\n                if(this.status == 2) {\n                    this.$storage.removeStorageSync('clerk_card_keyword');\n                }else {\n                    this.$storage.removeStorageSync('clerk_keyword');\n                }\n            },\n            tabStatus(e) {\n                let that = this;\n                if (that.load) {\n                    return false\n                }\n                uni.showLoading({\n                    mask: true,\n                    title: '加载中...'\n                });\n                that.list = [];\n                that.page = 2;\n                that.activeTab = +e.currentTarget.dataset.id;\n                if (this.status == 1) {\n                    this.getList();\n                } else {\n                    this.getCard();\n                }\n            },\n            tab(e) {\n                let that = this;\n                if (that.load) {\n                    return false\n                }\n                uni.showLoading({\n                    mask: true,\n                    title: '加载中...'\n                });\n                that.list = [];\n                that.page = 2;\n                that.activeTab = 2;\n                that.status = e;\n                if (e == 1) {\n                    this.tabList = this.order_list;\n                    this.getList();\n                } else {\n                    this.tabList = this.card_list;\n                    this.getCard();\n                }\n            },\n            getList() {\n                let that = this;\n                let url;\n                let para;\n                if (that.load) {\n                    return false\n                }\n                that.load = true;\n                if (this.activeTab == 3) {\n                    url = that.$api.clerk.my;\n                    para = {\n                        keyword_1: 8,\n                        keyword: this.keyword\n                    }\n                } else if (this.activeTab == 5) {\n                    url = that.$api.clerk.order;\n                    para = {\n                        status: this.activeTab,\n                        keyword_1: 8,\n                        keyword: this.keyword\n                    }\n                } else {\n                    url = that.$api.clerk.order;\n                    para = {\n                        is_clerk: this.activeTab,\n                        keyword_1: 8,\n                        keyword: this.keyword\n                    }\n                }\n                that.$request({\n                    url: url,\n                    data: para,\n                }).then(response => {\n                    uni.hideLoading();\n                    that.$hideLoading();\n                    that.load = false;\n                    if (response.code == 0) {\n                        that.first = true;\n                        that.list = response.data.list;\n                        that.page = 2;\n                        that.searchResult = true;\n                        that.more_list = false;\n                        if (response.data.list.length == response.data.pagination.pageSize) {\n                            that.more_list = true;\n                        }\n                        that.list.forEach(function (row) {\n                            row.refund = null;\n                            if (row.cancel_status == 2) {\n                                row.refund = '申请退款中'\n                            } else if (row.is_pay == 0) {\n                                row.refund = '订单未支付'\n                            }\n                        })\n                    } else {\n                        uni.showToast({\n                            title: response.msg,\n                            icon: 'none',\n                            duration: 1000\n                        });\n                    }\n                }).catch(response => {\n                    that.load = false;\n                    uni.hideLoading();\n                    that.$hideLoading();\n                });\n            },\n            getCard() {\n                let that = this;\n                let url;\n                let para;\n                if (that.load) {\n                    return false\n                }\n                that.load = true;\n                if (this.activeTab == 3) {\n                    url = that.$api.clerk.my_card;\n                    para = {\n                        keyword: this.keyword\n                    }\n                } else {\n                    url = that.$api.clerk.card;\n                    para = {\n                        is_clerk: this.activeTab,\n                        keyword: this.keyword\n                    }\n                }\n                that.$request({\n                    url: url,\n                    data: para,\n                }).then(response => {\n                    that.load = false;\n                    uni.hideLoading();\n                    that.$hideLoading();\n                    if (response.code == 0) {\n                        that.list = response.data.list;\n                        that.page = 2;\n                        that.searchResult = true;\n                        that.more_list = false;\n                        if (response.data.list.length == response.data.pagination.pageSize) {\n                            that.more_list = true;\n                        }\n                    } else {\n                        uni.showToast({\n                            title: response.msg,\n                            icon: 'none',\n                            duration: 1000\n                        });\n                    }\n                }).catch(response => {\n                    that.load = false;\n                    uni.hideLoading();\n                    that.$hideLoading();\n                });\n            },\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    .search {\n        height: #{88rpx};\n        padding: #{16rpx} #{26rpx};\n        background-color: #efeff4;\n        position: fixed;\n        top: #{104rpx};\n        left: 0;\n        width: 100%;\n        z-index: 10;\n    }\n\n    .search-place {\n        height: #{120rpx};\n        width: 100%;\n    }\n\n    .search.no-mall {\n        top: 0;\n    }\n\n    .search-content {\n        background-color: #fff;\n        height: #{56rpx};\n        border-radius: #{28rpx};\n    }\n\n    .search-content image {\n        height: #{24rpx};\n        width: #{24rpx};\n    }\n\n    .search-content text {\n        color: #b2b2b2;\n        font-size: #{24rpx};\n        margin: 0 #{5rpx};\n    }\n\n    .tab-list {\n        height: #{96rpx};\n        position: fixed;\n        top: #{192rpx};\n        left: 0;\n        right: 0;\n        z-index: 10;\n        width: 100%;\n        background-color: #fff;\n        border-bottom: #{1rpx} solid #e2e2e2;\n    }\n\n    .tab-list.no-mall {\n        top: #{88rpx};\n    }\n\n    .tab-item {\n        text-align: center;\n        font-size: #{28rpx};\n        color: #666;\n    }\n\n    .tab-item text {\n        height: #{92rpx};\n        line-height: #{92rpx};\n        display: inline-block;\n    }\n\n    .tab-item text.active {\n        border-bottom: #{4rpx} solid #ff4544;\n        color: #ff4544;\n    }\n\n    .status {\n        width: 100%;\n        height: #{104rpx};\n        background-color: #fff;\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        z-index: 10;\n    }\n\n    .status-list {\n        width: #{368rpx};\n        height: #{56rpx};\n        margin: #{24rpx} auto;\n        border-radius: #{28rpx};\n        line-height: #{54rpx};\n        font-size: #{24rpx};\n        color: #666666;\n        background-color: #fff;\n    }\n\n    .status-list view {\n        width: 50%;\n        text-align: center;\n        border: #{2rpx} solid #ff4544;\n    }\n\n    .status-list .active {\n        background-color: #ff4544;\n        height: #{56rpx};\n        color: #ffffff;\n    }\n\n    .item {\n        width: #{702rpx};\n        margin: 0 #{24rpx} #{24rpx};\n        background-color: #fff;\n        border-radius: #{16rpx};\n        padding: #{24rpx};\n        position: relative;\n    }\n\n    .item.card-item {\n        padding: #{40rpx} #{160rpx} #{40rpx} #{132rpx};\n    }\n\n    .shop {\n        font-size: #{24rpx};\n        color: #353535;\n        max-width: #{500rpx};\n    }\n\n    .shop image {\n        height: #{24rpx};\n        width: #{24rpx};\n        margin-right: #{12rpx};\n    }\n\n    .goods {\n        height: #{160rpx};\n        position: relative;\n    }\n\n    .goods image {\n        height: #{160rpx};\n        width: #{160rpx};\n        border-radius: #{10rpx};\n        float: left;\n        margin-right: #{20rpx};\n    }\n\n    .goods-info {\n        font-size: #{24rpx};\n        color: #999999;\n    }\n\n    .goods-name {\n        color: #353535;\n        height: #{70rpx};\n    }\n\n    .goods-price {\n        color: #353535;\n        font-size: #{24rpx};\n        position: absolute;\n        bottom: 0;\n        right: 0;\n    }\n\n    .total {\n        font-size: #{24rpx};\n        margin-top: #{28rpx};\n        color: #999999;\n        text-align: right;\n    }\n\n    .total text {\n        color: #353535;\n        font-size: #{28rpx};\n    }\n\n    .clerk-btn button {\n        width: #{138rpx};\n        text-align: center;\n        height: #{48rpx} !important;\n        border-radius: #{24rpx};\n        border: #{1rpx} solid #ff4544;\n        line-height: #{46rpx};\n        margin-top: #{28rpx};\n        font-size: #{24rpx};\n        color: #ff4544;\n        background-color: #fff;\n    }\n\n    .card-clerk .clerk-btn button {\n        margin-top: 0;\n    }\n\n    .clerk-btn button::after {\n        border: 0;\n    }\n\n    .clerk-btn-1 {\n        width: #{138rpx};\n        padding: #{8rpx 0};\n        text-align: center;\n        color: #ff4544;\n        background-color: #ffecec;\n        font-size: $uni-font-size-weak-one;\n    }\n\n    .search-item {\n        height: #{96rpx};\n        background-color: #efeff4;\n        padding: 0 #{24rpx};\n        font-size: #{28rpx};\n        color: #00c203;\n        width: 100%;\n        position: fixed;\n        top: 0;\n        left: 0;\n        z-index: 22;\n    }\n\n    .search-input {\n        height: #{64rpx};\n        position: relative;\n        width: #{620rpx};\n    }\n\n    .search-input image {\n        height: #{22rpx};\n        width: #{22rpx};\n        position: absolute;\n        top: #{21rpx};\n        left: #{28rpx};\n        z-index: 10;\n    }\n\n    .search-input input {\n        padding-left: #{62rpx};\n        background-color: #fff;\n        border-radius: #{32rpx};\n        height: #{64rpx};\n        font-size: #{26rpx};\n        color: #353535;\n    }\n\n    .search-history {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 100%;\n        background-color: #fff;\n        padding: #{120rpx} #{4rpx} #{24rpx};\n        font-size: #{28rpx};\n        color: #666;\n        z-index: 20;\n    }\n\n    .search-title {\n        padding: 0 #{20rpx};\n        margin-bottom: #{24rpx};\n    }\n\n    .keyword-item {\n        height: #{64rpx};\n        line-height: #{64rpx};\n        padding: 0 #{20rpx};\n        background-color: #f7f7f7;\n        color: #333;\n        border-radius: #{32rpx};\n        font-size: #{28rpx};\n        margin-left: #{20rpx};\n        margin-bottom: #{20rpx};\n        max-width: 90%;\n    }\n\n    .scan {\n        position: fixed;\n        bottom: #{80rpx};\n        right: 0;\n        z-index: 30;\n        height: #{116rpx};\n        width: #{112rpx};\n    }\n\n    .scan button {\n        height: #{116rpx} !important;\n        width: #{112rpx};\n        border-top-left-radius: #{58rpx};\n        border-bottom-left-radius: #{58rpx};\n        border: #{1rpx} solid #cdcdcd;\n        border-right: 0;\n        background-color: rgba(255, 255, 255, 0.8);\n        box-shadow: 0 0 #{10rpx} rgb(239, 239, 239);\n        text-align: center;\n    }\n\n    .scan button image {\n        height: #{64rpx};\n        width: #{64rpx};\n        margin-top: #{26rpx};\n    }\n\n    .item .card-img {\n        position: absolute;\n        top: #{40rpx};\n        left: #{24rpx};\n        width: #{88rpx};\n        height: #{88rpx};\n        border-radius: 50%;\n    }\n\n    .platform {\n        font-size: #{24rpx};\n        color: #999999;\n        height: #{24rpx};\n        margin-top: #{20rpx};\n    }\n\n    .platform-img {\n        height: #{24rpx};\n        width: #{24rpx};\n        margin-right: #{12rpx};\n    }\n\n    .card-name {\n        width: #{370rpx};\n        font-size: #{28rpx};\n        color: #353535;\n    }\n\n    .card-clerk {\n        position: absolute;\n        right: #{24rpx};\n        top: 0;\n        height: #{168rpx};\n    }\n\n    .card-clerk .clerked-img {\n        width: #{120rpx};\n        height: #{120rpx};\n    }\n\n    .no-tip {\n        position: fixed;\n        top: #{400rpx};\n        left: 0;\n        right: 0;\n        margin: 0 auto;\n        color: #666666;\n        font-size: #{24rpx};\n        width: #{240rpx};\n        text-align: center;\n    }\n\n    .no-tip image {\n        height: #{240rpx};\n        width: #{240rpx};\n        margin-bottom: #{20rpx};\n    }\n\n    .left-status {\n        border-top-left-radius: #{28rpx};\n        border-bottom-left-radius: #{28rpx};\n    }\n\n    .right-status {\n        border-top-right-radius: #{28rpx};\n        border-bottom-right-radius: #{28rpx};\n    }\n\n    .history-img {\n        height: #{34rpx};\n        width: #{28rpx};\n    }\n\n    .history-list {\n        max-height: #{420rpx};\n        overflow: hidden;\n    }\n\n    .item-top {\n        margin-bottom: #{28rpx};\n    }\n\n    .item-top .item-status {\n        font-size: #{24rpx};\n        color: #ff4544;\n    }\n\n    .goods-attr {\n        margin-bottom: #{16rpx};\n    }\n\n    .goods-attr text {\n        margin-right: #{18rpx};\n    }\n\n    .refund-text {\n        font-size: #{24rpx};\n        color: #ff4544;\n        margin-top: #{24rpx};\n        text-align: right;\n    }\n\n    .surplus-number {\n        font-size: 24#{rpx};\n        color: #999999;\n        margin: 12#{rpx} 0;\n    }\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&id=2ca19246&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&id=2ca19246&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658389762144\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}