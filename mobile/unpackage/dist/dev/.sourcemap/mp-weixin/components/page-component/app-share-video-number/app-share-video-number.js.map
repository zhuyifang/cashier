{"version":3,"sources":["webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/components/page-component/app-share-video-number/app-share-video-number.vue?5f8e","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/components/page-component/app-share-video-number/app-share-video-number.vue?3c95","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/components/page-component/app-share-video-number/app-share-video-number.vue?eea3","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/components/page-component/app-share-video-number/app-share-video-number.vue?63e5","uni-app:///components/page-component/app-share-video-number/app-share-video-number.vue","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/components/page-component/app-share-video-number/app-share-video-number.vue?3761","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/components/page-component/app-share-video-number/app-share-video-number.vue?901d"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+I;AAC/I;AAC0E;AACL;AACsC;;;AAG3G;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,4FAAM;AACR,EAAE,6GAAM;AACR,EAAE,sHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iHAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAk3B,CAAgB,ozBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgBt4B,gD;;AAEA;AACA,gCADA;AAEA;AACA;AACA,kBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EADA;;AAOA;AACA,mBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAPA;;AAaA,iBAbA,EAFA;;AAiBA,MAjBA,kBAiBA;AACA;AACA,qBADA;AAEA,eAFA;AAGA,sBAHA;AAIA,oBAJA;;AAMA,GAxBA;AAyBA;AACA;AACA,uEADA,GADA,CAzBA;;;AA8BA;AACA,UADA,kBACA,MADA,EACA,MADA,EACA;AACA;AACA;AACA;AACA,KALA,EA9BA;;AAqCA;AACA,eADA,yBACA;AACA;AACA;AACA,wCADA;AAEA;AACA,gCADA,EAFA;;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAZA,EAYA,KAZA,CAYA;;AAEA,OAdA;AAeA,KAlBA;AAmBA,iBAnBA,yBAmBA,OAnBA,EAmBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CADA;AAEA;AACA,6BADA,EAFA;;AAKA,YALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WALA,MAKA;AACA;AACA;AACA,SAfA;AAgBA,OAvBA,EAuBA,IAvBA;AAwBA;AACA,KA/CA;AAgDA,aAhDA,qBAgDA,GAhDA,EAgDA,QAhDA,EAgDA;AACA;AACA;AACA;AACA,oBADA;AAEA,yBAFA;AAGA;AACA;AACA,SALA;;;AAQA;AACA,KA5DA;AA6DA,YA7DA,sBA6DA;AACA;AACA,8BADA;AAEA,eAFA,qBAEA;AACA;AACA;AACA,SALA;;AAOA,KArEA;AAsEA,SAtEA,mBAsEA;AACA;AACA;AACA;AACA,KA1EA,EArCA,E;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAioD,CAAgB,28CAAG,EAAC,C;;;;;;;;;;;ACArpD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/page-component/app-share-video-number/app-share-video-number.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./app-share-video-number.vue?vue&type=template&id=39feddba&scoped=true&\"\nvar renderjs\nimport script from \"./app-share-video-number.vue?vue&type=script&lang=js&\"\nexport * from \"./app-share-video-number.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-share-video-number.vue?vue&type=style&index=0&id=39feddba&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39feddba\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/page-component/app-share-video-number/app-share-video-number.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=template&id=39feddba&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=script&lang=js&\"","<template>\n    <view v-if=\"isShow\" class=\"app-share-video-number\" @click.prevent.stop=\"\">\n       <!-- 视频号弹框 -->\n        <view class=\"item\" v-if=\"isLoading\">\n            <image @click.prevent.stop=\"close\" class=\"close\" src=\"/static/image/icon/icon-close.png\"></image>\n            <view class=\"title\">视频号链接</view>\n            <view v-if=\"article_url\">\n                <view class=\"content\">{{article_url}}</view>\n                <view @click.prevent.stop=\"copyText\" class=\"copy\">复制</view>\n            </view>\n            <image v-else :src=\"sph.loading\" class=\"loading\"></image>\n        </view>\n    </view>\n</template>\n\n<script>\n    import {mapGetters, mapState} from 'vuex';\n\n    export default {\n        name: 'app-share-video-number',\n        props: {\n            title: {\n                type: String,\n                default() {\n                    return '生成商品海报';\n                }\n            },\n            isShow: {\n                type: Boolean,\n                default() {\n                    return false\n                }\n            },\n            goodsId: null\n        },\n        data() {\n            return {\n                article_url: '',\n                number: 0,\n                isLoading: false,\n                interval: null,\n            }\n        },\n        computed: {\n            ...mapState({\n                sph: state => state.mallConfig.__wxapp_img.sph,\n            }),\n        },\n        watch: {\n            isShow(newVal, oldVal) {\n                if (newVal) {\n                    this.addMaterial()\n                }\n            }\n        },\n        methods: {\n            addMaterial() {\n                uni.showLoading({title: '加载中'});\n                this.$request({\n                    url: this.$api.goods.addMaterial,\n                    data: {\n                        goods_id:this.goodsId\n                    }\n                }).then(response => {\n                    uni.hideLoading();\n                    if (response.code === 0) {\n                        this.getArticleUrl(response.data.media_id);\n                    } else {\n                        this.showModal(response.msg, this.interval);\n                    }\n                }).catch(() => {\n\n                });\n            },\n            getArticleUrl(mediaId) {\n                this.article_url = '';\n                this.isLoading = true;\n                let interval = setInterval(()=> {\n                    this.number++;\n\n                    if (this.number > 15) {\n                        this.showModal('获取视频号链接异常,请稍后重试', interval);\n                    }\n\n                    this.$request({\n                        url: this.$api.goods.articleUrl,\n                        data: {\n                            media_id: mediaId\n                        }\n                    }).then(response => {\n                        uni.hideLoading();\n                        if (response.code === 0) {\n                            this.article_url = response.data.url;\n                            if (this.article_url) {\n                                clearInterval(interval);\n                            }\n                        } else {\n                            this.showModal(response.msg, interval);\n                        }\n                    });\n                }, 1000)\n                this.interval = interval;\n            },\n            showModal(msg, interval) {\n                this.isLoading = false;\n                this.number = 0;\n                uni.showModal({\n                    content: msg,\n                    showCancel: false,\n                    success: (() => {\n                        this.close();\n                    })\n\n                });\n                clearInterval(interval);\n            },\n            copyText() {\n                this.$utils.uniCopy({\n                    data: this.article_url,\n                    success(){\n                        uni.showToast({ title: '复制成功'});\n                        this.close()\n                    }\n                });\n            },\n            close() {\n                this.isLoading = false;\n                clearInterval(this.interval);\n                this.$emit('close', false);\n            }\n        }\n    }\n</script>\n\n\n<style scoped lang=\"scss\">\n    .app-share-video-number {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: #{750rpx};\n        height: 100%;\n        z-index: 3000;\n        position: fixed;\n        left: 0;\n\t    top: 0;\n        background-color: rgba(153, 153, 153, 0.5);\n\n        .item {\n            display: flex;\n            align-items: center;\n            flex-direction: column;\n            width: #{622rpx};\n            border-radius: #{16rpx};\n            position: relative;\n            background: #ffffff;\n\n            .close {\n                width: #{30rpx};\n                height: #{30rpx};\n                position: absolute;\n                top: #{24rpx};\n                right: #{24rpx};\n            }\n\n            .title {\n                color: #353535;\n                font-size: #{32rpx};\n                margin: #{40rpx} 0;\n            }\n\n            .content {\n                width: #{558rpx};\n                height: #{82rpx};\n                border-radius: #{16rpx};\n                background: #f7f7f7;\n                color: #353535;\n                font-size: #{28rpx};\n                padding: #{20rpx};\n                margin: 0 #{30rpx} #{30rpx};\n                overflow: hidden;\n                display: inline-block;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n            }\n            .copy {\n                height: #{90rpx};\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                font-size: #{34rpx};\n                color: #ff4544;\n                border-top: #{1rpx} solid #e2e2e2;\n            }\n\n            .hint {\n                text-align: center;\n                margin: #{30rpx} 0;\n            }\n\n            .loading {\n                width: #{150rpx};\n                height: #{150rpx};\n                margin-bottom: #{20rpx};\n            }\n        }\n    }\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=style&index=0&id=39feddba&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-share-video-number.vue?vue&type=style&index=0&id=39feddba&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658389793535\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}