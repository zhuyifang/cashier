{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/pages/poster/poster.vue?27cc","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/pages/poster/poster.vue?1842","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/pages/poster/poster.vue?016e","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/pages/poster/poster.vue?6285","uni-app:///pages/poster/poster.vue","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/pages/poster/poster.vue?81a1","webpack:////Users/yfzhu/客户资料/小豆芽/零售宝-2022/mobile/pages/poster/poster.vue?aa69"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,gG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAm1B,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsCv2B,gD;;AAEA;AACA,MADA,kBACA;AACA;AACA,gBADA;AAEA,kBAFA;AAGA,cAHA;;AAKA,GAPA;AAQA;AACA;AACA,wBADA,GADA;;AAIA;AACA,wFADA,GAJA,CARA;;;AAgBA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BADA;;AAGA;AACA;AACA;AACA;AACA,mCADA;;AAGA;AACA;AACA,gBADA;AAEA,kBAFA;AAGA,UAHA,CAGA;AACA,6BADA;AAEA,YAFA,GAEA,IAFA,CAEA,IAFA,CAEA,IAFA,GAEA,IAFA,CAEA,IAFA,CAEA,GAFA,GAEA,IAFA,CAEA,GAFA;AAGA;AACA;;AAEA;AACA;AACA,WAFA;AAGA,SANA,MAMA;AACA;AACA;AACA,OAfA,EAeA,KAfA,CAeA;AACA;AACA,OAjBA;AAkBA,KApCA;AAqCA,WArCA,qBAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BADA;;AAGA;AACA;AACA;AACA;AACA,mCADA;;AAGA;AACA;AACA,gBADA;AAEA,kBAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OAdA,EAcA,KAdA,CAcA;AACA;AACA,OAhBA;AAiBA,KAtEA,EAhBA;;;AAyFA,QAzFA,kBAyFA,OAzFA,EAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAlGA,E;;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAAslD,CAAgB,27CAAG,EAAC,C;;;;;;;;;;;ACA1mD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/poster/poster.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/poster/poster.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./poster.vue?vue&type=template&id=132a9d26&scoped=true&\"\nvar renderjs\nimport script from \"./poster.vue?vue&type=script&lang=js&\"\nexport * from \"./poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./poster.vue?vue&type=style&index=0&id=132a9d26&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"132a9d26\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/poster/poster.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=template&id=132a9d26&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=script&lang=js&\"","<template>\n    <app-layout>\n        <view id=\"head\" class=\"head\">\n            <view class=\"poster main-center cross-center\" :style=\"{'background-image': `url(${info.poster_bg})`}\">\n                <view class=\"dir-top-nowrap main-center user\">\n                    <image :src=\"info.avatar\"></image>\n                    <view>{{info.nickname}}</view>\n                </view>\n                <view class=\"dir-left-nowrap info\" v-if=\"coupon_id > 0\">\n                    <view class=\"main-center cross-center discout\" v-if=\"info.type == 1\">{{info.discount}}<text>折</text></view>\n                    <view class=\"main-center cross-center discout\" v-if=\"info.type == 2\"><text>￥</text>{{info.sub_price}}</view>\n                    <view class=\"use-info dir-top-nowrap main-center cross-center\">\n                        <view v-if=\"info.min_price || info.min_price == 0\" class=\"min-price\">{{info.min_price == 0 ? '无门槛使用' : '满'+ info.min_price +'可用'}}</view>\n                        <view v-if=\"info.discount_limit\">优惠上限:￥{{info.discount_limit}}</view>\n                        <view>{{info.appoint_type}}</view>\n                    </view>\n                </view>\n                <view class=\"expire\" v-if=\"coupon_id > 0 && info.expire_type\">\n                    <text>\n                        <text>有效期：</text>\n                        <text v-if=\"info.expire_type == '2'\">{{info.begin_time}} - {{info.end_time}}</text>\n                        <text v-else-if=\"info.expire_day > 0\">领取后{{info.expire_day}}天内有效</text>\n                    </text>\n                </view>\n                <view class=\"dir-left-nowrap cross-center info\" v-if=\"card_id > 0\">\n                    <image class=\"card-pic\" :src=\"info.pic_url\"></image>\n                    <view class=\"name t-omit-two\">{{info.name}}</view>\n                </view>\n                <image class=\"qrcode\" :src=\"info.qrcode\"></image>\n            </view>\n        </view>\n        <view class=\"button main-center cross-center\" @click=\"submitSave\"\n              :style=\"{'background-color': getTheme.background}\">保存图片\n        </view>\n    </app-layout>\n</template>\n\n<script>\n    import { mapState,mapGetters } from \"vuex\";\n\n    export default {\n        data() {\n            return {\n                card_id: 0,\n                coupon_id: 0,\n                info: {},\n            }\n        },\n        computed: {\n            ...mapGetters('mallConfig', {\n                getTheme: 'getTheme',\n            }),\n            ...mapState({\n                poster_img: state => state.mallConfig.__wxapp_img.poster,\n            })\n        },\n        methods: {\n            submitSave() {\n                this.$showLoading({text: '生成中'});\n                let that = this;\n                let url;\n                let para;\n                if(that.card_id > 0) {\n                    url = that.$api.poster.card_share;\n                    para = {\n                        cardId: that.card_id\n                    }\n                }\n                if(that.coupon_id > 0) {\n                    url = that.$api.poster.coupon_share;\n                    para = {\n                        coupon_id: that.coupon_id\n                    }\n                }\n                that.$request({\n                    url: url,\n                    data: para\n                }).then(info => {\n                    this.$hideLoading();\n                    let { code, data, msg } = info;\n                    if (code === 0) {\n                        const pic_url = data.pic_url;\n\n                        this.$utils.batchSave(pic_url, 'image').then(() => {\n                            uni.showToast({title: '保存成功'});\n                        });\n                    } else {\n                        uni.showToast({title: msg, icon: 'none'});\n                    }\n                }).catch(() => {\n                    this.$hideLoading();\n                })\n            },\n            getList() {\n                let that = this;\n                let url;\n                let para;\n                if(that.card_id > 0) {\n                    url = that.$api.poster.card;\n                    para = {\n                        cardId: that.card_id\n                    }\n                }\n                if(that.coupon_id > 0) {\n                    url = that.$api.poster.coupon;\n                    para = {\n                        coupon_id: that.coupon_id\n                    }\n                }\n                that.$request({\n                    url: url,\n                    data: para\n                }).then(response=>{\n                    if(response.code == 0) {\n                        that.info = response.data;\n                    }else {\n                        that.$hideLoading();\n                        uni.showToast({\n                            title: response.msg,\n                            icon: 'none',\n                            duration: 1000\n                        });\n                    }\n                }).catch(response => {\n                    that.$hideLoading();\n                });\n            },\n        },\n\n        onLoad(options) { this.$commonLoad.onload(options);\n            let that = this;\n            if(options.card_id > 0) {\n                that.card_id = options.card_id\n            }\n            if(options.coupon_id > 0) {\n                that.coupon_id = options.coupon_id\n            }\n            that.getList();\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    .head {\n        width: 100%;\n        .poster {\n            margin: #{50rpx} auto;\n            width: #{600rpx};\n            height: #{1067.2rpx};\n            background-size: 100% 100%;\n            background-position: center;\n            background-repeat: no-repeat;\n            position: relative;\n            .user {\n                position: absolute;\n                top: 52.8rpx;\n                left: 0;\n                right: 0;\n                width: 90%;\n                margin: 0 auto;\n                color: #fff;\n                font-size: 24rpx;\n                text-align: center;\n                image {\n                    border-radius: 50%;\n                    width: 104rpx;\n                    height: 104rpx;\n                    margin: 0 auto 20rpx;\n                }\n            }\n            .info {\n                position: absolute;\n                top: 274.8rpx;\n                left: 0;\n                color: #fff;\n                height: 156rpx;\n                width: 100%;\n                .card-pic {\n                    width: 96rpx;\n                    height: 96rpx;\n                    border-radius: 50%;\n                    margin: 0 19.2rpx 0 60.8rpx;\n                }\n                .name {\n                    width: 264rpx;\n                    color: #353535;\n                    font-size: 27rpx;\n                }\n                .discout {\n                    width: 228.8rpx;\n                    font-size: 48rpx;\n                    text {\n                        font-size: 27rpx;\n                        margin-top: 14rpx;\n                    }\n                }\n                .use-info {\n                    color: #353535;\n                    font-size: 24rpx;\n                    view {\n                        margin: 5rpx 0;\n                        width: 100%;\n                    }\n                    .min-price {\n                        font-size: 27rpx;\n                    }\n                }\n            }\n            .expire {\n                position: absolute;\n                bottom: 320rpx;\n                left: 0;\n                text-align: center;\n                width: 100%;\n                >text {\n                    border-radius: 24rpx;\n                    background-color: rgba(0,0,0,.2);\n                    padding: 9rpx 19.2rpx;\n                    color: #fff;\n                    font-size: 20rpx;\n                }\n            }\n            .qrcode {\n                position: absolute;\n                bottom: 110rpx;\n                left: 0;\n                right: 0;\n                width: 192rpx;\n                height: 192rpx;\n                margin: 0 auto;\n                border-radius: 50%;\n            }\n        }\n    }\n\n    .button {\n        font-size: #{32rpx};\n        border-radius: #{40rpx};\n        height: #{68rpx};\n        margin: 0 auto #{50rpx};\n        color: #ffffff;\n        width: #{500rpx};\n    }\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=style&index=0&id=132a9d26&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=style&index=0&id=132a9d26&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658389783381\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}